jQuery(function(a){window.WeDevs_Admin={imageUpload:function(b){b.preventDefault();var c=a(this),d=c.siblings("input.image_url");tb_show("","media-upload.php?post_id=0&amp;type=image&amp;TB_iframe=true"),window.send_to_editor=function(b){var e=a(b).attr("href");a(b).find("img").length>0&&(e=a(b).find("img").attr("src")),d.val(e);var f='<img src="'+e+'" alt="image" />';f+='<a href="#" class="remove-image"><span>Remove</span></a>',c.siblings(".image_placeholder").empty().append(f),tb_remove()}},removeImage:function(b){b.preventDefault();var c=a(this);c.parent(".image_placeholder").siblings("input.image_url").val(""),c.parent(".image_placeholder").empty()}}}),jQuery(function(a){a(".tips").tooltip(),a("select.grant_access_id").chosen(),a("ul.order-status").on("click","a.dokan-edit-status",function(){return a(this).addClass("dokan-hide").closest("li").next("li").removeClass("dokan-hide"),!1}),a("ul.order-status").on("click","a.dokan-cancel-status",function(){return a(this).closest("li").addClass("dokan-hide").prev("li").find("a.dokan-edit-status").removeClass("dokan-hide"),!1}),a("form#dokan-order-status-form").on("submit",function(b){b.preventDefault();var c=a(this),d=c.closest("li");d.block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}}),a.post(dokan.ajaxurl,c.serialize(),function(a){d.unblock();var b=d.prev();d.addClass("dokan-hide"),b.find("label").replaceWith(a),b.find("a.dokan-edit-status").removeClass("dokan-hide")})}),a("form#add-order-note").on("submit",function(b){return b.preventDefault(),a("textarea#add-note-content").val()?(a("#dokan-order-notes").block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}}),a.post(dokan.ajaxurl,a(this).serialize(),function(b){a("ul.order_notes").prepend(b),a("#dokan-order-notes").unblock(),a("#add-note-content").val("")}),!1):void 0}),a("#dokan-order-notes").on("click","a.delete_note",function(){var b=a(this).closest("li.note");a("#dokan-order-notes").block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}});var c={action:"woocommerce_delete_order_note",note_id:a(b).attr("rel"),security:a("#delete-note-security").val()};return a.post(dokan.ajaxurl,c,function(){a(b).remove(),a("#dokan-order-notes").unblock()}),!1}),a(".order_download_permissions").on("click","button.grant_access",function(){var b=a(this),c=a("select.grant_access_id").val();if(c){a(".order_download_permissions").block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}});var d={action:"dokan_grant_access_to_download",product_ids:c,loop:a(".order_download_permissions .panel").size(),order_id:b.data("order-id"),security:b.data("nonce")};return a.post(dokan.ajaxurl,d,function(b){b?a("#accordion").append(b):alert("Could not grant access - the user may already have permission for this file or billing email is not set. Ensure the billing email is set, and the order has been saved."),a(".datepicker").datepicker(),a(".order_download_permissions").unblock()}),!1}}),a(".order_download_permissions").on("click","button.revoke_access",function(b){b.preventDefault();var c=confirm("Are you sure you want to revoke access to this download?");if(c){var d=a(this),e=d.closest(".panel"),f=d.attr("rel").split(",")[0],g=d.attr("rel").split(",")[1];if(f>0){a(e).block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}});var h={action:"woocommerce_revoke_access_to_download",product_id:f,download_id:g,order_id:d.data("order-id"),security:d.data("nonce")};a.post(dokan.ajaxurl,h,function(){a(e).fadeOut("300",function(){a(e).remove()})})}else a(e).fadeOut("300",function(){a(e).remove()})}return!1})}),function(a){var b,c,d=a("#variants-holder"),e=a("#product_image_gallery"),f=a("#product_images_container ul.product_images"),g={init:function(){product_type="simple",a(".product-edit-container").on("click","._discounted_price",this.showDiscount),a(".product-edit-container").on("click","a.sale-schedule",this.showDiscountSchedule),a(".product-edit-container").on("click","input[type=checkbox]#_downloadable",this.downloadable),a(".product-edit-container").on("change","#_product_type",this.onChangeProductType),a("#product-attributes").on("click",".add-variant-category",this.variants.addCategory),a("#variants-holder").on("click",".box-header .row-remove",this.variants.removeCategory),a("#variants-holder").on("click",".item-action a.row-add",this.variants.addItem),a("#variants-holder").on("click",".item-action a.row-remove",this.variants.removeItem),a("#variable_product_options").on("click",".sale_schedule",this.variants.saleSchedule),a("#variable_product_options").on("click",".cancel_sale_schedule",this.variants.cancelSchedule),a("#variable_product_options").on("woocommerce_variations_added",this.variants.onVariantAdded),this.variants.dates(),this.variants.initSaleSchedule(),a(".save_attributes").on("click",this.variants.save),a("#dokan-product-images").on("click","a.add-product-images",this.gallery.addImages),a("#dokan-product-images").on("click","a.delete",this.gallery.deleteImage),this.gallery.sortable(),a(".product-edit-container").on("click","a.dokan-feat-image-btn",this.featuredImage.addImage),a(".product-edit-container").on("click","a.dokan-remove-feat-image",this.featuredImage.removeImage),a(".product-edit-container").on("click","a.upload_file_button",this.fileDownloadable),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-edit",this.sidebarToggle.showStatus),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-save",this.sidebarToggle.saveStatus),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-cacnel",this.sidebarToggle.cancel),a(".product-edit-container").on("click","a.insert-file-row",function(){return a(this).closest("table").find("tbody").append(a(this).data("row")),!1}),a(".product-edit-container").on("click","a.delete",function(){return a(this).closest("tr").remove(),!1})},showDiscount:function(){var b=a(this),c=b.is(":checked"),d=a(".special-price-container");c?d.removeClass("dokan-hide"):d.addClass("dokan-hide")},showDiscountSchedule:function(b){b.preventDefault(),a(".sale-schedule-container").slideToggle("fast")},onChangeProductType:function(){var b=a("#_product_type").val();"simple"===b?(product_type="simple",a("aside.downloadable").removeClass("dokan-hide"),a(".show_if_variable").addClass("dokan-hide"),a(".show_if_simple").removeClass("dokan-hide")):(product_type="variable",a("aside.downloadable").addClass("dokan-hide"),a(".show_if_variable").removeClass("dokan-hide"),a(".show_if_simple").addClass("dokan-hide"))},downloadable:function(){a(this).prop("checked")?a(this).closest("aside").find(".dokan-side-body").removeClass("dokan-hide"):a(this).closest("aside").find(".dokan-side-body").addClass("dokan-hide")},variants:{addCategory:function(b){b.preventDefault();var c=a(".inputs-box").length,e=_.template(a("#tmpl-sc-category").html(),{row:c});d.append(e).children(":last").hide().fadeIn(),"simple"===product_type&&d.find(".show_if_variable").hide()},removeCategory:function(b){b.preventDefault(),confirm("Sure?")&&a(this).parents(".inputs-box").fadeOut(function(){a(this).remove()})},addItem:function(b){b.preventDefault();var c=a(this),d=c.closest(".inputs-box"),e=c.closest("ul.option-couplet"),f=e.find("li").length,g=d.data("count"),h=_.template(a("#tmpl-sc-category-item").html());c.closest("li").after(h({row:g,col:f}))},removeItem:function(b){b.preventDefault();var c=a(this).parents("ul").find("li");c.length>1&&a(this).parents("li").fadeOut(function(){a(this).remove()})},save:function(){var b={post_id:a(this).data("id"),data:a(".woocommerce_attributes").find("input, select, textarea").serialize(),action:"dokan_save_attributes"},c=window.location.toString();a("#variants-holder").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),a.post(ajaxurl,b,function(b){console.log(b),a("#variable_product_options").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),a("#variable_product_options").load(c+" #variable_product_options_inner",function(){a("#variable_product_options").unblock()}),a("input.variable_is_downloadable, input.variable_is_virtual").trigger("change"),a("#variants-holder").unblock()})},initSaleSchedule:function(){a(".sale_price_dates_fields").each(function(){var b=a(this),c=!1,d=b.closest("div, table");b.find("input").each(function(){""!=a(this).val()&&(c=!0)}),c?(d.find(".sale_schedule").hide(),d.find(".sale_price_dates_fields").show()):(d.find(".sale_schedule").show(),d.find(".sale_price_dates_fields").hide())})},saleSchedule:function(){var b=a(this).closest("div, table");return a(this).hide(),b.find(".cancel_sale_schedule").show(),b.find(".sale_price_dates_fields").show(),!1},cancelSchedule:function(){var b=a(this).closest("div, table");return a(this).hide(),b.find(".sale_schedule").show(),b.find(".sale_price_dates_fields").hide(),b.find(".sale_price_dates_fields").find("input").val(""),!1},dates:function(){var b=a(".sale_price_dates_fields input").datepicker({defaultDate:"",dateFormat:"yy-mm-dd",numberOfMonths:1,onSelect:function(c){var d=a(this).is("#_sale_price_dates_from, .sale_price_dates_from")?"minDate":"maxDate",e=a(this).data("datepicker"),f=a.datepicker.parseDate(e.settings.dateFormat||a.datepicker._defaults.dateFormat,c,e.settings);b.not(this).datepicker("option",d,f)}})},onVariantAdded:function(){g.variants.dates()}},gallery:{addImages:function(a){a.preventDefault();var c=e.val();return b?void b.open():(b=wp.media.frames.downloadable_file=wp.media({title:"Add Images to Product Gallery",button:{text:"Add to gallery"},multiple:!0}),b.on("select",function(){var a=b.state().get("selection");a.map(function(a){a=a.toJSON(),a.id&&(c=c?c+","+a.id:a.id,f.append('                                <li class="image" data-attachment_id="'+a.id+'">                                    <img src="'+a.url+'" />                                    <ul class="actions">                                        <li><a href="#" class="delete" title="Delete image">Delete</a></li>                                    </ul>                                </li>'))}),e.val(c)}),void b.open())},deleteImage:function(b){b.preventDefault(),a(this).closest("li.image").remove();var c="";return a("#product_images_container ul li.image").css("cursor","default").each(function(){var b=a(this).attr("data-attachment_id");c=c+b+","}),e.val(c),!1},sortable:function(){f.sortable({items:"li.image",cursor:"move",scrollSensitivity:40,forcePlaceholderSize:!0,forceHelperSize:!1,helper:"clone",opacity:.65,placeholder:"dokan-sortable-placeholder",start:function(a,b){b.item.css("background-color","#f6f6f6")},stop:function(a,b){b.item.removeAttr("style")},update:function(){var b="";a("#product_images_container ul li.image").css("cursor","default").each(function(){var a=jQuery(this).attr("data-attachment_id");b=b+a+","}),e.val(b)}})}},featuredImage:{addImage:function(b){b.preventDefault();var d=a(this);return c?void c.open():(c=wp.media({title:"Upload featured image",button:{text:"Set featured image"}}),c.on("select",function(){var a=c.state().get("selection");a.map(function(a){a=a.toJSON(),console.log(a,d),d.siblings("input.dokan-feat-image-id").val(a.id);var b=d.closest(".instruction-inside"),c=b.siblings(".image-wrap");c.find("img").attr("src",a.url),b.addClass("dokan-hide"),c.removeClass("dokan-hide")})}),void c.open())},removeImage:function(b){b.preventDefault();var c=a(this),d=c.closest(".image-wrap"),e=d.siblings(".instruction-inside");e.find("input.dokan-feat-image-id").val("0"),d.addClass("dokan-hide"),e.removeClass("dokan-hide")}},fileDownloadable:function(b){b.preventDefault();var c,d=a(this);return c?void c.open():(c=wp.media({title:"Choose a file",button:{text:"Insert file URL"},multiple:!0}),c.on("select",function(){var a=c.state().get("selection");a.map(function(a){a=a.toJSON(),d.closest("tr").find("input.wc_file_url").val(a.url)})}),c.on("ready",function(){c.uploader.options.uploader.params={type:"downloadable_product"}}),void c.open())},sidebarToggle:{showStatus:function(){var b=a(this).siblings(".dokan-toggle-select-container");return b.is(":hidden")&&(b.slideDown("fast"),a(this).hide()),!1},saveStatus:function(){var b=a(this).closest(".dokan-toggle-select-container");b.slideUp("fast"),b.siblings("a.dokan-toggle-edit").show();var c=a("option:selected",b.find("select.dokan-toggle-select")).text();return b.siblings(".dokan-toggle-selected-display").html(c),!1},cancel:function(){var b=a(this).closest(".dokan-toggle-select-container");return b.slideUp("fast"),b.siblings("a.dokan-toggle-edit").show(),!1}}};a(function(){g.init(),a("#_product_type").trigger("change")})}(jQuery),function(a){var b={init:function(){a("#dokan-comments-table").on("click",".dokan-cmt-action",this.setCommentStatus),a("#dokan-comments-table").on("click","button.dokan-cmt-close-form",this.closeForm),a("#dokan-comments-table").on("click","button.dokan-cmt-submit-form",this.submitForm),a("#dokan-comments-table").on("click",".dokan-cmt-edit",this.populateForm),a(".dokan-check-all").on("click",this.toggleCheckbox)},toggleCheckbox:function(){a(".dokan-check-col").prop("checked",a(this).prop("checked"))},setCommentStatus:function(b){b.preventDefault();var c=a(this),d=c.data("comment_id"),e=c.data("cmt_status"),f=c.data("page_status"),g=c.data("post_type"),h=c.data("curr_page"),i=c.closest("tr"),j={action:"dokan_comment_status",comment_id:d,comment_status:e,page_status:f,post_type:g,curr_page:h,nonce:dokan.nonce};a.post(dokan.ajaxurl,j,function(b){i.fadeOut(1===f?1===e||0===e?function(){i.replaceWith(b.data.content).fadeIn()}:function(){a(this).remove()}:function(){a(this).remove()}),null==b.data.pending&&(b.data.pending=0),null==b.data.spam&&(b.data.spam=0),null==b.data.trash&&(b.data.trash=0),a(".comments-menu-pending").text(b.data.pending),a(".comments-menu-spam").text(b.data.spam),a(".comments-menu-trash").text(b.data.trash)})},populateForm:function(b){b.preventDefault();var c=a(this).closest("tr");if(c.next().hasClass("dokan-comment-edit-row"))return void c.next().remove();var d=a("#dokan-edit-comment-row").html(),e={author:c.find(".dokan-cmt-hid-author").text(),email:c.find(".dokan-cmt-hid-email").text(),url:c.find(".dokan-cmt-hid-url").text(),body:c.find(".dokan-cmt-hid-body").text(),id:c.find(".dokan-cmt-hid-id").text(),status:c.find(".dokan-cmt-hid-status").text()};c.after(_.template(d,e))},closeForm:function(b){b.preventDefault(),a(this).closest("tr.dokan-comment-edit-row").remove()},submitForm:function(b){b.preventDefault();var c=a(this),d=c.closest("tr.dokan-comment-edit-row"),e={action:"dokan_update_comment",comment_id:d.find("input.dokan-cmt-id").val(),content:d.find("textarea.dokan-cmt-body").val(),author:d.find("input.dokan-cmt-author").val(),email:d.find("input.dokan-cmt-author-email").val(),url:d.find("input.dokan-cmt-author-url").val(),status:d.find("input.dokan-cmt-status").val(),nonce:dokan.nonce,post_type:d.find("input.dokan-cmt-post-type").val()};a.post(dokan.ajaxurl,e,function(a){a.success===!0?(d.prev().replaceWith(a.data),d.remove()):alert(a.data)})}};a(function(){b.init()})}(jQuery),jQuery(function(a){function b(a,b,c){jQuery('<div class="chart-tooltip">'+c+"</div>").css({top:b-16,left:a+20}).appendTo("body").fadeIn(200)}a("ul.dropdown-menu li.dropdown").hover(function(){a(this).addClass("open")},function(){a(this).removeClass("open")}),a(".datepicker").datepicker({dateFormat:"yy-mm-dd"}),a(".tips").tooltip();var c=a("ul.dokan-dashboard-menu"),d=a(".dokan-dashboard-content");d.height()>c.height()&&c.css({height:d.height()}),a(window).width()<767?a("#cat-drop-stack li.has-children").on("click","> a",function(b){b.preventDefault(),a(this).siblings(".sub-category").slideToggle("fast")}):a("#cat-drop-stack li.has-children > .sub-category").each(function(b,c){var d=a(c),e=d.find(".sub-block").length;3==e?d.css("width","260%"):e>3&&d.css("width","340%")});var e=null,f=null;jQuery(".chart-placeholder").bind("plothover",function(a,c,d){if(d){if((e!=d.dataIndex||f!=d.seriesIndex)&&(e=d.dataIndex,f=d.seriesIndex,jQuery(".chart-tooltip").remove(),d.series.points.show||d.series.enable_tooltip)){var g=d.series.data[d.dataIndex][1];tooltip_content="",d.series.prepend_label&&(tooltip_content=tooltip_content+d.series.label+": "),d.series.prepend_tooltip&&(tooltip_content+=d.series.prepend_tooltip),tooltip_content+=g,d.series.append_tooltip&&(tooltip_content+=d.series.append_tooltip),d.series.pie.show?b(c.pageX,c.pageY,tooltip_content):b(d.pageX,d.pageY,tooltip_content)}}else jQuery(".chart-tooltip").remove(),e=null}),a("body").on("added_to_cart",function(b,c){a("i.fa-shopping-cart").removeClass("fa-spin"),a(".dokan-cart-amount-top > .amount").fadeOut("fast",function(){a(".dokan-cart-amount-top > .amount").html(c.amount).fadeIn("fast")})}),a("body").on("adding_to_cart",function(b,c){a(c).children("i").addClass("fa-spin")})}),jQuery(function(a){a(".user-role input[type=radio]").on("change",function(){var b=a(this).val();"seller"===b?a(".show_if_seller").slideDown():a(".show_if_seller").slideUp()}),a("#company-name").on("focusout",function(){var b=a(this).val().toLowerCase().replace(/-+/g,"").replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"");a("#seller-url").val(b),a("#url-alart").text(b),a("#seller-url").focus()}),a("#seller-url").keydown(function(b){a(this).val();-1!==a.inArray(b.keyCode,[46,8,9,27,13,91,109,110,173,189,190])||65==b.keyCode&&b.ctrlKey===!0||b.keyCode>=35&&b.keyCode<=39||(b.shiftKey||(b.keyCode<65||b.keyCode>90)&&(b.keyCode<48||b.keyCode>57))&&(b.keyCode<96||b.keyCode>105)&&b.preventDefault()}),a("#seller-url").keyup(function(){a("#url-alart").text(a(this).val())}),a("#shop-phone").keydown(function(b){-1!==a.inArray(b.keyCode,[46,8,9,27,13,91,107,109,110,187,189,190])||65==b.keyCode&&b.ctrlKey===!0||b.keyCode>=35&&b.keyCode<=39||(b.shiftKey||b.keyCode<48||b.keyCode>57)&&(b.keyCode<96||b.keyCode>105)&&b.preventDefault()}),a("#seller-url").on("focusout",function(){var b=a(this),c={action:"shop_url",url_slug:b.val(),_nonce:dokan.nonce};if(""!==b.val()){var d=b.closest(".form-row");d.block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}}),a.post(dokan.ajaxurl,c,function(b){0==b?(a("#url-alart").removeClass("text-success").addClass("text-danger"),a("#url-alart-mgs").removeClass("text-success").addClass("text-danger").text(dokan.seller.notAvailable)):(a("#url-alart").removeClass("text-danger").addClass("text-success"),a("#url-alart-mgs").removeClass("text-danger").addClass("text-success").text(dokan.seller.available)),d.unblock()})}})}),function(a){a.validator.setDefaults({ignore:":hidden"});var b=function(b,c){var d=a(c).closest(".form-group");d.addClass("has-error").append(b)},c=function(b,c){a(c).closest(".form-group").removeClass("has-error")},d={init:function(){var b=this;return a("a.dokan-banner-drag").on("click",this.imageUpload),a("a.dokan-remove-banner-image").on("click",this.removeBanner),a("a.dokan-gravatar-drag").on("click",this.gragatarImageUpload),a("a.dokan-remove-gravatar-image").on("click",this.removeGravatar),this.validateForm(b),!1},imageUpload:function(){var b,c=a(this);return b?void b.open():(b=wp.media.frames.file_frame=wp.media({title:jQuery(this).data("uploader_title"),button:{text:jQuery(this).data("uploader_button_text")},multiple:!1}),b.on("select",function(){var d=b.state().get("selection").first().toJSON(),e=c.closest(".dokan-banner");e.find("input.dokan-file-field").val(d.id),e.find("img.dokan-banner-img").attr("src",d.url),a(".image-wrap",e).removeClass("dokan-hide"),a(".button-area").addClass("dokan-hide")}),void b.open())},gragatarImageUpload:function(){var b,c=a(this);return b?void b.open():(b=wp.media.frames.file_frame=wp.media({title:jQuery(this).data("uploader_title"),button:{text:jQuery(this).data("uploader_button_text")},multiple:!1}),b.on("select",function(){var d=b.state().get("selection").first().toJSON(),e=c.closest(".dokan-gravatar");e.find("input.dokan-file-field").val(d.id),e.find("img.dokan-gravatar-img").attr("src",d.url),a(".gravatar-wrap",e).removeClass("dokan-hide"),a(".gravatar-button-area").addClass("dokan-hide")}),void b.open())},submitSettings:function(){var b=a("form#settings-form"),c=b.serialize()+"&action=dokan_settings";b.find(".ajax_prev").append('<span class="dokan-loading"> </span>'),a.post(dokan.ajaxurl,c,function(c){b.find("span.dokan-loading").remove(),a("html,body").animate({scrollTop:100}),a(".dokan-ajax-response").html(c.success?a("<div/>",{"class":"dokan-alert dokan-alert-success",html:"<p>"+c.data+"</p>"}):a("<div/>",{"class":"dokan-alert dokan-alert-danger",html:"<p>"+c.data+"</p>"}))})},validateForm:function(d){a("form#settings-form").validate({submitHandler:function(){d.submitSettings()},errorElement:"span",errorClass:"error",errorPlacement:b,success:c})},removeBanner:function(b){b.preventDefault();var c=a(this),d=c.closest(".image-wrap"),e=d.siblings(".button-area");d.find("input.dokan-file-field").val("0"),d.addClass("dokan-hide"),e.removeClass("dokan-hide")},removeGravatar:function(b){b.preventDefault();var c=a(this),d=c.closest(".gravatar-wrap"),e=d.siblings(".gravatar-button-area");d.find("input.dokan-file-field").val("0"),d.addClass("dokan-hide"),e.removeClass("dokan-hide")}},e={init:function(){var a=this;this.withdrawValidate(a)},withdrawValidate:function(){a("form.withdraw").validate({errorElement:"span",errorClass:"error",errorPlacement:b,success:c})}},f={init:function(){var a=this;this.couponsValidation(a)},couponsValidation:function(){a("form.coupons").validate({errorElement:"span",errorClass:"error",errorPlacement:b,success:c})}},g={init:function(){this.validate(this)},validate:function(){a("form#dokan-form-contact-seller").validate({errorPlacement:b,success:c,submitHandler:function(b){a(b).block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}});var c=a(b).serialize();a.post(dokan.ajaxurl,c,function(c){a(b).unblock(),"undefined"!=typeof c.data&&a(b).find(".ajax-response").html(c.data),a(b).find("input[type=text], input[type=email], textarea").val("").removeClass("valid")})}})}},h={init:function(){this.validate(this)},validate:function(){a("form#register").validate({errorPlacement:b,success:c,submitHandler:function(a){a.submit()}})}};a(function(){d.init(),e.init(),f.init(),g.init(),h.init()})}(jQuery),jQuery(function(a){window.WeDevs_Admin={imageUpload:function(b){b.preventDefault();var c=a(this),d=c.siblings("input.image_url");tb_show("","media-upload.php?post_id=0&amp;type=image&amp;TB_iframe=true"),window.send_to_editor=function(b){var e=a(b).attr("href");a(b).find("img").length>0&&(e=a(b).find("img").attr("src")),d.val(e);var f='<img src="'+e+'" alt="image" />';f+='<a href="#" class="remove-image"><span>Remove</span></a>',c.siblings(".image_placeholder").empty().append(f),tb_remove()}},removeImage:function(b){b.preventDefault();var c=a(this);c.parent(".image_placeholder").siblings("input.image_url").val(""),c.parent(".image_placeholder").empty()}}}),jQuery(function(a){a(".tips").tooltip(),a("select.grant_access_id").chosen(),a("ul.order-status").on("click","a.dokan-edit-status",function(){return a(this).addClass("dokan-hide").closest("li").next("li").removeClass("dokan-hide"),!1}),a("ul.order-status").on("click","a.dokan-cancel-status",function(){return a(this).closest("li").addClass("dokan-hide").prev("li").find("a.dokan-edit-status").removeClass("dokan-hide"),!1}),a("form#dokan-order-status-form").on("submit",function(b){b.preventDefault();var c=a(this),d=c.closest("li");d.block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}}),a.post(dokan.ajaxurl,c.serialize(),function(a){d.unblock();var b=d.prev();d.addClass("dokan-hide"),b.find("label").replaceWith(a),b.find("a.dokan-edit-status").removeClass("dokan-hide")})}),a("form#add-order-note").on("submit",function(b){return b.preventDefault(),a("textarea#add-note-content").val()?(a("#dokan-order-notes").block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}}),a.post(dokan.ajaxurl,a(this).serialize(),function(b){a("ul.order_notes").prepend(b),a("#dokan-order-notes").unblock(),a("#add-note-content").val("")}),!1):void 0}),a("#dokan-order-notes").on("click","a.delete_note",function(){var b=a(this).closest("li.note");a("#dokan-order-notes").block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}});var c={action:"woocommerce_delete_order_note",note_id:a(b).attr("rel"),security:a("#delete-note-security").val()};return a.post(dokan.ajaxurl,c,function(){a(b).remove(),a("#dokan-order-notes").unblock()}),!1}),a(".order_download_permissions").on("click","button.grant_access",function(){var b=a(this),c=a("select.grant_access_id").val();if(c){a(".order_download_permissions").block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}});var d={action:"dokan_grant_access_to_download",product_ids:c,loop:a(".order_download_permissions .panel").size(),order_id:b.data("order-id"),security:b.data("nonce")};return a.post(dokan.ajaxurl,d,function(b){b?a("#accordion").append(b):alert("Could not grant access - the user may already have permission for this file or billing email is not set. Ensure the billing email is set, and the order has been saved."),a(".datepicker").datepicker(),a(".order_download_permissions").unblock()}),!1}}),a(".order_download_permissions").on("click","button.revoke_access",function(b){b.preventDefault();var c=confirm("Are you sure you want to revoke access to this download?");if(c){var d=a(this),e=d.closest(".panel"),f=d.attr("rel").split(",")[0],g=d.attr("rel").split(",")[1];if(f>0){a(e).block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}});var h={action:"woocommerce_revoke_access_to_download",product_id:f,download_id:g,order_id:d.data("order-id"),security:d.data("nonce")};a.post(dokan.ajaxurl,h,function(){a(e).fadeOut("300",function(){a(e).remove()})})}else a(e).fadeOut("300",function(){a(e).remove()})}return!1})}),function(a){var b,c,d=a("#variants-holder"),e=a("#product_image_gallery"),f=a("#product_images_container ul.product_images"),g={init:function(){product_type="simple",a(".product-edit-container").on("click","._discounted_price",this.showDiscount),a(".product-edit-container").on("click","a.sale-schedule",this.showDiscountSchedule),a(".product-edit-container").on("click","input[type=checkbox]#_downloadable",this.downloadable),a(".product-edit-container").on("change","#_product_type",this.onChangeProductType),a("#product-attributes").on("click",".add-variant-category",this.variants.addCategory),a("#variants-holder").on("click",".box-header .row-remove",this.variants.removeCategory),a("#variants-holder").on("click",".item-action a.row-add",this.variants.addItem),a("#variants-holder").on("click",".item-action a.row-remove",this.variants.removeItem),a("#variable_product_options").on("click",".sale_schedule",this.variants.saleSchedule),a("#variable_product_options").on("click",".cancel_sale_schedule",this.variants.cancelSchedule),a("#variable_product_options").on("woocommerce_variations_added",this.variants.onVariantAdded),this.variants.dates(),this.variants.initSaleSchedule(),a(".save_attributes").on("click",this.variants.save),a("#dokan-product-images").on("click","a.add-product-images",this.gallery.addImages),a("#dokan-product-images").on("click","a.delete",this.gallery.deleteImage),this.gallery.sortable(),a(".product-edit-container").on("click","a.dokan-feat-image-btn",this.featuredImage.addImage),a(".product-edit-container").on("click","a.dokan-remove-feat-image",this.featuredImage.removeImage),a(".product-edit-container").on("click","a.upload_file_button",this.fileDownloadable),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-edit",this.sidebarToggle.showStatus),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-save",this.sidebarToggle.saveStatus),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-cacnel",this.sidebarToggle.cancel),a(".product-edit-container").on("click","a.insert-file-row",function(){return a(this).closest("table").find("tbody").append(a(this).data("row")),!1}),a(".product-edit-container").on("click","a.delete",function(){return a(this).closest("tr").remove(),!1})},showDiscount:function(){var b=a(this),c=b.is(":checked"),d=a(".special-price-container");c?d.removeClass("dokan-hide"):d.addClass("dokan-hide")},showDiscountSchedule:function(b){b.preventDefault(),a(".sale-schedule-container").slideToggle("fast")},onChangeProductType:function(){var b=a("#_product_type").val();"simple"===b?(product_type="simple",a("aside.downloadable").removeClass("dokan-hide"),a(".show_if_variable").addClass("dokan-hide"),a(".show_if_simple").removeClass("dokan-hide")):(product_type="variable",a("aside.downloadable").addClass("dokan-hide"),a(".show_if_variable").removeClass("dokan-hide"),a(".show_if_simple").addClass("dokan-hide"))},downloadable:function(){a(this).prop("checked")?a(this).closest("aside").find(".dokan-side-body").removeClass("dokan-hide"):a(this).closest("aside").find(".dokan-side-body").addClass("dokan-hide")},variants:{addCategory:function(b){b.preventDefault();var c=a(".inputs-box").length,e=_.template(a("#tmpl-sc-category").html(),{row:c});d.append(e).children(":last").hide().fadeIn(),"simple"===product_type&&d.find(".show_if_variable").hide()},removeCategory:function(b){b.preventDefault(),confirm("Sure?")&&a(this).parents(".inputs-box").fadeOut(function(){a(this).remove()})},addItem:function(b){b.preventDefault();var c=a(this),d=c.closest(".inputs-box"),e=c.closest("ul.option-couplet"),f=e.find("li").length,g=d.data("count"),h=_.template(a("#tmpl-sc-category-item").html());c.closest("li").after(h({row:g,col:f}))},removeItem:function(b){b.preventDefault();var c=a(this).parents("ul").find("li");c.length>1&&a(this).parents("li").fadeOut(function(){a(this).remove()})},save:function(){var b={post_id:a(this).data("id"),data:a(".woocommerce_attributes").find("input, select, textarea").serialize(),action:"dokan_save_attributes"},c=window.location.toString();a("#variants-holder").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),a.post(ajaxurl,b,function(b){console.log(b),a("#variable_product_options").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),a("#variable_product_options").load(c+" #variable_product_options_inner",function(){a("#variable_product_options").unblock()}),a("input.variable_is_downloadable, input.variable_is_virtual").trigger("change"),a("#variants-holder").unblock()})},initSaleSchedule:function(){a(".sale_price_dates_fields").each(function(){var b=a(this),c=!1,d=b.closest("div, table");b.find("input").each(function(){""!=a(this).val()&&(c=!0)}),c?(d.find(".sale_schedule").hide(),d.find(".sale_price_dates_fields").show()):(d.find(".sale_schedule").show(),d.find(".sale_price_dates_fields").hide())})},saleSchedule:function(){var b=a(this).closest("div, table");return a(this).hide(),b.find(".cancel_sale_schedule").show(),b.find(".sale_price_dates_fields").show(),!1},cancelSchedule:function(){var b=a(this).closest("div, table");return a(this).hide(),b.find(".sale_schedule").show(),b.find(".sale_price_dates_fields").hide(),b.find(".sale_price_dates_fields").find("input").val(""),!1},dates:function(){var b=a(".sale_price_dates_fields input").datepicker({defaultDate:"",dateFormat:"yy-mm-dd",numberOfMonths:1,onSelect:function(c){var d=a(this).is("#_sale_price_dates_from, .sale_price_dates_from")?"minDate":"maxDate",e=a(this).data("datepicker"),f=a.datepicker.parseDate(e.settings.dateFormat||a.datepicker._defaults.dateFormat,c,e.settings);b.not(this).datepicker("option",d,f)}})},onVariantAdded:function(){g.variants.dates()}},gallery:{addImages:function(a){a.preventDefault();var c=e.val();return b?void b.open():(b=wp.media.frames.downloadable_file=wp.media({title:"Add Images to Product Gallery",button:{text:"Add to gallery"},multiple:!0}),b.on("select",function(){var a=b.state().get("selection");
a.map(function(a){a=a.toJSON(),a.id&&(c=c?c+","+a.id:a.id,f.append('                                <li class="image" data-attachment_id="'+a.id+'">                                    <img src="'+a.url+'" />                                    <ul class="actions">                                        <li><a href="#" class="delete" title="Delete image">Delete</a></li>                                    </ul>                                </li>'))}),e.val(c)}),void b.open())},deleteImage:function(b){b.preventDefault(),a(this).closest("li.image").remove();var c="";return a("#product_images_container ul li.image").css("cursor","default").each(function(){var b=a(this).attr("data-attachment_id");c=c+b+","}),e.val(c),!1},sortable:function(){f.sortable({items:"li.image",cursor:"move",scrollSensitivity:40,forcePlaceholderSize:!0,forceHelperSize:!1,helper:"clone",opacity:.65,placeholder:"dokan-sortable-placeholder",start:function(a,b){b.item.css("background-color","#f6f6f6")},stop:function(a,b){b.item.removeAttr("style")},update:function(){var b="";a("#product_images_container ul li.image").css("cursor","default").each(function(){var a=jQuery(this).attr("data-attachment_id");b=b+a+","}),e.val(b)}})}},featuredImage:{addImage:function(b){b.preventDefault();var d=a(this);return c?void c.open():(c=wp.media({title:"Upload featured image",button:{text:"Set featured image"}}),c.on("select",function(){var a=c.state().get("selection");a.map(function(a){a=a.toJSON(),console.log(a,d),d.siblings("input.dokan-feat-image-id").val(a.id);var b=d.closest(".instruction-inside"),c=b.siblings(".image-wrap");c.find("img").attr("src",a.url),b.addClass("dokan-hide"),c.removeClass("dokan-hide")})}),void c.open())},removeImage:function(b){b.preventDefault();var c=a(this),d=c.closest(".image-wrap"),e=d.siblings(".instruction-inside");e.find("input.dokan-feat-image-id").val("0"),d.addClass("dokan-hide"),e.removeClass("dokan-hide")}},fileDownloadable:function(b){b.preventDefault();var c,d=a(this);return c?void c.open():(c=wp.media({title:"Choose a file",button:{text:"Insert file URL"},multiple:!0}),c.on("select",function(){var a=c.state().get("selection");a.map(function(a){a=a.toJSON(),d.closest("tr").find("input.wc_file_url").val(a.url)})}),c.on("ready",function(){c.uploader.options.uploader.params={type:"downloadable_product"}}),void c.open())},sidebarToggle:{showStatus:function(){var b=a(this).siblings(".dokan-toggle-select-container");return b.is(":hidden")&&(b.slideDown("fast"),a(this).hide()),!1},saveStatus:function(){var b=a(this).closest(".dokan-toggle-select-container");b.slideUp("fast"),b.siblings("a.dokan-toggle-edit").show();var c=a("option:selected",b.find("select.dokan-toggle-select")).text();return b.siblings(".dokan-toggle-selected-display").html(c),!1},cancel:function(){var b=a(this).closest(".dokan-toggle-select-container");return b.slideUp("fast"),b.siblings("a.dokan-toggle-edit").show(),!1}}};a(function(){g.init(),a("#_product_type").trigger("change")})}(jQuery),function(a){var b={init:function(){a("#dokan-comments-table").on("click",".dokan-cmt-action",this.setCommentStatus),a("#dokan-comments-table").on("click","button.dokan-cmt-close-form",this.closeForm),a("#dokan-comments-table").on("click","button.dokan-cmt-submit-form",this.submitForm),a("#dokan-comments-table").on("click",".dokan-cmt-edit",this.populateForm),a(".dokan-check-all").on("click",this.toggleCheckbox)},toggleCheckbox:function(){a(".dokan-check-col").prop("checked",a(this).prop("checked"))},setCommentStatus:function(b){b.preventDefault();var c=a(this),d=c.data("comment_id"),e=c.data("cmt_status"),f=c.data("page_status"),g=c.data("post_type"),h=c.data("curr_page"),i=c.closest("tr"),j={action:"dokan_comment_status",comment_id:d,comment_status:e,page_status:f,post_type:g,curr_page:h,nonce:dokan.nonce};a.post(dokan.ajaxurl,j,function(b){i.fadeOut(1===f&&(1===e||0===e)?function(){i.replaceWith(b.data.content).fadeIn()}:function(){a(this).remove()}),null==b.data.pending&&(b.data.pending=0),null==b.data.spam&&(b.data.spam=0),null==b.data.trash&&(b.data.trash=0),a(".comments-menu-pending").text(b.data.pending),a(".comments-menu-spam").text(b.data.spam),a(".comments-menu-trash").text(b.data.trash)})},populateForm:function(b){b.preventDefault();var c=a(this).closest("tr");if(c.next().hasClass("dokan-comment-edit-row"))return void c.next().remove();var d=a("#dokan-edit-comment-row").html(),e={author:c.find(".dokan-cmt-hid-author").text(),email:c.find(".dokan-cmt-hid-email").text(),url:c.find(".dokan-cmt-hid-url").text(),body:c.find(".dokan-cmt-hid-body").text(),id:c.find(".dokan-cmt-hid-id").text(),status:c.find(".dokan-cmt-hid-status").text()};c.after(_.template(d,e))},closeForm:function(b){b.preventDefault(),a(this).closest("tr.dokan-comment-edit-row").remove()},submitForm:function(b){b.preventDefault();var c=a(this),d=c.closest("tr.dokan-comment-edit-row"),e={action:"dokan_update_comment",comment_id:d.find("input.dokan-cmt-id").val(),content:d.find("textarea.dokan-cmt-body").val(),author:d.find("input.dokan-cmt-author").val(),email:d.find("input.dokan-cmt-author-email").val(),url:d.find("input.dokan-cmt-author-url").val(),status:d.find("input.dokan-cmt-status").val(),nonce:dokan.nonce,post_type:d.find("input.dokan-cmt-post-type").val()};a.post(dokan.ajaxurl,e,function(a){a.success===!0?(d.prev().replaceWith(a.data),d.remove()):alert(a.data)})}};a(function(){b.init()})}(jQuery),jQuery(function(a){function b(a,b,c){jQuery('<div class="chart-tooltip">'+c+"</div>").css({top:b-16,left:a+20}).appendTo("body").fadeIn(200)}a("ul.dropdown-menu li.dropdown").hover(function(){a(this).addClass("open")},function(){a(this).removeClass("open")}),a(".datepicker").datepicker({dateFormat:"yy-mm-dd"}),a(".tips").tooltip();var c=a("ul.dokan-dashboard-menu"),d=a(".dokan-dashboard-content");d.height()>c.height()&&c.css({height:d.height()}),a(window).width()<767?a("#cat-drop-stack li.has-children").on("click","> a",function(b){b.preventDefault(),a(this).siblings(".sub-category").slideToggle("fast")}):a("#cat-drop-stack li.has-children > .sub-category").each(function(b,c){var d=a(c),e=d.find(".sub-block").length;3==e?d.css("width","260%"):e>3&&d.css("width","340%")});var e=null,f=null;jQuery(".chart-placeholder").bind("plothover",function(a,c,d){if(d){if((e!=d.dataIndex||f!=d.seriesIndex)&&(e=d.dataIndex,f=d.seriesIndex,jQuery(".chart-tooltip").remove(),d.series.points.show||d.series.enable_tooltip)){var g=d.series.data[d.dataIndex][1];tooltip_content="",d.series.prepend_label&&(tooltip_content=tooltip_content+d.series.label+": "),d.series.prepend_tooltip&&(tooltip_content+=d.series.prepend_tooltip),tooltip_content+=g,d.series.append_tooltip&&(tooltip_content+=d.series.append_tooltip),d.series.pie.show?b(c.pageX,c.pageY,tooltip_content):b(d.pageX,d.pageY,tooltip_content)}}else jQuery(".chart-tooltip").remove(),e=null}),a("body").on("added_to_cart",function(b,c){a("i.fa-shopping-cart").removeClass("fa-spin"),a(".dokan-cart-amount-top > .amount").fadeOut("fast",function(){a(".dokan-cart-amount-top > .amount").html(c.amount).fadeIn("fast")})}),a("body").on("adding_to_cart",function(b,c){a(c).children("i").addClass("fa-spin")})}),jQuery(function(a){a(".user-role input[type=radio]").on("change",function(){var b=a(this).val();"seller"===b?a(".show_if_seller").slideDown():a(".show_if_seller").slideUp()}),a("#company-name").on("focusout",function(){var b=a(this).val().toLowerCase().replace(/-+/g,"").replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"");a("#seller-url").val(b),a("#url-alart").text(b),a("#seller-url").focus()}),a("#seller-url").keydown(function(b){a(this).val(),-1!==a.inArray(b.keyCode,[46,8,9,27,13,91,109,110,173,189,190])||65==b.keyCode&&b.ctrlKey===!0||b.keyCode>=35&&b.keyCode<=39||(b.shiftKey||(b.keyCode<65||b.keyCode>90)&&(b.keyCode<48||b.keyCode>57))&&(b.keyCode<96||b.keyCode>105)&&b.preventDefault()}),a("#seller-url").keyup(function(){a("#url-alart").text(a(this).val())}),a("#shop-phone").keydown(function(b){-1!==a.inArray(b.keyCode,[46,8,9,27,13,91,107,109,110,187,189,190])||65==b.keyCode&&b.ctrlKey===!0||b.keyCode>=35&&b.keyCode<=39||(b.shiftKey||b.keyCode<48||b.keyCode>57)&&(b.keyCode<96||b.keyCode>105)&&b.preventDefault()}),a("#seller-url").on("focusout",function(){var b=a(this),c={action:"shop_url",url_slug:b.val(),_nonce:dokan.nonce};if(""!==b.val()){var d=b.closest(".form-row");d.block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}}),a.post(dokan.ajaxurl,c,function(b){0==b?(a("#url-alart").removeClass("text-success").addClass("text-danger"),a("#url-alart-mgs").removeClass("text-success").addClass("text-danger").text(dokan.seller.notAvailable)):(a("#url-alart").removeClass("text-danger").addClass("text-success"),a("#url-alart-mgs").removeClass("text-danger").addClass("text-success").text(dokan.seller.available)),d.unblock()})}})}),function(a){a.validator.setDefaults({ignore:":hidden"});var b=function(b,c){var d=a(c).closest(".form-group");d.addClass("has-error").append(b)},c=function(b,c){a(c).closest(".form-group").removeClass("has-error")},d={init:function(){var b=this;return a("a.dokan-banner-drag").on("click",this.imageUpload),a("a.dokan-remove-banner-image").on("click",this.removeBanner),a("a.dokan-gravatar-drag").on("click",this.gragatarImageUpload),a("a.dokan-remove-gravatar-image").on("click",this.removeGravatar),this.validateForm(b),!1},imageUpload:function(){var b,c=a(this);return b?void b.open():(b=wp.media.frames.file_frame=wp.media({title:jQuery(this).data("uploader_title"),button:{text:jQuery(this).data("uploader_button_text")},multiple:!1}),b.on("select",function(){var d=b.state().get("selection").first().toJSON(),e=c.closest(".dokan-banner");e.find("input.dokan-file-field").val(d.id),e.find("img.dokan-banner-img").attr("src",d.url),a(".image-wrap",e).removeClass("dokan-hide"),a(".button-area").addClass("dokan-hide")}),void b.open())},gragatarImageUpload:function(){var b,c=a(this);return b?void b.open():(b=wp.media.frames.file_frame=wp.media({title:jQuery(this).data("uploader_title"),button:{text:jQuery(this).data("uploader_button_text")},multiple:!1}),b.on("select",function(){var d=b.state().get("selection").first().toJSON(),e=c.closest(".dokan-gravatar");e.find("input.dokan-file-field").val(d.id),e.find("img.dokan-gravatar-img").attr("src",d.url),a(".gravatar-wrap",e).removeClass("dokan-hide"),a(".gravatar-button-area").addClass("dokan-hide")}),void b.open())},submitSettings:function(){var b=a("form#settings-form"),c=b.serialize()+"&action=dokan_settings";b.find(".ajax_prev").append('<span class="dokan-loading"> </span>'),a.post(dokan.ajaxurl,c,function(c){b.find("span.dokan-loading").remove(),a("html,body").animate({scrollTop:100}),a(".dokan-ajax-response").html(c.success?a("<div/>",{"class":"dokan-alert dokan-alert-success",html:"<p>"+c.data+"</p>"}):a("<div/>",{"class":"dokan-alert dokan-alert-danger",html:"<p>"+c.data+"</p>"}))})},validateForm:function(d){a("form#settings-form").validate({submitHandler:function(){d.submitSettings()},errorElement:"span",errorClass:"error",errorPlacement:b,success:c})},removeBanner:function(b){b.preventDefault();var c=a(this),d=c.closest(".image-wrap"),e=d.siblings(".button-area");d.find("input.dokan-file-field").val("0"),d.addClass("dokan-hide"),e.removeClass("dokan-hide")},removeGravatar:function(b){b.preventDefault();var c=a(this),d=c.closest(".gravatar-wrap"),e=d.siblings(".gravatar-button-area");d.find("input.dokan-file-field").val("0"),d.addClass("dokan-hide"),e.removeClass("dokan-hide")}},e={init:function(){var a=this;this.withdrawValidate(a)},withdrawValidate:function(){a("form.withdraw").validate({errorElement:"span",errorClass:"error",errorPlacement:b,success:c})}},f={init:function(){var a=this;this.couponsValidation(a)},couponsValidation:function(){a("form.coupons").validate({errorElement:"span",errorClass:"error",errorPlacement:b,success:c})}},g={init:function(){this.validate(this)},validate:function(){a("form#dokan-form-contact-seller").validate({errorPlacement:b,success:c,submitHandler:function(b){a(b).block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}});var c=a(b).serialize();a.post(dokan.ajaxurl,c,function(c){a(b).unblock(),"undefined"!=typeof c.data&&a(b).find(".ajax-response").html(c.data),a(b).find("input[type=text], input[type=email], textarea").val("").removeClass("valid")})}})}},h={init:function(){this.validate(this)},validate:function(){a("form#register").validate({errorPlacement:b,success:c,submitHandler:function(a){a.submit()}})}};a(function(){d.init(),e.init(),f.init(),g.init(),h.init()})}(jQuery),jQuery(function(a){window.WeDevs_Admin={imageUpload:function(b){b.preventDefault();var c=a(this),d=c.siblings("input.image_url");tb_show("","media-upload.php?post_id=0&amp;type=image&amp;TB_iframe=true"),window.send_to_editor=function(b){var e=a(b).attr("href");a(b).find("img").length>0&&(e=a(b).find("img").attr("src")),d.val(e);var f='<img src="'+e+'" alt="image" />';f+='<a href="#" class="remove-image"><span>Remove</span></a>',c.siblings(".image_placeholder").empty().append(f),tb_remove()}},removeImage:function(b){b.preventDefault();var c=a(this);c.parent(".image_placeholder").siblings("input.image_url").val(""),c.parent(".image_placeholder").empty()}}}),jQuery(function(a){a(".tips").tooltip(),a("select.grant_access_id").chosen(),a("ul.order-status").on("click","a.dokan-edit-status",function(){return a(this).addClass("dokan-hide").closest("li").next("li").removeClass("dokan-hide"),!1}),a("ul.order-status").on("click","a.dokan-cancel-status",function(){return a(this).closest("li").addClass("dokan-hide").prev("li").find("a.dokan-edit-status").removeClass("dokan-hide"),!1}),a("form#dokan-order-status-form").on("submit",function(b){b.preventDefault();var c=a(this),d=c.closest("li");d.block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}}),a.post(dokan.ajaxurl,c.serialize(),function(a){d.unblock();var b=d.prev();d.addClass("dokan-hide"),b.find("label").replaceWith(a),b.find("a.dokan-edit-status").removeClass("dokan-hide")})}),a("form#add-order-note").on("submit",function(b){return b.preventDefault(),a("textarea#add-note-content").val()?(a("#dokan-order-notes").block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}}),a.post(dokan.ajaxurl,a(this).serialize(),function(b){a("ul.order_notes").prepend(b),a("#dokan-order-notes").unblock(),a("#add-note-content").val("")}),!1):void 0}),a("#dokan-order-notes").on("click","a.delete_note",function(){var b=a(this).closest("li.note");a("#dokan-order-notes").block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}});var c={action:"woocommerce_delete_order_note",note_id:a(b).attr("rel"),security:a("#delete-note-security").val()};return a.post(dokan.ajaxurl,c,function(){a(b).remove(),a("#dokan-order-notes").unblock()}),!1}),a(".order_download_permissions").on("click","button.grant_access",function(){var b=a(this),c=a("select.grant_access_id").val();if(c){a(".order_download_permissions").block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}});var d={action:"dokan_grant_access_to_download",product_ids:c,loop:a(".order_download_permissions .panel").size(),order_id:b.data("order-id"),security:b.data("nonce")};return a.post(dokan.ajaxurl,d,function(b){b?a("#accordion").append(b):alert("Could not grant access - the user may already have permission for this file or billing email is not set. Ensure the billing email is set, and the order has been saved."),a(".datepicker").datepicker(),a(".order_download_permissions").unblock()}),!1}}),a(".order_download_permissions").on("click","button.revoke_access",function(b){b.preventDefault();var c=confirm("Are you sure you want to revoke access to this download?");if(c){var d=a(this),e=d.closest(".panel"),f=d.attr("rel").split(",")[0],g=d.attr("rel").split(",")[1];if(f>0){a(e).block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}});var h={action:"woocommerce_revoke_access_to_download",product_id:f,download_id:g,order_id:d.data("order-id"),security:d.data("nonce")};a.post(dokan.ajaxurl,h,function(){a(e).fadeOut("300",function(){a(e).remove()})})}else a(e).fadeOut("300",function(){a(e).remove()})}return!1})}),function(a){var b,c,d=a("#variants-holder"),e=a("#product_image_gallery"),f=a("#product_images_container ul.product_images"),g={init:function(){product_type="simple",a(".product-edit-container").on("click","._discounted_price",this.showDiscount),a(".product-edit-container").on("click","a.sale-schedule",this.showDiscountSchedule),a(".product-edit-container").on("click","input[type=checkbox]#_downloadable",this.downloadable),a(".product-edit-container").on("change","#_product_type",this.onChangeProductType),a("#product-attributes").on("click",".add-variant-category",this.variants.addCategory),a("#variants-holder").on("click",".box-header .row-remove",this.variants.removeCategory),a("#variants-holder").on("click",".item-action a.row-add",this.variants.addItem),a("#variants-holder").on("click",".item-action a.row-remove",this.variants.removeItem),a("#variable_product_options").on("click",".sale_schedule",this.variants.saleSchedule),a("#variable_product_options").on("click",".cancel_sale_schedule",this.variants.cancelSchedule),a("#variable_product_options").on("woocommerce_variations_added",this.variants.onVariantAdded),this.variants.dates(),this.variants.initSaleSchedule(),a(".save_attributes").on("click",this.variants.save),a("#dokan-product-images").on("click","a.add-product-images",this.gallery.addImages),a("#dokan-product-images").on("click","a.delete",this.gallery.deleteImage),this.gallery.sortable(),a(".product-edit-container").on("click","a.dokan-feat-image-btn",this.featuredImage.addImage),a(".product-edit-container").on("click","a.dokan-remove-feat-image",this.featuredImage.removeImage),a(".product-edit-container").on("click","a.upload_file_button",this.fileDownloadable),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-edit",this.sidebarToggle.showStatus),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-save",this.sidebarToggle.saveStatus),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-cacnel",this.sidebarToggle.cancel),a(".product-edit-container").on("click","a.insert-file-row",function(){return a(this).closest("table").find("tbody").append(a(this).data("row")),!1}),a(".product-edit-container").on("click","a.delete",function(){return a(this).closest("tr").remove(),!1})},showDiscount:function(){var b=a(this),c=b.is(":checked"),d=a(".special-price-container");c?d.removeClass("dokan-hide"):d.addClass("dokan-hide")},showDiscountSchedule:function(b){b.preventDefault(),a(".sale-schedule-container").slideToggle("fast")},onChangeProductType:function(){var b=a("#_product_type").val();"simple"===b?(product_type="simple",a("aside.downloadable").removeClass("dokan-hide"),a(".show_if_variable").addClass("dokan-hide"),a(".show_if_simple").removeClass("dokan-hide")):(product_type="variable",a("aside.downloadable").addClass("dokan-hide"),a(".show_if_variable").removeClass("dokan-hide"),a(".show_if_simple").addClass("dokan-hide"))},downloadable:function(){a(this).prop("checked")?a(this).closest("aside").find(".dokan-side-body").removeClass("dokan-hide"):a(this).closest("aside").find(".dokan-side-body").addClass("dokan-hide")},variants:{addCategory:function(b){b.preventDefault();var c=a(".inputs-box").length,e=_.template(a("#tmpl-sc-category").html(),{row:c});d.append(e).children(":last").hide().fadeIn(),"simple"===product_type&&d.find(".show_if_variable").hide()},removeCategory:function(b){b.preventDefault(),confirm("Sure?")&&a(this).parents(".inputs-box").fadeOut(function(){a(this).remove()})},addItem:function(b){b.preventDefault();var c=a(this),d=c.closest(".inputs-box"),e=c.closest("ul.option-couplet"),f=e.find("li").length,g=d.data("count"),h=_.template(a("#tmpl-sc-category-item").html());c.closest("li").after(h({row:g,col:f}))},removeItem:function(b){b.preventDefault();var c=a(this).parents("ul").find("li");c.length>1&&a(this).parents("li").fadeOut(function(){a(this).remove()})},save:function(){var b={post_id:a(this).data("id"),data:a(".woocommerce_attributes").find("input, select, textarea").serialize(),action:"dokan_save_attributes"},c=window.location.toString();a("#variants-holder").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),a.post(ajaxurl,b,function(b){console.log(b),a("#variable_product_options").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),a("#variable_product_options").load(c+" #variable_product_options_inner",function(){a("#variable_product_options").unblock()}),a("input.variable_is_downloadable, input.variable_is_virtual").trigger("change"),a("#variants-holder").unblock()})},initSaleSchedule:function(){a(".sale_price_dates_fields").each(function(){var b=a(this),c=!1,d=b.closest("div, table");b.find("input").each(function(){""!=a(this).val()&&(c=!0)}),c?(d.find(".sale_schedule").hide(),d.find(".sale_price_dates_fields").show()):(d.find(".sale_schedule").show(),d.find(".sale_price_dates_fields").hide())})},saleSchedule:function(){var b=a(this).closest("div, table");return a(this).hide(),b.find(".cancel_sale_schedule").show(),b.find(".sale_price_dates_fields").show(),!1},cancelSchedule:function(){var b=a(this).closest("div, table");return a(this).hide(),b.find(".sale_schedule").show(),b.find(".sale_price_dates_fields").hide(),b.find(".sale_price_dates_fields").find("input").val(""),!1},dates:function(){var b=a(".sale_price_dates_fields input").datepicker({defaultDate:"",dateFormat:"yy-mm-dd",numberOfMonths:1,onSelect:function(c){var d=a(this).is("#_sale_price_dates_from, .sale_price_dates_from")?"minDate":"maxDate",e=a(this).data("datepicker"),f=a.datepicker.parseDate(e.settings.dateFormat||a.datepicker._defaults.dateFormat,c,e.settings);b.not(this).datepicker("option",d,f)}})},onVariantAdded:function(){g.variants.dates()}},gallery:{addImages:function(a){a.preventDefault();var c=e.val();return b?void b.open():(b=wp.media.frames.downloadable_file=wp.media({title:"Add Images to Product Gallery",button:{text:"Add to gallery"},multiple:!0}),b.on("select",function(){var a=b.state().get("selection");a.map(function(a){a=a.toJSON(),a.id&&(c=c?c+","+a.id:a.id,f.append('                                <li class="image" data-attachment_id="'+a.id+'">                                    <img src="'+a.url+'" />                                    <ul class="actions">                                        <li><a href="#" class="delete" title="Delete image">Delete</a></li>                                    </ul>                                </li>'))}),e.val(c)}),void b.open())},deleteImage:function(b){b.preventDefault(),a(this).closest("li.image").remove();var c="";return a("#product_images_container ul li.image").css("cursor","default").each(function(){var b=a(this).attr("data-attachment_id");c=c+b+","}),e.val(c),!1},sortable:function(){f.sortable({items:"li.image",cursor:"move",scrollSensitivity:40,forcePlaceholderSize:!0,forceHelperSize:!1,helper:"clone",opacity:.65,placeholder:"dokan-sortable-placeholder",start:function(a,b){b.item.css("background-color","#f6f6f6")},stop:function(a,b){b.item.removeAttr("style")},update:function(){var b="";a("#product_images_container ul li.image").css("cursor","default").each(function(){var a=jQuery(this).attr("data-attachment_id");b=b+a+","}),e.val(b)}})}},featuredImage:{addImage:function(b){b.preventDefault();var d=a(this);return c?void c.open():(c=wp.media({title:"Upload featured image",button:{text:"Set featured image"}}),c.on("select",function(){var a=c.state().get("selection");a.map(function(a){a=a.toJSON(),console.log(a,d),d.siblings("input.dokan-feat-image-id").val(a.id);var b=d.closest(".instruction-inside"),c=b.siblings(".image-wrap");c.find("img").attr("src",a.url),b.addClass("dokan-hide"),c.removeClass("dokan-hide")})}),void c.open())},removeImage:function(b){b.preventDefault();var c=a(this),d=c.closest(".image-wrap"),e=d.siblings(".instruction-inside");e.find("input.dokan-feat-image-id").val("0"),d.addClass("dokan-hide"),e.removeClass("dokan-hide")}},fileDownloadable:function(b){b.preventDefault();var c,d=a(this);return c?void c.open():(c=wp.media({title:"Choose a file",button:{text:"Insert file URL"},multiple:!0}),c.on("select",function(){var a=c.state().get("selection");a.map(function(a){a=a.toJSON(),d.closest("tr").find("input.wc_file_url").val(a.url)})}),c.on("ready",function(){c.uploader.options.uploader.params={type:"downloadable_product"}}),void c.open())},sidebarToggle:{showStatus:function(){var b=a(this).siblings(".dokan-toggle-select-container");return b.is(":hidden")&&(b.slideDown("fast"),a(this).hide()),!1},saveStatus:function(){var b=a(this).closest(".dokan-toggle-select-container");b.slideUp("fast"),b.siblings("a.dokan-toggle-edit").show();var c=a("option:selected",b.find("select.dokan-toggle-select")).text();return b.siblings(".dokan-toggle-selected-display").html(c),!1},cancel:function(){var b=a(this).closest(".dokan-toggle-select-container");return b.slideUp("fast"),b.siblings("a.dokan-toggle-edit").show(),!1}}};a(function(){g.init(),a("#_product_type").trigger("change")})}(jQuery),function(a){var b={init:function(){a("#dokan-comments-table").on("click",".dokan-cmt-action",this.setCommentStatus),a("#dokan-comments-table").on("click","button.dokan-cmt-close-form",this.closeForm),a("#dokan-comments-table").on("click","button.dokan-cmt-submit-form",this.submitForm),a("#dokan-comments-table").on("click",".dokan-cmt-edit",this.populateForm),a(".dokan-check-all").on("click",this.toggleCheckbox)},toggleCheckbox:function(){a(".dokan-check-col").prop("checked",a(this).prop("checked"))},setCommentStatus:function(b){b.preventDefault();var c=a(this),d=c.data("comment_id"),e=c.data("cmt_status"),f=c.data("page_status"),g=c.data("post_type"),h=c.data("curr_page"),i=c.closest("tr"),j={action:"dokan_comment_status",comment_id:d,comment_status:e,page_status:f,post_type:g,curr_page:h,nonce:dokan.nonce};a.post(dokan.ajaxurl,j,function(b){i.fadeOut(1!==f||1!==e&&0!==e?function(){a(this).remove()}:function(){i.replaceWith(b.data.content).fadeIn()}),null==b.data.pending&&(b.data.pending=0),null==b.data.spam&&(b.data.spam=0),null==b.data.trash&&(b.data.trash=0),a(".comments-menu-pending").text(b.data.pending),a(".comments-menu-spam").text(b.data.spam),a(".comments-menu-trash").text(b.data.trash)})},populateForm:function(b){b.preventDefault();var c=a(this).closest("tr");if(c.next().hasClass("dokan-comment-edit-row"))return void c.next().remove();var d=a("#dokan-edit-comment-row").html(),e={author:c.find(".dokan-cmt-hid-author").text(),email:c.find(".dokan-cmt-hid-email").text(),url:c.find(".dokan-cmt-hid-url").text(),body:c.find(".dokan-cmt-hid-body").text(),id:c.find(".dokan-cmt-hid-id").text(),status:c.find(".dokan-cmt-hid-status").text()};c.after(_.template(d,e))},closeForm:function(b){b.preventDefault(),a(this).closest("tr.dokan-comment-edit-row").remove()},submitForm:function(b){b.preventDefault();var c=a(this),d=c.closest("tr.dokan-comment-edit-row"),e={action:"dokan_update_comment",comment_id:d.find("input.dokan-cmt-id").val(),content:d.find("textarea.dokan-cmt-body").val(),author:d.find("input.dokan-cmt-author").val(),email:d.find("input.dokan-cmt-author-email").val(),url:d.find("input.dokan-cmt-author-url").val(),status:d.find("input.dokan-cmt-status").val(),nonce:dokan.nonce,post_type:d.find("input.dokan-cmt-post-type").val()};a.post(dokan.ajaxurl,e,function(a){a.success===!0?(d.prev().replaceWith(a.data),d.remove()):alert(a.data)})}};a(function(){b.init()})}(jQuery),jQuery(function(a){function b(a,b,c){jQuery('<div class="chart-tooltip">'+c+"</div>").css({top:b-16,left:a+20}).appendTo("body").fadeIn(200)}a("ul.dropdown-menu li.dropdown").hover(function(){a(this).addClass("open")},function(){a(this).removeClass("open")}),a(".datepicker").datepicker({dateFormat:"yy-mm-dd"}),a(".tips").tooltip();var c=a("ul.dokan-dashboard-menu"),d=a(".dokan-dashboard-content");d.height()>c.height()&&c.css({height:d.height()}),a(window).width()<767?a("#cat-drop-stack li.has-children").on("click","> a",function(b){b.preventDefault(),a(this).siblings(".sub-category").slideToggle("fast")}):a("#cat-drop-stack li.has-children > .sub-category").each(function(b,c){var d=a(c),e=d.find(".sub-block").length;3==e?d.css("width","260%"):e>3&&d.css("width","340%")});var e=null,f=null;jQuery(".chart-placeholder").bind("plothover",function(a,c,d){if(d){if((e!=d.dataIndex||f!=d.seriesIndex)&&(e=d.dataIndex,f=d.seriesIndex,jQuery(".chart-tooltip").remove(),d.series.points.show||d.series.enable_tooltip)){var g=d.series.data[d.dataIndex][1];tooltip_content="",d.series.prepend_label&&(tooltip_content=tooltip_content+d.series.label+": "),d.series.prepend_tooltip&&(tooltip_content+=d.series.prepend_tooltip),tooltip_content+=g,d.series.append_tooltip&&(tooltip_content+=d.series.append_tooltip),d.series.pie.show?b(c.pageX,c.pageY,tooltip_content):b(d.pageX,d.pageY,tooltip_content)}}else jQuery(".chart-tooltip").remove(),e=null}),a("body").on("added_to_cart",function(b,c){a("i.fa-shopping-cart").removeClass("fa-spin"),a(".dokan-cart-amount-top > .amount").fadeOut("fast",function(){a(".dokan-cart-amount-top > .amount").html(c.amount).fadeIn("fast")})}),a("body").on("adding_to_cart",function(b,c){a(c).children("i").addClass("fa-spin")})}),jQuery(function(a){a(".user-role input[type=radio]").on("change",function(){var b=a(this).val();"seller"===b?a(".show_if_seller").slideDown():a(".show_if_seller").slideUp()}),a("#company-name").on("focusout",function(){var b=a(this).val().toLowerCase().replace(/-+/g,"").replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"");a("#seller-url").val(b),a("#url-alart").text(b),a("#seller-url").focus()}),a("#seller-url").keydown(function(b){a(this).val(),-1!==a.inArray(b.keyCode,[46,8,9,27,13,91,109,110,173,189,190])||65==b.keyCode&&b.ctrlKey===!0||b.keyCode>=35&&b.keyCode<=39||(b.shiftKey||(b.keyCode<65||b.keyCode>90)&&(b.keyCode<48||b.keyCode>57))&&(b.keyCode<96||b.keyCode>105)&&b.preventDefault()}),a("#seller-url").keyup(function(){a("#url-alart").text(a(this).val())}),a("#shop-phone").keydown(function(b){-1!==a.inArray(b.keyCode,[46,8,9,27,13,91,107,109,110,187,189,190])||65==b.keyCode&&b.ctrlKey===!0||b.keyCode>=35&&b.keyCode<=39||(b.shiftKey||b.keyCode<48||b.keyCode>57)&&(b.keyCode<96||b.keyCode>105)&&b.preventDefault()}),a("#seller-url").on("focusout",function(){var b=a(this),c={action:"shop_url",url_slug:b.val(),_nonce:dokan.nonce};if(""!==b.val()){var d=b.closest(".form-row");d.block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}}),a.post(dokan.ajaxurl,c,function(b){0==b?(a("#url-alart").removeClass("text-success").addClass("text-danger"),a("#url-alart-mgs").removeClass("text-success").addClass("text-danger").text(dokan.seller.notAvailable)):(a("#url-alart").removeClass("text-danger").addClass("text-success"),a("#url-alart-mgs").removeClass("text-danger").addClass("text-success").text(dokan.seller.available)),d.unblock()})}})}),function(a){a.validator.setDefaults({ignore:":hidden"});var b=function(b,c){var d=a(c).closest(".form-group");d.addClass("has-error").append(b)},c=function(b,c){a(c).closest(".form-group").removeClass("has-error")},d={init:function(){var b=this;return a("a.dokan-banner-drag").on("click",this.imageUpload),a("a.dokan-remove-banner-image").on("click",this.removeBanner),a("a.dokan-gravatar-drag").on("click",this.gragatarImageUpload),a("a.dokan-remove-gravatar-image").on("click",this.removeGravatar),this.validateForm(b),!1},imageUpload:function(){var b,c=a(this);return b?void b.open():(b=wp.media.frames.file_frame=wp.media({title:jQuery(this).data("uploader_title"),button:{text:jQuery(this).data("uploader_button_text")},multiple:!1}),b.on("select",function(){var d=b.state().get("selection").first().toJSON(),e=c.closest(".dokan-banner");
e.find("input.dokan-file-field").val(d.id),e.find("img.dokan-banner-img").attr("src",d.url),a(".image-wrap",e).removeClass("dokan-hide"),a(".button-area").addClass("dokan-hide")}),void b.open())},gragatarImageUpload:function(){var b,c=a(this);return b?void b.open():(b=wp.media.frames.file_frame=wp.media({title:jQuery(this).data("uploader_title"),button:{text:jQuery(this).data("uploader_button_text")},multiple:!1}),b.on("select",function(){var d=b.state().get("selection").first().toJSON(),e=c.closest(".dokan-gravatar");e.find("input.dokan-file-field").val(d.id),e.find("img.dokan-gravatar-img").attr("src",d.url),a(".gravatar-wrap",e).removeClass("dokan-hide"),a(".gravatar-button-area").addClass("dokan-hide")}),void b.open())},submitSettings:function(){var b=a("form#settings-form"),c=b.serialize()+"&action=dokan_settings";b.find(".ajax_prev").append('<span class="dokan-loading"> </span>'),a.post(dokan.ajaxurl,c,function(c){b.find("span.dokan-loading").remove(),a("html,body").animate({scrollTop:100}),a(".dokan-ajax-response").html(c.success?a("<div/>",{"class":"dokan-alert dokan-alert-success",html:"<p>"+c.data+"</p>"}):a("<div/>",{"class":"dokan-alert dokan-alert-danger",html:"<p>"+c.data+"</p>"}))})},validateForm:function(d){a("form#settings-form").validate({submitHandler:function(){d.submitSettings()},errorElement:"span",errorClass:"error",errorPlacement:b,success:c})},removeBanner:function(b){b.preventDefault();var c=a(this),d=c.closest(".image-wrap"),e=d.siblings(".button-area");d.find("input.dokan-file-field").val("0"),d.addClass("dokan-hide"),e.removeClass("dokan-hide")},removeGravatar:function(b){b.preventDefault();var c=a(this),d=c.closest(".gravatar-wrap"),e=d.siblings(".gravatar-button-area");d.find("input.dokan-file-field").val("0"),d.addClass("dokan-hide"),e.removeClass("dokan-hide")}},e={init:function(){var a=this;this.withdrawValidate(a)},withdrawValidate:function(){a("form.withdraw").validate({errorElement:"span",errorClass:"error",errorPlacement:b,success:c})}},f={init:function(){var a=this;this.couponsValidation(a)},couponsValidation:function(){a("form.coupons").validate({errorElement:"span",errorClass:"error",errorPlacement:b,success:c})}},g={init:function(){this.validate(this)},validate:function(){a("form#dokan-form-contact-seller").validate({errorPlacement:b,success:c,submitHandler:function(b){a(b).block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}});var c=a(b).serialize();a.post(dokan.ajaxurl,c,function(c){a(b).unblock(),"undefined"!=typeof c.data&&a(b).find(".ajax-response").html(c.data),a(b).find("input[type=text], input[type=email], textarea").val("").removeClass("valid")})}})}},h={init:function(){this.validate(this)},validate:function(){a("form#register").validate({errorPlacement:b,success:c,submitHandler:function(a){a.submit()}})}};a(function(){d.init(),e.init(),f.init(),g.init(),h.init()})}(jQuery),jQuery(function(a){window.WeDevs_Admin={imageUpload:function(b){b.preventDefault();var c=a(this),d=c.siblings("input.image_url");tb_show("","media-upload.php?post_id=0&amp;type=image&amp;TB_iframe=true"),window.send_to_editor=function(b){var e=a(b).attr("href");a(b).find("img").length>0&&(e=a(b).find("img").attr("src")),d.val(e);var f='<img src="'+e+'" alt="image" />';f+='<a href="#" class="remove-image"><span>Remove</span></a>',c.siblings(".image_placeholder").empty().append(f),tb_remove()}},removeImage:function(b){b.preventDefault();var c=a(this);c.parent(".image_placeholder").siblings("input.image_url").val(""),c.parent(".image_placeholder").empty()}}}),jQuery(function(a){a(".tips").tooltip(),a("select.grant_access_id").chosen(),a("ul.order-status").on("click","a.dokan-edit-status",function(){return a(this).addClass("dokan-hide").closest("li").next("li").removeClass("dokan-hide"),!1}),a("ul.order-status").on("click","a.dokan-cancel-status",function(){return a(this).closest("li").addClass("dokan-hide").prev("li").find("a.dokan-edit-status").removeClass("dokan-hide"),!1}),a("form#dokan-order-status-form").on("submit",function(b){b.preventDefault();var c=a(this),d=c.closest("li");d.block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}}),a.post(dokan.ajaxurl,c.serialize(),function(a){d.unblock();var b=d.prev();d.addClass("dokan-hide"),b.find("label").replaceWith(a),b.find("a.dokan-edit-status").removeClass("dokan-hide")})}),a("form#add-order-note").on("submit",function(b){return b.preventDefault(),a("textarea#add-note-content").val()?(a("#dokan-order-notes").block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}}),a.post(dokan.ajaxurl,a(this).serialize(),function(b){a("ul.order_notes").prepend(b),a("#dokan-order-notes").unblock(),a("#add-note-content").val("")}),!1):void 0}),a("#dokan-order-notes").on("click","a.delete_note",function(){var b=a(this).closest("li.note");a("#dokan-order-notes").block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}});var c={action:"woocommerce_delete_order_note",note_id:a(b).attr("rel"),security:a("#delete-note-security").val()};return a.post(dokan.ajaxurl,c,function(){a(b).remove(),a("#dokan-order-notes").unblock()}),!1}),a(".order_download_permissions").on("click","button.grant_access",function(){var b=a(this),c=a("select.grant_access_id").val();if(c){a(".order_download_permissions").block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}});var d={action:"dokan_grant_access_to_download",product_ids:c,loop:a(".order_download_permissions .panel").size(),order_id:b.data("order-id"),security:b.data("nonce")};return a.post(dokan.ajaxurl,d,function(b){b?a("#accordion").append(b):alert("Could not grant access - the user may already have permission for this file or billing email is not set. Ensure the billing email is set, and the order has been saved."),a(".datepicker").datepicker(),a(".order_download_permissions").unblock()}),!1}}),a(".order_download_permissions").on("click","button.revoke_access",function(b){b.preventDefault();var c=confirm("Are you sure you want to revoke access to this download?");if(c){var d=a(this),e=d.closest(".panel"),f=d.attr("rel").split(",")[0],g=d.attr("rel").split(",")[1];if(f>0){a(e).block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}});var h={action:"woocommerce_revoke_access_to_download",product_id:f,download_id:g,order_id:d.data("order-id"),security:d.data("nonce")};a.post(dokan.ajaxurl,h,function(){a(e).fadeOut("300",function(){a(e).remove()})})}else a(e).fadeOut("300",function(){a(e).remove()})}return!1})}),function(a){var b,c,d=a("#variants-holder"),e=a("#product_image_gallery"),f=a("#product_images_container ul.product_images"),g={init:function(){product_type="simple",a(".product-edit-container").on("click","._discounted_price",this.showDiscount),a(".product-edit-container").on("click","a.sale-schedule",this.showDiscountSchedule),a(".product-edit-container").on("click","input[type=checkbox]#_downloadable",this.downloadable),a(".product-edit-container").on("change","#_product_type",this.onChangeProductType),a("#product-attributes").on("click",".add-variant-category",this.variants.addCategory),a("#variants-holder").on("click",".box-header .row-remove",this.variants.removeCategory),a("#variants-holder").on("click",".item-action a.row-add",this.variants.addItem),a("#variants-holder").on("click",".item-action a.row-remove",this.variants.removeItem),a("#variable_product_options").on("click",".sale_schedule",this.variants.saleSchedule),a("#variable_product_options").on("click",".cancel_sale_schedule",this.variants.cancelSchedule),a("#variable_product_options").on("woocommerce_variations_added",this.variants.onVariantAdded),this.variants.dates(),this.variants.initSaleSchedule(),a(".save_attributes").on("click",this.variants.save),a("#dokan-product-images").on("click","a.add-product-images",this.gallery.addImages),a("#dokan-product-images").on("click","a.delete",this.gallery.deleteImage),this.gallery.sortable(),a(".product-edit-container").on("click","a.dokan-feat-image-btn",this.featuredImage.addImage),a(".product-edit-container").on("click","a.dokan-remove-feat-image",this.featuredImage.removeImage),a(".product-edit-container").on("click","a.upload_file_button",this.fileDownloadable),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-edit",this.sidebarToggle.showStatus),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-save",this.sidebarToggle.saveStatus),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-cacnel",this.sidebarToggle.cancel),a(".product-edit-container").on("click","a.insert-file-row",function(){return a(this).closest("table").find("tbody").append(a(this).data("row")),!1}),a(".product-edit-container").on("click","a.delete",function(){return a(this).closest("tr").remove(),!1})},showDiscount:function(){var b=a(this),c=b.is(":checked"),d=a(".special-price-container");c?d.removeClass("dokan-hide"):d.addClass("dokan-hide")},showDiscountSchedule:function(b){b.preventDefault(),a(".sale-schedule-container").slideToggle("fast")},onChangeProductType:function(){var b=a("#_product_type").val();"simple"===b?(product_type="simple",a("aside.downloadable").removeClass("dokan-hide"),a(".show_if_variable").addClass("dokan-hide"),a(".show_if_simple").removeClass("dokan-hide")):(product_type="variable",a("aside.downloadable").addClass("dokan-hide"),a(".show_if_variable").removeClass("dokan-hide"),a(".show_if_simple").addClass("dokan-hide"))},downloadable:function(){a(this).prop("checked")?a(this).closest("aside").find(".dokan-side-body").removeClass("dokan-hide"):a(this).closest("aside").find(".dokan-side-body").addClass("dokan-hide")},variants:{addCategory:function(b){b.preventDefault();var c=a(".inputs-box").length,e=_.template(a("#tmpl-sc-category").html(),{row:c});d.append(e).children(":last").hide().fadeIn(),"simple"===product_type&&d.find(".show_if_variable").hide()},removeCategory:function(b){b.preventDefault(),confirm("Sure?")&&a(this).parents(".inputs-box").fadeOut(function(){a(this).remove()})},addItem:function(b){b.preventDefault();var c=a(this),d=c.closest(".inputs-box"),e=c.closest("ul.option-couplet"),f=e.find("li").length,g=d.data("count"),h=_.template(a("#tmpl-sc-category-item").html());c.closest("li").after(h({row:g,col:f}))},removeItem:function(b){b.preventDefault();var c=a(this).parents("ul").find("li");c.length>1&&a(this).parents("li").fadeOut(function(){a(this).remove()})},save:function(){var b={post_id:a(this).data("id"),data:a(".woocommerce_attributes").find("input, select, textarea").serialize(),action:"dokan_save_attributes"},c=window.location.toString();a("#variants-holder").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),a.post(ajaxurl,b,function(b){console.log(b),a("#variable_product_options").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),a("#variable_product_options").load(c+" #variable_product_options_inner",function(){a("#variable_product_options").unblock()}),a("input.variable_is_downloadable, input.variable_is_virtual").trigger("change"),a("#variants-holder").unblock()})},initSaleSchedule:function(){a(".sale_price_dates_fields").each(function(){var b=a(this),c=!1,d=b.closest("div, table");b.find("input").each(function(){""!=a(this).val()&&(c=!0)}),c?(d.find(".sale_schedule").hide(),d.find(".sale_price_dates_fields").show()):(d.find(".sale_schedule").show(),d.find(".sale_price_dates_fields").hide())})},saleSchedule:function(){var b=a(this).closest("div, table");return a(this).hide(),b.find(".cancel_sale_schedule").show(),b.find(".sale_price_dates_fields").show(),!1},cancelSchedule:function(){var b=a(this).closest("div, table");return a(this).hide(),b.find(".sale_schedule").show(),b.find(".sale_price_dates_fields").hide(),b.find(".sale_price_dates_fields").find("input").val(""),!1},dates:function(){var b=a(".sale_price_dates_fields input").datepicker({defaultDate:"",dateFormat:"yy-mm-dd",numberOfMonths:1,onSelect:function(c){var d=a(this).is("#_sale_price_dates_from, .sale_price_dates_from")?"minDate":"maxDate",e=a(this).data("datepicker"),f=a.datepicker.parseDate(e.settings.dateFormat||a.datepicker._defaults.dateFormat,c,e.settings);b.not(this).datepicker("option",d,f)}})},onVariantAdded:function(){g.variants.dates()}},gallery:{addImages:function(a){a.preventDefault();var c=e.val();return b?void b.open():(b=wp.media.frames.downloadable_file=wp.media({title:"Add Images to Product Gallery",button:{text:"Add to gallery"},multiple:!0}),b.on("select",function(){var a=b.state().get("selection");a.map(function(a){a=a.toJSON(),a.id&&(c=c?c+","+a.id:a.id,f.append('                                <li class="image" data-attachment_id="'+a.id+'">                                    <img src="'+a.url+'" />                                    <ul class="actions">                                        <li><a href="#" class="delete" title="Delete image">Delete</a></li>                                    </ul>                                </li>'))}),e.val(c)}),void b.open())},deleteImage:function(b){b.preventDefault(),a(this).closest("li.image").remove();var c="";return a("#product_images_container ul li.image").css("cursor","default").each(function(){var b=a(this).attr("data-attachment_id");c=c+b+","}),e.val(c),!1},sortable:function(){f.sortable({items:"li.image",cursor:"move",scrollSensitivity:40,forcePlaceholderSize:!0,forceHelperSize:!1,helper:"clone",opacity:.65,placeholder:"dokan-sortable-placeholder",start:function(a,b){b.item.css("background-color","#f6f6f6")},stop:function(a,b){b.item.removeAttr("style")},update:function(){var b="";a("#product_images_container ul li.image").css("cursor","default").each(function(){var a=jQuery(this).attr("data-attachment_id");b=b+a+","}),e.val(b)}})}},featuredImage:{addImage:function(b){b.preventDefault();var d=a(this);return c?void c.open():(c=wp.media({title:"Upload featured image",button:{text:"Set featured image"}}),c.on("select",function(){var a=c.state().get("selection");a.map(function(a){a=a.toJSON(),console.log(a,d),d.siblings("input.dokan-feat-image-id").val(a.id);var b=d.closest(".instruction-inside"),c=b.siblings(".image-wrap");c.find("img").attr("src",a.url),b.addClass("dokan-hide"),c.removeClass("dokan-hide")})}),void c.open())},removeImage:function(b){b.preventDefault();var c=a(this),d=c.closest(".image-wrap"),e=d.siblings(".instruction-inside");e.find("input.dokan-feat-image-id").val("0"),d.addClass("dokan-hide"),e.removeClass("dokan-hide")}},fileDownloadable:function(b){b.preventDefault();var c,d=a(this);return c?void c.open():(c=wp.media({title:"Choose a file",button:{text:"Insert file URL"},multiple:!0}),c.on("select",function(){var a=c.state().get("selection");a.map(function(a){a=a.toJSON(),d.closest("tr").find("input.wc_file_url").val(a.url)})}),c.on("ready",function(){c.uploader.options.uploader.params={type:"downloadable_product"}}),void c.open())},sidebarToggle:{showStatus:function(){var b=a(this).siblings(".dokan-toggle-select-container");return b.is(":hidden")&&(b.slideDown("fast"),a(this).hide()),!1},saveStatus:function(){var b=a(this).closest(".dokan-toggle-select-container");b.slideUp("fast"),b.siblings("a.dokan-toggle-edit").show();var c=a("option:selected",b.find("select.dokan-toggle-select")).text();return b.siblings(".dokan-toggle-selected-display").html(c),!1},cancel:function(){var b=a(this).closest(".dokan-toggle-select-container");return b.slideUp("fast"),b.siblings("a.dokan-toggle-edit").show(),!1}}};a(function(){g.init(),a("#_product_type").trigger("change")})}(jQuery),function(a){var b={init:function(){a("#dokan-comments-table").on("click",".dokan-cmt-action",this.setCommentStatus),a("#dokan-comments-table").on("click","button.dokan-cmt-close-form",this.closeForm),a("#dokan-comments-table").on("click","button.dokan-cmt-submit-form",this.submitForm),a("#dokan-comments-table").on("click",".dokan-cmt-edit",this.populateForm),a(".dokan-check-all").on("click",this.toggleCheckbox)},toggleCheckbox:function(){a(".dokan-check-col").prop("checked",a(this).prop("checked"))},setCommentStatus:function(b){b.preventDefault();var c=a(this),d=c.data("comment_id"),e=c.data("cmt_status"),f=c.data("page_status"),g=c.data("post_type"),h=c.data("curr_page"),i=c.closest("tr"),j={action:"wpuf_comment_status",comment_id:d,comment_status:e,page_status:f,post_type:g,curr_page:h,nonce:dokan.nonce};a.post(dokan.ajaxurl,j,function(b){i.fadeOut(1!==f||1!==e&&0!==e?function(){a(this).remove()}:function(){i.replaceWith(b.data.content).fadeIn()}),null==b.data.pending&&(b.data.pending=0),null==b.data.spam&&(b.data.spam=0),null==b.data.trash&&(b.data.trash=0),a(".comments-menu-pending").text(b.data.pending),a(".comments-menu-spam").text(b.data.spam),a(".comments-menu-trash").text(b.data.trash)})},populateForm:function(b){b.preventDefault();var c=a(this).closest("tr");if(c.next().hasClass("dokan-comment-edit-row"))return void c.next().remove();var d=a("#dokan-edit-comment-row").html(),e={author:c.find(".dokan-cmt-hid-author").text(),email:c.find(".dokan-cmt-hid-email").text(),url:c.find(".dokan-cmt-hid-url").text(),body:c.find(".dokan-cmt-hid-body").text(),id:c.find(".dokan-cmt-hid-id").text(),status:c.find(".dokan-cmt-hid-status").text()};c.after(_.template(d,e))},closeForm:function(b){b.preventDefault(),a(this).closest("tr.dokan-comment-edit-row").remove()},submitForm:function(b){b.preventDefault();var c=a(this),d=c.closest("tr.dokan-comment-edit-row"),e={action:"dokan_update_comment",comment_id:d.find("input.dokan-cmt-id").val(),content:d.find("textarea.dokan-cmt-body").val(),author:d.find("input.dokan-cmt-author").val(),email:d.find("input.dokan-cmt-author-email").val(),url:d.find("input.dokan-cmt-author-url").val(),status:d.find("input.dokan-cmt-status").val(),nonce:dokan.nonce,post_type:d.find("input.dokan-cmt-post-type").val()};a.post(dokan.ajaxurl,e,function(a){a.success===!0?(d.prev().replaceWith(a.data),d.remove()):alert(a.data)})}};a(function(){b.init()})}(jQuery),jQuery(function(a){function b(a,b,c){jQuery('<div class="chart-tooltip">'+c+"</div>").css({top:b-16,left:a+20}).appendTo("body").fadeIn(200)}a("ul.dropdown-menu li.dropdown").hover(function(){a(this).addClass("open")},function(){a(this).removeClass("open")}),a(".datepicker").datepicker({dateFormat:"yy-mm-dd"}),a(".tips").tooltip();var c=a("ul.dokan-dashboard-menu"),d=a(".dokan-dashboard-content");d.height()>c.height()&&c.css({height:d.height()}),a(window).width()<767?a("#cat-drop-stack li.has-children").on("click","> a",function(b){b.preventDefault(),a(this).siblings(".sub-category").slideToggle("fast")}):a("#cat-drop-stack li.has-children > .sub-category").each(function(b,c){var d=a(c),e=d.find(".sub-block").length;3==e?d.css("width","260%"):e>3&&d.css("width","340%")});var e=null,f=null;jQuery(".chart-placeholder").bind("plothover",function(a,c,d){if(d){if((e!=d.dataIndex||f!=d.seriesIndex)&&(e=d.dataIndex,f=d.seriesIndex,jQuery(".chart-tooltip").remove(),d.series.points.show||d.series.enable_tooltip)){var g=d.series.data[d.dataIndex][1];tooltip_content="",d.series.prepend_label&&(tooltip_content=tooltip_content+d.series.label+": "),d.series.prepend_tooltip&&(tooltip_content+=d.series.prepend_tooltip),tooltip_content+=g,d.series.append_tooltip&&(tooltip_content+=d.series.append_tooltip),d.series.pie.show?b(c.pageX,c.pageY,tooltip_content):b(d.pageX,d.pageY,tooltip_content)}}else jQuery(".chart-tooltip").remove(),e=null}),a("body").on("added_to_cart",function(b,c){a("i.fa-shopping-cart").removeClass("fa-spin"),a(".dokan-cart-amount-top > .amount").fadeOut("fast",function(){a(".dokan-cart-amount-top > .amount").html(c.amount).fadeIn("fast")})}),a("body").on("adding_to_cart",function(b,c){a(c).children("i").addClass("fa-spin")})}),jQuery(function(a){a(".user-role input[type=radio]").on("change",function(){var b=a(this).val();"seller"===b?a(".show_if_seller").slideDown():a(".show_if_seller").slideUp()}),a("#company-name").on("focusout",function(){var b=a(this).val().toLowerCase().replace(/-+/g,"").replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"");a("#seller-url").val(b),a("#url-alart").text(b),a("#seller-url").focus()}),a("#seller-url").keydown(function(b){a(this).val(),-1!==a.inArray(b.keyCode,[46,8,9,27,13,91,109,110,173,189,190])||65==b.keyCode&&b.ctrlKey===!0||b.keyCode>=35&&b.keyCode<=39||(b.shiftKey||(b.keyCode<65||b.keyCode>90)&&(b.keyCode<48||b.keyCode>57))&&(b.keyCode<96||b.keyCode>105)&&b.preventDefault()}),a("#seller-url").keyup(function(){a("#url-alart").text(a(this).val())}),a("#shop-phone").keydown(function(b){-1!==a.inArray(b.keyCode,[46,8,9,27,13,91,107,109,110,187,189,190])||65==b.keyCode&&b.ctrlKey===!0||b.keyCode>=35&&b.keyCode<=39||(b.shiftKey||b.keyCode<48||b.keyCode>57)&&(b.keyCode<96||b.keyCode>105)&&b.preventDefault()}),a("#seller-url").on("focusout",function(){var b=a(this),c={action:"shop_url",url_slug:b.val(),_nonce:dokan.nonce};if(""!==b.val()){var d=b.closest(".form-row");d.block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}}),a.post(dokan.ajaxurl,c,function(b){0==b?(a("#url-alart").removeClass("text-success").addClass("text-danger"),a("#url-alart-mgs").removeClass("text-success").addClass("text-danger").text(dokan.seller.notAvailable)):(a("#url-alart").removeClass("text-danger").addClass("text-success"),a("#url-alart-mgs").removeClass("text-danger").addClass("text-success").text(dokan.seller.available)),d.unblock()})}})}),function(a){a.validator.setDefaults({ignore:":hidden"});var b=function(b,c){var d=a(c).closest(".form-group");d.addClass("has-error").append(b)},c=function(b,c){a(c).closest(".form-group").removeClass("has-error")},d={init:function(){var b=this;return a("a.dokan-banner-drag").on("click",this.imageUpload),a("a.dokan-remove-banner-image").on("click",this.removeBanner),a("a.dokan-gravatar-drag").on("click",this.gragatarImageUpload),a("a.dokan-remove-gravatar-image").on("click",this.removeGravatar),this.validateForm(b),!1},imageUpload:function(){var b,c=a(this);return b?void b.open():(b=wp.media.frames.file_frame=wp.media({title:jQuery(this).data("uploader_title"),button:{text:jQuery(this).data("uploader_button_text")},multiple:!1}),b.on("select",function(){var d=b.state().get("selection").first().toJSON(),e=c.closest(".dokan-banner");e.find("input.dokan-file-field").val(d.id),e.find("img.dokan-banner-img").attr("src",d.url),a(".image-wrap",e).removeClass("dokan-hide"),a(".button-area").addClass("dokan-hide")}),void b.open())},gragatarImageUpload:function(){var b,c=a(this);return b?void b.open():(b=wp.media.frames.file_frame=wp.media({title:jQuery(this).data("uploader_title"),button:{text:jQuery(this).data("uploader_button_text")},multiple:!1}),b.on("select",function(){var d=b.state().get("selection").first().toJSON(),e=c.closest(".dokan-gravatar");e.find("input.dokan-file-field").val(d.id),e.find("img.dokan-gravatar-img").attr("src",d.url),a(".gravatar-wrap",e).removeClass("dokan-hide"),a(".gravatar-button-area").addClass("dokan-hide")}),void b.open())},submitSettings:function(){var b=a("form#settings-form"),c=b.serialize()+"&action=dokan_settings";b.find(".ajax_prev").append('<span class="dokan-loading"> </span>'),a.post(dokan.ajaxurl,c,function(c){b.find("span.dokan-loading").remove(),a("html,body").animate({scrollTop:100}),a(".dokan-ajax-response").html(c.success?a("<div/>",{"class":"dokan-alert dokan-alert-success",html:"<p>"+c.data+"</p>"}):a("<div/>",{"class":"dokan-alert dokan-alert-danger",html:"<p>"+c.data+"</p>"}))})},validateForm:function(d){a("form#settings-form").validate({submitHandler:function(){d.submitSettings()},errorElement:"span",errorClass:"error",errorPlacement:b,success:c})},removeBanner:function(b){b.preventDefault();var c=a(this),d=c.closest(".image-wrap"),e=d.siblings(".button-area");d.find("input.dokan-file-field").val("0"),d.addClass("dokan-hide"),e.removeClass("dokan-hide")},removeGravatar:function(b){b.preventDefault();var c=a(this),d=c.closest(".gravatar-wrap"),e=d.siblings(".gravatar-button-area");d.find("input.dokan-file-field").val("0"),d.addClass("dokan-hide"),e.removeClass("dokan-hide")}},e={init:function(){var a=this;this.withdrawValidate(a)},withdrawValidate:function(){a("form.withdraw").validate({errorElement:"span",errorClass:"error",errorPlacement:b,success:c})}},f={init:function(){var a=this;this.couponsValidation(a)},couponsValidation:function(){a("form.coupons").validate({errorElement:"span",errorClass:"error",errorPlacement:b,success:c})}},g={init:function(){this.validate(this)},validate:function(){a("form#dokan-form-contact-seller").validate({errorPlacement:b,success:c,submitHandler:function(b){a(b).block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}});var c=a(b).serialize();a.post(dokan.ajaxurl,c,function(c){a(b).unblock(),"undefined"!=typeof c.data&&a(b).find(".ajax-response").html(c.data),a(b).find("input[type=text], input[type=email], textarea").val("").removeClass("valid")})}})}},h={init:function(){this.validate(this)},validate:function(){a("form#register").validate({errorPlacement:b,success:c,submitHandler:function(a){a.submit()}})}};a(function(){d.init(),e.init(),f.init(),g.init(),h.init()})}(jQuery),jQuery(function(a){window.WeDevs_Admin={imageUpload:function(b){b.preventDefault();var c=a(this),d=c.siblings("input.image_url");tb_show("","media-upload.php?post_id=0&amp;type=image&amp;TB_iframe=true"),window.send_to_editor=function(b){var e=a(b).attr("href");a(b).find("img").length>0&&(e=a(b).find("img").attr("src")),d.val(e);var f='<img src="'+e+'" alt="image" />';f+='<a href="#" class="remove-image"><span>Remove</span></a>',c.siblings(".image_placeholder").empty().append(f),tb_remove()}},removeImage:function(b){b.preventDefault();var c=a(this);c.parent(".image_placeholder").siblings("input.image_url").val(""),c.parent(".image_placeholder").empty()}}}),jQuery(function(a){a(".tips").tooltip(),a("select.grant_access_id").chosen(),a("ul.order-status").on("click","a.dokan-edit-status",function(){return a(this).addClass("dokan-hide").closest("li").next("li").removeClass("dokan-hide"),!1}),a("ul.order-status").on("click","a.dokan-cancel-status",function(){return a(this).closest("li").addClass("dokan-hide").prev("li").find("a.dokan-edit-status").removeClass("dokan-hide"),!1}),a("form#dokan-order-status-form").on("submit",function(b){b.preventDefault();var c=a(this),d=c.closest("li");d.block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}}),a.post(dokan.ajaxurl,c.serialize(),function(a){d.unblock();var b=d.prev();d.addClass("dokan-hide"),b.find("label").replaceWith(a),b.find("a.dokan-edit-status").removeClass("dokan-hide")})}),a("form#add-order-note").on("submit",function(b){return b.preventDefault(),a("textarea#add-note-content").val()?(a("#dokan-order-notes").block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}}),a.post(dokan.ajaxurl,a(this).serialize(),function(b){a("ul.order_notes").prepend(b),a("#dokan-order-notes").unblock(),a("#add-note-content").val("")}),!1):void 0}),a("#dokan-order-notes").on("click","a.delete_note",function(){var b=a(this).closest("li.note");a("#dokan-order-notes").block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}});var c={action:"woocommerce_delete_order_note",note_id:a(b).attr("rel"),security:a("#delete-note-security").val()};return a.post(dokan.ajaxurl,c,function(){a(b).remove(),a("#dokan-order-notes").unblock()}),!1}),a(".order_download_permissions").on("click","button.grant_access",function(){var b=a(this),c=a("select.grant_access_id").val();if(c){a(".order_download_permissions").block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}});var d={action:"dokan_grant_access_to_download",product_ids:c,loop:a(".order_download_permissions .panel").size(),order_id:b.data("order-id"),security:b.data("nonce")};return a.post(dokan.ajaxurl,d,function(b){b?a("#accordion").append(b):alert("Could not grant access - the user may already have permission for this file or billing email is not set. Ensure the billing email is set, and the order has been saved."),a(".datepicker").datepicker(),a(".order_download_permissions").unblock()}),!1}}),a(".order_download_permissions").on("click","button.revoke_access",function(b){b.preventDefault();var c=confirm("Are you sure you want to revoke access to this download?");if(c){var d=a(this),e=d.closest(".panel"),f=d.attr("rel").split(",")[0],g=d.attr("rel").split(",")[1];if(f>0){a(e).block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}});var h={action:"woocommerce_revoke_access_to_download",product_id:f,download_id:g,order_id:d.data("order-id"),security:d.data("nonce")};a.post(dokan.ajaxurl,h,function(){a(e).fadeOut("300",function(){a(e).remove()})})}else a(e).fadeOut("300",function(){a(e).remove()})}return!1})}),function(a){var b,c,d=a("#variants-holder"),e=a("#product_image_gallery"),f=a("#product_images_container ul.product_images"),g={init:function(){product_type="simple",a(".product-edit-container").on("click","._discounted_price",this.showDiscount),a(".product-edit-container").on("click","a.sale-schedule",this.showDiscountSchedule),a(".product-edit-container").on("click","input[type=checkbox]#_downloadable",this.downloadable),a(".product-edit-container").on("change","#_product_type",this.onChangeProductType),a("#product-attributes").on("click",".add-variant-category",this.variants.addCategory),a("#variants-holder").on("click",".box-header .row-remove",this.variants.removeCategory),a("#variants-holder").on("click",".item-action a.row-add",this.variants.addItem),a("#variants-holder").on("click",".item-action a.row-remove",this.variants.removeItem),a("#variable_product_options").on("click",".sale_schedule",this.variants.saleSchedule),a("#variable_product_options").on("click",".cancel_sale_schedule",this.variants.cancelSchedule),a("#variable_product_options").on("woocommerce_variations_added",this.variants.onVariantAdded),this.variants.dates(),this.variants.initSaleSchedule(),a(".save_attributes").on("click",this.variants.save),a("#dokan-product-images").on("click","a.add-product-images",this.gallery.addImages),a("#dokan-product-images").on("click","a.delete",this.gallery.deleteImage),this.gallery.sortable(),a(".product-edit-container").on("click","a.dokan-feat-image-btn",this.featuredImage.addImage),a(".product-edit-container").on("click","a.dokan-remove-feat-image",this.featuredImage.removeImage),a(".product-edit-container").on("click","a.upload_file_button",this.fileDownloadable),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-edit",this.sidebarToggle.showStatus),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-save",this.sidebarToggle.saveStatus),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-cacnel",this.sidebarToggle.cancel),a(".product-edit-container").on("click","a.insert-file-row",function(){return a(this).closest("table").find("tbody").append(a(this).data("row")),!1}),a(".product-edit-container").on("click","a.delete",function(){return a(this).closest("tr").remove(),!1})},showDiscount:function(){var b=a(this),c=b.is(":checked"),d=a(".special-price-container");c?d.removeClass("dokan-hide"):d.addClass("dokan-hide")},showDiscountSchedule:function(b){b.preventDefault(),a(".sale-schedule-container").slideToggle("fast")},onChangeProductType:function(){var b=a("#_product_type").val();"simple"===b?(product_type="simple",a("aside.downloadable").removeClass("dokan-hide"),a(".show_if_variable").addClass("dokan-hide"),a(".show_if_simple").removeClass("dokan-hide")):(product_type="variable",a("aside.downloadable").addClass("dokan-hide"),a(".show_if_variable").removeClass("dokan-hide"),a(".show_if_simple").addClass("dokan-hide"))
},downloadable:function(){a(this).prop("checked")?a(this).closest("aside").find(".dokan-side-body").removeClass("dokan-hide"):a(this).closest("aside").find(".dokan-side-body").addClass("dokan-hide")},variants:{addCategory:function(b){b.preventDefault();var c=a(".inputs-box").length,e=_.template(a("#tmpl-sc-category").html(),{row:c});d.append(e).children(":last").hide().fadeIn(),"simple"===product_type&&d.find(".show_if_variable").hide()},removeCategory:function(b){b.preventDefault(),confirm("Sure?")&&a(this).parents(".inputs-box").fadeOut(function(){a(this).remove()})},addItem:function(b){b.preventDefault();var c=a(this),d=c.closest(".inputs-box"),e=c.closest("ul.option-couplet"),f=e.find("li").length,g=d.data("count"),h=_.template(a("#tmpl-sc-category-item").html());c.closest("li").after(h({row:g,col:f}))},removeItem:function(b){b.preventDefault();var c=a(this).parents("ul").find("li");c.length>1&&a(this).parents("li").fadeOut(function(){a(this).remove()})},save:function(){var b={post_id:a(this).data("id"),data:a(".woocommerce_attributes").find("input, select, textarea").serialize(),action:"dokan_save_attributes"},c=window.location.toString();a("#variants-holder").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),a.post(ajaxurl,b,function(b){console.log(b),a("#variable_product_options").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),a("#variable_product_options").load(c+" #variable_product_options_inner",function(){a("#variable_product_options").unblock()}),a("input.variable_is_downloadable, input.variable_is_virtual").trigger("change"),a("#variants-holder").unblock()})},initSaleSchedule:function(){a(".sale_price_dates_fields").each(function(){var b=a(this),c=!1,d=b.closest("div, table");b.find("input").each(function(){""!=a(this).val()&&(c=!0)}),c?(d.find(".sale_schedule").hide(),d.find(".sale_price_dates_fields").show()):(d.find(".sale_schedule").show(),d.find(".sale_price_dates_fields").hide())})},saleSchedule:function(){var b=a(this).closest("div, table");return a(this).hide(),b.find(".cancel_sale_schedule").show(),b.find(".sale_price_dates_fields").show(),!1},cancelSchedule:function(){var b=a(this).closest("div, table");return a(this).hide(),b.find(".sale_schedule").show(),b.find(".sale_price_dates_fields").hide(),b.find(".sale_price_dates_fields").find("input").val(""),!1},dates:function(){var b=a(".sale_price_dates_fields input").datepicker({defaultDate:"",dateFormat:"yy-mm-dd",numberOfMonths:1,onSelect:function(c){var d=a(this).is("#_sale_price_dates_from, .sale_price_dates_from")?"minDate":"maxDate",e=a(this).data("datepicker"),f=a.datepicker.parseDate(e.settings.dateFormat||a.datepicker._defaults.dateFormat,c,e.settings);b.not(this).datepicker("option",d,f)}})},onVariantAdded:function(){g.variants.dates()}},gallery:{addImages:function(a){a.preventDefault();var c=e.val();return b?void b.open():(b=wp.media.frames.downloadable_file=wp.media({title:"Add Images to Product Gallery",button:{text:"Add to gallery"},multiple:!0}),b.on("select",function(){var a=b.state().get("selection");a.map(function(a){a=a.toJSON(),a.id&&(c=c?c+","+a.id:a.id,f.append('                                <li class="image" data-attachment_id="'+a.id+'">                                    <img src="'+a.url+'" />                                    <ul class="actions">                                        <li><a href="#" class="delete" title="Delete image">Delete</a></li>                                    </ul>                                </li>'))}),e.val(c)}),void b.open())},deleteImage:function(b){b.preventDefault(),a(this).closest("li.image").remove();var c="";return a("#product_images_container ul li.image").css("cursor","default").each(function(){var b=a(this).attr("data-attachment_id");c=c+b+","}),e.val(c),!1},sortable:function(){f.sortable({items:"li.image",cursor:"move",scrollSensitivity:40,forcePlaceholderSize:!0,forceHelperSize:!1,helper:"clone",opacity:.65,placeholder:"dokan-sortable-placeholder",start:function(a,b){b.item.css("background-color","#f6f6f6")},stop:function(a,b){b.item.removeAttr("style")},update:function(){var b="";a("#product_images_container ul li.image").css("cursor","default").each(function(){var a=jQuery(this).attr("data-attachment_id");b=b+a+","}),e.val(b)}})}},featuredImage:{addImage:function(b){b.preventDefault();var d=a(this);return c?void c.open():(c=wp.media({title:"Upload featured image",button:{text:"Set featured image"}}),c.on("select",function(){var a=c.state().get("selection");a.map(function(a){a=a.toJSON(),console.log(a,d),d.siblings("input.dokan-feat-image-id").val(a.id);var b=d.closest(".instruction-inside"),c=b.siblings(".image-wrap");c.find("img").attr("src",a.url),b.addClass("dokan-hide"),c.removeClass("dokan-hide")})}),void c.open())},removeImage:function(b){b.preventDefault();var c=a(this),d=c.closest(".image-wrap"),e=d.siblings(".instruction-inside");e.find("input.dokan-feat-image-id").val("0"),d.addClass("dokan-hide"),e.removeClass("dokan-hide")}},fileDownloadable:function(b){b.preventDefault();var c,d=a(this);return c?void c.open():(c=wp.media({title:"Choose a file",button:{text:"Insert file URL"},multiple:!0}),c.on("select",function(){var a=c.state().get("selection");a.map(function(a){a=a.toJSON(),d.closest("tr").find("input.wc_file_url").val(a.url)})}),c.on("ready",function(){c.uploader.options.uploader.params={type:"downloadable_product"}}),void c.open())},sidebarToggle:{showStatus:function(){var b=a(this).siblings(".dokan-toggle-select-container");return b.is(":hidden")&&(b.slideDown("fast"),a(this).hide()),!1},saveStatus:function(){var b=a(this).closest(".dokan-toggle-select-container");b.slideUp("fast"),b.siblings("a.dokan-toggle-edit").show();var c=a("option:selected",b.find("select.dokan-toggle-select")).text();return b.siblings(".dokan-toggle-selected-display").html(c),!1},cancel:function(){var b=a(this).closest(".dokan-toggle-select-container");return b.slideUp("fast"),b.siblings("a.dokan-toggle-edit").show(),!1}}};a(function(){g.init(),a("#_product_type").trigger("change")})}(jQuery),function(a){var b={init:function(){a("#dokan-comments-table").on("click",".dokan-cmt-action",this.setCommentStatus),a("#dokan-comments-table").on("click","button.dokan-cmt-close-form",this.closeForm),a("#dokan-comments-table").on("click","button.dokan-cmt-submit-form",this.submitForm),a("#dokan-comments-table").on("click",".dokan-cmt-edit",this.populateForm),a(".dokan-check-all").on("click",this.toggleCheckbox)},toggleCheckbox:function(){a(".dokan-check-col").prop("checked",a(this).prop("checked"))},setCommentStatus:function(b){b.preventDefault();var c=a(this),d=c.data("comment_id"),e=c.data("cmt_status"),f=c.data("page_status"),g=c.data("post_type"),h=c.data("curr_page"),i=c.closest("tr"),j={action:"wpuf_comment_status",comment_id:d,comment_status:e,page_status:f,post_type:g,curr_page:h,nonce:dokan.nonce};a.post(dokan.ajaxurl,j,function(b){i.fadeOut(1!==f||1!==e&&0!==e?function(){a(this).remove()}:function(){i.replaceWith(b.data.content).fadeIn()}),null==b.data.pending&&(b.data.pending=0),null==b.data.spam&&(b.data.spam=0),null==b.data.trash&&(b.data.trash=0),a(".comments-menu-pending").text(b.data.pending),a(".comments-menu-spam").text(b.data.spam),a(".comments-menu-trash").text(b.data.trash)})},populateForm:function(b){b.preventDefault();var c=a(this).closest("tr");if(c.next().hasClass("dokan-comment-edit-row"))return void c.next().remove();var d=a("#dokan-edit-comment-row").html(),e={author:c.find(".dokan-cmt-hid-author").text(),email:c.find(".dokan-cmt-hid-email").text(),url:c.find(".dokan-cmt-hid-url").text(),body:c.find(".dokan-cmt-hid-body").text(),id:c.find(".dokan-cmt-hid-id").text(),status:c.find(".dokan-cmt-hid-status").text()};c.after(_.template(d,e))},closeForm:function(b){b.preventDefault(),a(this).closest("tr.dokan-comment-edit-row").remove()},submitForm:function(b){b.preventDefault();var c=a(this),d=c.closest("tr.dokan-comment-edit-row"),e={action:"dokan_update_comment",comment_id:d.find("input.dokan-cmt-id").val(),content:d.find("textarea.dokan-cmt-body").val(),author:d.find("input.dokan-cmt-author").val(),email:d.find("input.dokan-cmt-author-email").val(),url:d.find("input.dokan-cmt-author-url").val(),status:d.find("input.dokan-cmt-status").val(),nonce:dokan.nonce,post_type:d.find("input.dokan-cmt-post-type").val()};a.post(dokan.ajaxurl,e,function(a){a.success===!0?(d.prev().replaceWith(a.data),d.remove()):alert(a.data)})}};a(function(){b.init()})}(jQuery),jQuery(function(a){function b(a,b,c){jQuery('<div class="chart-tooltip">'+c+"</div>").css({top:b-16,left:a+20}).appendTo("body").fadeIn(200)}a("ul.dropdown-menu li.dropdown").hover(function(){a(this).addClass("open")},function(){a(this).removeClass("open")}),a(".datepicker").datepicker({dateFormat:"yy-mm-dd"}),a(".tips").tooltip();var c=a("ul.dokan-dashboard-menu"),d=a("#content article");d.height()>c.height()&&c.css({height:d.height()}),a(window).width()<767?a("#cat-drop-stack li.has-children").on("click","> a",function(b){b.preventDefault(),a(this).siblings(".sub-category").slideToggle("fast")}):a("#cat-drop-stack li.has-children > .sub-category").each(function(b,c){var d=a(c),e=d.find(".sub-block").length;3==e?d.css("width","260%"):e>3&&d.css("width","340%")});var e=null,f=null;jQuery(".chart-placeholder").bind("plothover",function(a,c,d){if(d){if((e!=d.dataIndex||f!=d.seriesIndex)&&(e=d.dataIndex,f=d.seriesIndex,jQuery(".chart-tooltip").remove(),d.series.points.show||d.series.enable_tooltip)){var g=d.series.data[d.dataIndex][1];tooltip_content="",d.series.prepend_label&&(tooltip_content=tooltip_content+d.series.label+": "),d.series.prepend_tooltip&&(tooltip_content+=d.series.prepend_tooltip),tooltip_content+=g,d.series.append_tooltip&&(tooltip_content+=d.series.append_tooltip),d.series.pie.show?b(c.pageX,c.pageY,tooltip_content):b(d.pageX,d.pageY,tooltip_content)}}else jQuery(".chart-tooltip").remove(),e=null}),a("body").on("added_to_cart",function(b,c){a("i.fa-shopping-cart").removeClass("fa-spin"),a(".dokan-cart-amount-top > .amount").fadeOut("fast",function(){a(".dokan-cart-amount-top > .amount").html(c.amount).fadeIn("fast")})}),a("body").on("adding_to_cart",function(b,c){a(c).children("i").addClass("fa-spin")})}),jQuery(function(a){a(".user-role input[type=radio]").on("change",function(){var b=a(this).val();"seller"===b?a(".show_if_seller").slideDown():a(".show_if_seller").slideUp()}),a("#company-name").on("focusout",function(){var b=a(this).val().toLowerCase().replace(/-+/g,"").replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"");a("#seller-url").val(b),a("#url-alart").text(b),a("#seller-url").focus()}),a("#seller-url").keydown(function(b){a(this).val(),-1!==a.inArray(b.keyCode,[46,8,9,27,13,91,109,110,173,189,190])||65==b.keyCode&&b.ctrlKey===!0||b.keyCode>=35&&b.keyCode<=39||(b.shiftKey||(b.keyCode<65||b.keyCode>90)&&(b.keyCode<48||b.keyCode>57))&&(b.keyCode<96||b.keyCode>105)&&b.preventDefault()}),a("#seller-url").keyup(function(){a("#url-alart").text(a(this).val())}),a("#shop-phone").keydown(function(b){-1!==a.inArray(b.keyCode,[46,8,9,27,13,91,107,109,110,187,189,190])||65==b.keyCode&&b.ctrlKey===!0||b.keyCode>=35&&b.keyCode<=39||(b.shiftKey||b.keyCode<48||b.keyCode>57)&&(b.keyCode<96||b.keyCode>105)&&b.preventDefault()}),a("#seller-url").on("focusout",function(){var b=a(this),c={action:"shop_url",url_slug:b.val(),_nonce:dokan.nonce};if(""!==b.val()){var d=b.closest(".form-row");d.block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}}),a.post(dokan.ajaxurl,c,function(b){0==b?(a("#url-alart").removeClass("text-success").addClass("text-danger"),a("#url-alart-mgs").removeClass("text-success").addClass("text-danger").text(dokan.seller.notAvailable)):(a("#url-alart").removeClass("text-danger").addClass("text-success"),a("#url-alart-mgs").removeClass("text-danger").addClass("text-success").text(dokan.seller.available)),d.unblock()})}})}),function(a){a.validator.setDefaults({ignore:":hidden"});var b=function(b,c){var d=a(c).closest(".form-group");d.addClass("has-error").append(b)},c=function(b,c){a(c).closest(".form-group").removeClass("has-error")},d={init:function(){var b=this;return a("a.dokan-banner-drag").on("click",this.imageUpload),a("a.dokan-remove-banner-image").on("click",this.removeBanner),a("a.dokan-gravatar-drag").on("click",this.gragatarImageUpload),a("a.dokan-remove-gravatar-image").on("click",this.removeGravatar),this.validateForm(b),!1},imageUpload:function(){var b,c=a(this);return b?void b.open():(b=wp.media.frames.file_frame=wp.media({title:jQuery(this).data("uploader_title"),button:{text:jQuery(this).data("uploader_button_text")},multiple:!1}),b.on("select",function(){var d=b.state().get("selection").first().toJSON(),e=c.closest(".dokan-banner");e.find("input.dokan-file-field").val(d.id),e.find("img.dokan-banner-img").attr("src",d.url),a(".image-wrap",e).removeClass("dokan-hide"),a(".button-area").addClass("dokan-hide")}),void b.open())},gragatarImageUpload:function(){var b,c=a(this);return b?void b.open():(b=wp.media.frames.file_frame=wp.media({title:jQuery(this).data("uploader_title"),button:{text:jQuery(this).data("uploader_button_text")},multiple:!1}),b.on("select",function(){var d=b.state().get("selection").first().toJSON(),e=c.closest(".dokan-gravatar");e.find("input.dokan-file-field").val(d.id),e.find("img.dokan-gravatar-img").attr("src",d.url),a(".gravatar-wrap",e).removeClass("dokan-hide"),a(".gravatar-button-area").addClass("dokan-hide")}),void b.open())},submitSettings:function(){var b=a("form#settings-form"),c=b.serialize()+"&action=dokan_settings";b.find(".ajax_prev").append('<span class="dokan-loading"> </span>'),a.post(dokan.ajaxurl,c,function(c){b.find("span.dokan-loading").remove(),a("html,body").animate({scrollTop:100}),a(".dokan-ajax-response").html(c.success?a("<div/>",{"class":"dokan-alert dokan-alert-success",html:"<p>"+c.data+"</p>"}):a("<div/>",{"class":"dokan-alert dokan-alert-danger",html:"<p>"+c.data+"</p>"}))})},validateForm:function(d){a("form#settings-form").validate({submitHandler:function(){d.submitSettings()},errorElement:"span",errorClass:"error",errorPlacement:b,success:c})},removeBanner:function(b){b.preventDefault();var c=a(this),d=c.closest(".image-wrap"),e=d.siblings(".button-area");d.find("input.dokan-file-field").val("0"),d.addClass("dokan-hide"),e.removeClass("dokan-hide")},removeGravatar:function(b){b.preventDefault();var c=a(this),d=c.closest(".gravatar-wrap"),e=d.siblings(".gravatar-button-area");d.find("input.dokan-file-field").val("0"),d.addClass("dokan-hide"),e.removeClass("dokan-hide")}},e={init:function(){var a=this;this.withdrawValidate(a)},withdrawValidate:function(){a("form.withdraw").validate({errorElement:"span",errorClass:"error",errorPlacement:b,success:c})}},f={init:function(){var a=this;this.couponsValidation(a)},couponsValidation:function(){a("form.coupons").validate({errorElement:"span",errorClass:"error",errorPlacement:b,success:c})}},g={init:function(){this.validate(this)},validate:function(){a("form#dokan-form-contact-seller").validate({errorPlacement:b,success:c,submitHandler:function(b){a(b).block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}});var c=a(b).serialize();a.post(dokan.ajaxurl,c,function(c){a(b).unblock(),"undefined"!=typeof c.data&&a(b).find(".ajax-response").html(c.data),a(b).find("input[type=text], input[type=email], textarea").val("").removeClass("valid")})}})}},h={init:function(){this.validate(this)},validate:function(){a("form#register").validate({errorPlacement:b,success:c,submitHandler:function(a){a.submit()}})}};a(function(){d.init(),e.init(),f.init(),g.init(),h.init()})}(jQuery),jQuery(function(a){window.WeDevs_Admin={imageUpload:function(b){b.preventDefault();var c=a(this),d=c.siblings("input.image_url");tb_show("","media-upload.php?post_id=0&amp;type=image&amp;TB_iframe=true"),window.send_to_editor=function(b){var e=a(b).attr("href");a(b).find("img").length>0&&(e=a(b).find("img").attr("src")),d.val(e);var f='<img src="'+e+'" alt="image" />';f+='<a href="#" class="remove-image"><span>Remove</span></a>',c.siblings(".image_placeholder").empty().append(f),tb_remove()}},removeImage:function(b){b.preventDefault();var c=a(this);c.parent(".image_placeholder").siblings("input.image_url").val(""),c.parent(".image_placeholder").empty()}}}),jQuery(function(a){a(".tips").tooltip(),a("select.grant_access_id").chosen(),a("ul.order-status").on("click","a.dokan-edit-status",function(){return a(this).addClass("dokan-hide").closest("li").next("li").removeClass("dokan-hide"),!1}),a("ul.order-status").on("click","a.dokan-cancel-status",function(){return a(this).closest("li").addClass("dokan-hide").prev("li").find("a.dokan-edit-status").removeClass("dokan-hide"),!1}),a("form#dokan-order-status-form").on("submit",function(b){b.preventDefault();var c=a(this),d=c.closest("li");d.block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}}),a.post(dokan.ajaxurl,c.serialize(),function(a){d.unblock();var b=d.prev();d.addClass("dokan-hide"),b.find("label").replaceWith(a),b.find("a.dokan-edit-status").removeClass("dokan-hide")})}),a("form#add-order-note").on("submit",function(b){return b.preventDefault(),a("textarea#add-note-content").val()?(a("#dokan-order-notes").block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}}),a.post(dokan.ajaxurl,a(this).serialize(),function(b){a("ul.order_notes").prepend(b),a("#dokan-order-notes").unblock(),a("#add-note-content").val("")}),!1):void 0}),a("#dokan-order-notes").on("click","a.delete_note",function(){var b=a(this).closest("li.note");a("#dokan-order-notes").block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}});var c={action:"woocommerce_delete_order_note",note_id:a(b).attr("rel"),security:a("#delete-note-security").val()};return a.post(dokan.ajaxurl,c,function(){a(b).remove(),a("#dokan-order-notes").unblock()}),!1}),a(".order_download_permissions").on("click","button.grant_access",function(){var b=a(this),c=a("select.grant_access_id").val();if(c){a(".order_download_permissions").block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}});var d={action:"dokan_grant_access_to_download",product_ids:c,loop:a(".order_download_permissions .panel").size(),order_id:b.data("order-id"),security:b.data("nonce")};return a.post(dokan.ajaxurl,d,function(b){b?a("#accordion").append(b):alert("Could not grant access - the user may already have permission for this file or billing email is not set. Ensure the billing email is set, and the order has been saved."),a(".datepicker").datepicker(),a(".order_download_permissions").unblock()}),!1}}),a(".order_download_permissions").on("click","button.revoke_access",function(b){b.preventDefault();var c=confirm("Are you sure you want to revoke access to this download?");if(c){var d=a(this),e=d.closest(".panel"),f=d.attr("rel").split(",")[0],g=d.attr("rel").split(",")[1];if(f>0){a(e).block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}});var h={action:"woocommerce_revoke_access_to_download",product_id:f,download_id:g,order_id:d.data("order-id"),security:d.data("nonce")};a.post(dokan.ajaxurl,h,function(){a(e).fadeOut("300",function(){a(e).remove()})})}else a(e).fadeOut("300",function(){a(e).remove()})}return!1})}),function(a){var b,c,d=a("#variants-holder"),e=a("#product_image_gallery"),f=a("#product_images_container ul.product_images"),g={init:function(){product_type="simple",a(".product-edit-container").on("click","._discounted_price",this.showDiscount),a(".product-edit-container").on("click","a.sale-schedule",this.showDiscountSchedule),a(".product-edit-container").on("click","input[type=checkbox]#_downloadable",this.downloadable),a(".product-edit-container").on("change","#_product_type",this.onChangeProductType),a("#product-attributes").on("click",".add-variant-category",this.variants.addCategory),a("#variants-holder").on("click",".box-header .row-remove",this.variants.removeCategory),a("#variants-holder").on("click",".item-action a.row-add",this.variants.addItem),a("#variants-holder").on("click",".item-action a.row-remove",this.variants.removeItem),a("#variable_product_options").on("click",".sale_schedule",this.variants.saleSchedule),a("#variable_product_options").on("click",".cancel_sale_schedule",this.variants.cancelSchedule),a("#variable_product_options").on("woocommerce_variations_added",this.variants.onVariantAdded),this.variants.dates(),this.variants.initSaleSchedule(),a(".save_attributes").on("click",this.variants.save),a("#dokan-product-images").on("click","a.add-product-images",this.gallery.addImages),a("#dokan-product-images").on("click","a.delete",this.gallery.deleteImage),this.gallery.sortable(),a(".product-edit-container").on("click","a.dokan-feat-image-btn",this.featuredImage.addImage),a(".product-edit-container").on("click","a.dokan-remove-feat-image",this.featuredImage.removeImage),a(".product-edit-container").on("click","a.upload_file_button",this.fileDownloadable),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-edit",this.sidebarToggle.showStatus),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-save",this.sidebarToggle.saveStatus),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-cacnel",this.sidebarToggle.cancel),a(".product-edit-container").on("click","a.insert-file-row",function(){return a(this).closest("table").find("tbody").append(a(this).data("row")),!1}),a(".product-edit-container").on("click","a.delete",function(){return a(this).closest("tr").remove(),!1})},showDiscount:function(){var b=a(this),c=b.is(":checked"),d=a(".special-price-container");c?d.removeClass("dokan-hide"):d.addClass("dokan-hide")},showDiscountSchedule:function(b){b.preventDefault(),a(".sale-schedule-container").slideToggle("fast")},onChangeProductType:function(){var b=a("#_product_type").val();"simple"===b?(product_type="simple",a("aside.downloadable").removeClass("dokan-hide"),a(".show_if_variable").addClass("dokan-hide"),a(".show_if_simple").removeClass("dokan-hide")):(product_type="variable",a("aside.downloadable").addClass("dokan-hide"),a(".show_if_variable").removeClass("dokan-hide"),a(".show_if_simple").addClass("dokan-hide"))},downloadable:function(){a(this).prop("checked")?a(this).closest("aside").find(".dokan-side-body").removeClass("dokan-hide"):a(this).closest("aside").find(".dokan-side-body").addClass("dokan-hide")},variants:{addCategory:function(b){b.preventDefault();var c=a(".inputs-box").length,e=_.template(a("#tmpl-sc-category").html(),{row:c});d.append(e).children(":last").hide().fadeIn(),"simple"===product_type&&d.find(".show_if_variable").hide()},removeCategory:function(b){b.preventDefault(),confirm("Sure?")&&a(this).parents(".inputs-box").fadeOut(function(){a(this).remove()})},addItem:function(b){b.preventDefault();var c=a(this),d=c.closest(".inputs-box"),e=c.closest("ul.option-couplet"),f=e.find("li").length,g=d.data("count"),h=_.template(a("#tmpl-sc-category-item").html());c.closest("li").after(h({row:g,col:f}))},removeItem:function(b){b.preventDefault();var c=a(this).parents("ul").find("li");c.length>1&&a(this).parents("li").fadeOut(function(){a(this).remove()})},save:function(){var b={post_id:a(this).data("id"),data:a(".woocommerce_attributes").find("input, select, textarea").serialize(),action:"dokan_save_attributes"},c=window.location.toString();a("#variants-holder").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),a.post(ajaxurl,b,function(b){console.log(b),a("#variable_product_options").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),a("#variable_product_options").load(c+" #variable_product_options_inner",function(){a("#variable_product_options").unblock()}),a("input.variable_is_downloadable, input.variable_is_virtual").trigger("change"),a("#variants-holder").unblock()})},initSaleSchedule:function(){a(".sale_price_dates_fields").each(function(){var b=a(this),c=!1,d=b.closest("div, table");b.find("input").each(function(){""!=a(this).val()&&(c=!0)}),c?(d.find(".sale_schedule").hide(),d.find(".sale_price_dates_fields").show()):(d.find(".sale_schedule").show(),d.find(".sale_price_dates_fields").hide())})},saleSchedule:function(){var b=a(this).closest("div, table");return a(this).hide(),b.find(".cancel_sale_schedule").show(),b.find(".sale_price_dates_fields").show(),!1},cancelSchedule:function(){var b=a(this).closest("div, table");return a(this).hide(),b.find(".sale_schedule").show(),b.find(".sale_price_dates_fields").hide(),b.find(".sale_price_dates_fields").find("input").val(""),!1},dates:function(){var b=a(".sale_price_dates_fields input").datepicker({defaultDate:"",dateFormat:"yy-mm-dd",numberOfMonths:1,onSelect:function(c){var d=a(this).is("#_sale_price_dates_from, .sale_price_dates_from")?"minDate":"maxDate",e=a(this).data("datepicker"),f=a.datepicker.parseDate(e.settings.dateFormat||a.datepicker._defaults.dateFormat,c,e.settings);b.not(this).datepicker("option",d,f)}})},onVariantAdded:function(){g.variants.dates()}},gallery:{addImages:function(a){a.preventDefault();var c=e.val();return b?void b.open():(b=wp.media.frames.downloadable_file=wp.media({title:"Add Images to Product Gallery",button:{text:"Add to gallery"},multiple:!0}),b.on("select",function(){var a=b.state().get("selection");a.map(function(a){a=a.toJSON(),a.id&&(c=c?c+","+a.id:a.id,f.append('                                <li class="image" data-attachment_id="'+a.id+'">                                    <img src="'+a.url+'" />                                    <ul class="actions">                                        <li><a href="#" class="delete" title="Delete image">Delete</a></li>                                    </ul>                                </li>'))}),e.val(c)}),void b.open())},deleteImage:function(b){b.preventDefault(),a(this).closest("li.image").remove();var c="";return a("#product_images_container ul li.image").css("cursor","default").each(function(){var b=a(this).attr("data-attachment_id");c=c+b+","}),e.val(c),!1},sortable:function(){f.sortable({items:"li.image",cursor:"move",scrollSensitivity:40,forcePlaceholderSize:!0,forceHelperSize:!1,helper:"clone",opacity:.65,placeholder:"dokan-sortable-placeholder",start:function(a,b){b.item.css("background-color","#f6f6f6")},stop:function(a,b){b.item.removeAttr("style")},update:function(){var b="";a("#product_images_container ul li.image").css("cursor","default").each(function(){var a=jQuery(this).attr("data-attachment_id");b=b+a+","}),e.val(b)}})}},featuredImage:{addImage:function(b){b.preventDefault();var d=a(this);return c?void c.open():(c=wp.media({title:"Upload featured image",button:{text:"Set featured image"}}),c.on("select",function(){var a=c.state().get("selection");a.map(function(a){a=a.toJSON(),console.log(a,d),d.siblings("input.dokan-feat-image-id").val(a.id);var b=d.closest(".instruction-inside"),c=b.siblings(".image-wrap");c.find("img").attr("src",a.url),b.addClass("dokan-hide"),c.removeClass("dokan-hide")})}),void c.open())},removeImage:function(b){b.preventDefault();var c=a(this),d=c.closest(".image-wrap"),e=d.siblings(".instruction-inside");e.find("input.dokan-feat-image-id").val("0"),d.addClass("dokan-hide"),e.removeClass("dokan-hide")}},fileDownloadable:function(b){b.preventDefault();var c,d=a(this);return c?void c.open():(c=wp.media({title:"Choose a file",button:{text:"Insert file URL"},multiple:!0}),c.on("select",function(){var a=c.state().get("selection");a.map(function(a){a=a.toJSON(),d.closest("tr").find("input.wc_file_url").val(a.url)})}),c.on("ready",function(){c.uploader.options.uploader.params={type:"downloadable_product"}}),void c.open())},sidebarToggle:{showStatus:function(){var b=a(this).siblings(".dokan-toggle-select-container");return b.is(":hidden")&&(b.slideDown("fast"),a(this).hide()),!1},saveStatus:function(){var b=a(this).closest(".dokan-toggle-select-container");b.slideUp("fast"),b.siblings("a.dokan-toggle-edit").show();var c=a("option:selected",b.find("select.dokan-toggle-select")).text();return b.siblings(".dokan-toggle-selected-display").html(c),!1},cancel:function(){var b=a(this).closest(".dokan-toggle-select-container");return b.slideUp("fast"),b.siblings("a.dokan-toggle-edit").show(),!1}}};a(function(){g.init(),a("#_product_type").trigger("change")})}(jQuery),function(a){var b={init:function(){a("#dokan-comments-table").on("click",".dokan-cmt-action",this.setCommentStatus),a("#dokan-comments-table").on("click","button.dokan-cmt-close-form",this.closeForm),a("#dokan-comments-table").on("click","button.dokan-cmt-submit-form",this.submitForm),a("#dokan-comments-table").on("click",".dokan-cmt-edit",this.populateForm),a(".dokan-check-all").on("click",this.toggleCheckbox)},toggleCheckbox:function(){a(".dokan-check-col").prop("checked",a(this).prop("checked"))},setCommentStatus:function(b){b.preventDefault();var c=a(this),d=c.data("comment_id"),e=c.data("cmt_status"),f=c.data("page_status"),g=c.data("post_type"),h=c.data("curr_page"),i=c.closest("tr"),j={action:"wpuf_comment_status",comment_id:d,comment_status:e,page_status:f,post_type:g,curr_page:h,nonce:dokan.nonce};a.post(dokan.ajaxurl,j,function(b){i.fadeOut(1!==f||1!==e&&0!==e?function(){a(this).remove()}:function(){i.replaceWith(b.data.content).fadeIn()}),null==b.data.pending&&(b.data.pending=0),null==b.data.spam&&(b.data.spam=0),null==b.data.trash&&(b.data.trash=0),a(".comments-menu-pending").text(b.data.pending),a(".comments-menu-spam").text(b.data.spam),a(".comments-menu-trash").text(b.data.trash)})},populateForm:function(b){b.preventDefault();var c=a(this).closest("tr");if(c.next().hasClass("dokan-comment-edit-row"))return void c.next().remove();var d=a("#dokan-edit-comment-row").html(),e={author:c.find(".dokan-cmt-hid-author").text(),email:c.find(".dokan-cmt-hid-email").text(),url:c.find(".dokan-cmt-hid-url").text(),body:c.find(".dokan-cmt-hid-body").text(),id:c.find(".dokan-cmt-hid-id").text(),status:c.find(".dokan-cmt-hid-status").text()};c.after(_.template(d,e))},closeForm:function(b){b.preventDefault(),a(this).closest("tr.dokan-comment-edit-row").remove()},submitForm:function(b){b.preventDefault();var c=a(this),d=c.closest("tr.dokan-comment-edit-row"),e={action:"dokan_update_comment",comment_id:d.find("input.dokan-cmt-id").val(),content:d.find("textarea.dokan-cmt-body").val(),author:d.find("input.dokan-cmt-author").val(),email:d.find("input.dokan-cmt-author-email").val(),url:d.find("input.dokan-cmt-author-url").val(),status:d.find("input.dokan-cmt-status").val(),nonce:dokan.nonce,post_type:d.find("input.dokan-cmt-post-type").val()};a.post(dokan.ajaxurl,e,function(a){a.success===!0?(d.prev().replaceWith(a.data),d.remove()):alert(a.data)})}};a(function(){b.init()})}(jQuery),jQuery(function(a){function b(a,b,c){jQuery('<div class="chart-tooltip">'+c+"</div>").css({top:b-16,left:a+20}).appendTo("body").fadeIn(200)}a("ul.dropdown-menu li.dropdown").hover(function(){a(this).addClass("open")},function(){a(this).removeClass("open")}),a(".datepicker").datepicker({dateFormat:"yy-mm-dd"}),a(".tips").tooltip();var c=a("ul.dokan-dashboard-menu"),d=a("#content article");d.height()>c.height()&&c.css({height:d.height()}),a(window).width()<767?a("#cat-drop-stack li.has-children").on("click","> a",function(b){b.preventDefault(),a(this).siblings(".sub-category").slideToggle("fast")}):a("#cat-drop-stack li.has-children > .sub-category").each(function(b,c){var d=a(c),e=d.find(".sub-block").length;3==e?d.css("width","260%"):e>3&&d.css("width","340%")});var e=null,f=null;jQuery(".chart-placeholder").bind("plothover",function(a,c,d){if(d){if((e!=d.dataIndex||f!=d.seriesIndex)&&(e=d.dataIndex,f=d.seriesIndex,jQuery(".chart-tooltip").remove(),d.series.points.show||d.series.enable_tooltip)){var g=d.series.data[d.dataIndex][1];tooltip_content="",d.series.prepend_label&&(tooltip_content=tooltip_content+d.series.label+": "),d.series.prepend_tooltip&&(tooltip_content+=d.series.prepend_tooltip),tooltip_content+=g,d.series.append_tooltip&&(tooltip_content+=d.series.append_tooltip),d.series.pie.show?b(c.pageX,c.pageY,tooltip_content):b(d.pageX,d.pageY,tooltip_content)
}}else jQuery(".chart-tooltip").remove(),e=null}),a("body").on("added_to_cart",function(b,c){a("i.fa-shopping-cart").removeClass("fa-spin"),a(".dokan-cart-amount-top > .amount").fadeOut("fast",function(){a(".dokan-cart-amount-top > .amount").html(c.amount).fadeIn("fast")})}),a("body").on("adding_to_cart",function(b,c){a(c).children("i").addClass("fa-spin")})}),jQuery(function(a){a(".user-role input[type=radio]").on("change",function(){var b=a(this).val();"seller"===b?a(".show_if_seller").slideDown():a(".show_if_seller").slideUp()}),a("#company-name").on("focusout",function(){var b=a(this).val().toLowerCase().replace(/-+/g,"").replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"");a("#seller-url").val(b),a("#url-alart").text(b),a("#seller-url").focus()}),a("#seller-url").keydown(function(b){a(this).val(),-1!==a.inArray(b.keyCode,[46,8,9,27,13,91,109,110,173,189,190])||65==b.keyCode&&b.ctrlKey===!0||b.keyCode>=35&&b.keyCode<=39||(b.shiftKey||(b.keyCode<65||b.keyCode>90)&&(b.keyCode<48||b.keyCode>57))&&(b.keyCode<96||b.keyCode>105)&&b.preventDefault()}),a("#seller-url").keyup(function(){a("#url-alart").text(a(this).val())}),a("#shop-phone").keydown(function(b){-1!==a.inArray(b.keyCode,[46,8,9,27,13,91,107,109,110,187,189,190])||65==b.keyCode&&b.ctrlKey===!0||b.keyCode>=35&&b.keyCode<=39||(b.shiftKey||b.keyCode<48||b.keyCode>57)&&(b.keyCode<96||b.keyCode>105)&&b.preventDefault()}),a("#seller-url").on("focusout",function(){var b=a(this),c={action:"shop_url",url_slug:b.val(),_nonce:dokan.nonce};if(""!==b.val()){var d=b.closest(".form-row");d.block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}}),a.post(dokan.ajaxurl,c,function(b){0==b?(a("#url-alart").removeClass("text-success").addClass("text-danger"),a("#url-alart-mgs").removeClass("text-success").addClass("text-danger").text(dokan.seller.notAvailable)):(a("#url-alart").removeClass("text-danger").addClass("text-success"),a("#url-alart-mgs").removeClass("text-danger").addClass("text-success").text(dokan.seller.available)),d.unblock()})}})}),function(a){a.validator.setDefaults({ignore:":hidden"});var b=function(b,c){var d=a(c).closest(".form-group");d.addClass("has-error").append(b)},c=function(b,c){a(c).closest(".form-group").removeClass("has-error")},d={init:function(){var b=this;return a("a.dokan-banner-drag").on("click",this.imageUpload),a("a.dokan-remove-banner-image").on("click",this.removeBanner),a("a.dokan-gravatar-drag").on("click",this.gragatarImageUpload),a("a.dokan-remove-gravatar-image").on("click",this.removeGravatar),this.validateForm(b),!1},imageUpload:function(){var b,c=a(this);return b?void b.open():(b=wp.media.frames.file_frame=wp.media({title:jQuery(this).data("uploader_title"),button:{text:jQuery(this).data("uploader_button_text")},multiple:!1}),b.on("select",function(){var d=b.state().get("selection").first().toJSON(),e=c.closest(".dokan-banner");e.find("input.dokan-file-field").val(d.id),e.find("img.dokan-banner-img").attr("src",d.url),a(".image-wrap",e).removeClass("dokan-hide"),a(".button-area").addClass("dokan-hide")}),void b.open())},gragatarImageUpload:function(){var b,c=a(this);return b?void b.open():(b=wp.media.frames.file_frame=wp.media({title:jQuery(this).data("uploader_title"),button:{text:jQuery(this).data("uploader_button_text")},multiple:!1}),b.on("select",function(){var d=b.state().get("selection").first().toJSON(),e=c.closest(".dokan-gravatar");e.find("input.dokan-file-field").val(d.id),e.find("img.dokan-gravatar-img").attr("src",d.url),a(".gravatar-wrap",e).removeClass("dokan-hide"),a(".gravatar-button-area").addClass("dokan-hide")}),void b.open())},submitSettings:function(){var b=a("form#settings-form"),c=b.serialize()+"&action=dokan_settings";b.find(".ajax_prev").append('<span class="dokan-loading"> </span>'),a.post(dokan.ajaxurl,c,function(c){b.find("span.dokan-loading").remove(),a("html,body").animate({scrollTop:100}),a(".dokan-ajax-response").html(c.success?a("<div/>",{"class":"dokan-alert dokan-alert-success",html:"<p>"+c.data+"</p>"}):a("<div/>",{"class":"dokan-alert dokan-alert-danger",html:"<p>"+c.data+"</p>"}))})},validateForm:function(d){a("form#settings-form").validate({submitHandler:function(){d.submitSettings()},errorElement:"span",errorClass:"error",errorPlacement:b,success:c})},removeBanner:function(b){b.preventDefault();var c=a(this),d=c.closest(".image-wrap"),e=d.siblings(".button-area");d.find("input.dokan-file-field").val("0"),d.addClass("dokan-hide"),e.removeClass("dokan-hide")},removeGravatar:function(b){b.preventDefault();var c=a(this),d=c.closest(".gravatar-wrap"),e=d.siblings(".gravatar-button-area");d.find("input.dokan-file-field").val("0"),d.addClass("dokan-hide"),e.removeClass("dokan-hide")}},e={init:function(){var a=this;this.withdrawValidate(a)},withdrawValidate:function(){a("form.withdraw").validate({errorElement:"span",errorClass:"error",errorPlacement:b,success:c})}},f={init:function(){var a=this;this.couponsValidation(a)},couponsValidation:function(){a("form.coupons").validate({errorElement:"span",errorClass:"error",errorPlacement:b,success:c})}},g={init:function(){this.validate(this)},validate:function(){a("form#dokan-form-contact-seller").validate({errorPlacement:b,success:c,submitHandler:function(b){a(b).block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}});var c=a(b).serialize();a.post(dokan.ajaxurl,c,function(c){a(b).unblock(),"undefined"!=typeof c.data&&a(b).find(".ajax-response").html(c.data),a(b).find("input[type=text], input[type=email], textarea").val("").removeClass("valid")})}})}},h={init:function(){this.validate(this)},validate:function(){a("form#register").validate({errorPlacement:b,success:c,submitHandler:function(a){a.submit()}})}};a(function(){d.init(),e.init(),f.init(),g.init(),h.init()})}(jQuery),jQuery(function(a){window.WeDevs_Admin={imageUpload:function(b){b.preventDefault();var c=a(this),d=c.siblings("input.image_url");tb_show("","media-upload.php?post_id=0&amp;type=image&amp;TB_iframe=true"),window.send_to_editor=function(b){var e=a(b).attr("href");a(b).find("img").length>0&&(e=a(b).find("img").attr("src")),d.val(e);var f='<img src="'+e+'" alt="image" />';f+='<a href="#" class="remove-image"><span>Remove</span></a>',c.siblings(".image_placeholder").empty().append(f),tb_remove()}},removeImage:function(b){b.preventDefault();var c=a(this);c.parent(".image_placeholder").siblings("input.image_url").val(""),c.parent(".image_placeholder").empty()}}}),jQuery(function(a){a(".tips").tooltip(),a("select.grant_access_id").chosen(),a("ul.order-status").on("click","a.dokan-edit-status",function(){return a(this).addClass("dokan-hide").closest("li").next("li").removeClass("dokan-hide"),!1}),a("ul.order-status").on("click","a.dokan-cancel-status",function(){return a(this).closest("li").addClass("dokan-hide").prev("li").find("a.dokan-edit-status").removeClass("dokan-hide"),!1}),a("form#dokan-order-status-form").on("submit",function(b){b.preventDefault();var c=a(this),d=c.closest("li");d.block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}}),a.post(dokan.ajaxurl,c.serialize(),function(a){d.unblock();var b=d.prev();d.addClass("dokan-hide"),b.find("label").replaceWith(a),b.find("a.dokan-edit-status").removeClass("dokan-hide")})}),a("form#add-order-note").on("submit",function(b){return b.preventDefault(),a("textarea#add-note-content").val()?(a("#dokan-order-notes").block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}}),a.post(dokan.ajaxurl,a(this).serialize(),function(b){a("ul.order_notes").prepend(b),a("#dokan-order-notes").unblock(),a("#add-note-content").val("")}),!1):void 0}),a("#dokan-order-notes").on("click","a.delete_note",function(){var b=a(this).closest("li.note");a("#dokan-order-notes").block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}});var c={action:"woocommerce_delete_order_note",note_id:a(b).attr("rel"),security:a("#delete-note-security").val()};return a.post(dokan.ajaxurl,c,function(){a(b).remove(),a("#dokan-order-notes").unblock()}),!1}),a(".order_download_permissions").on("click","button.grant_access",function(){var b=a(this),c=a("select.grant_access_id").val();if(c){a(".order_download_permissions").block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}});var d={action:"dokan_grant_access_to_download",product_ids:c,loop:a(".order_download_permissions .panel").size(),order_id:b.data("order-id"),security:b.data("nonce")};return a.post(dokan.ajaxurl,d,function(b){b?a("#accordion").append(b):alert("Could not grant access - the user may already have permission for this file or billing email is not set. Ensure the billing email is set, and the order has been saved."),a(".datepicker").datepicker(),a(".order_download_permissions").unblock()}),!1}}),a(".order_download_permissions").on("click","button.revoke_access",function(b){b.preventDefault();var c=confirm("Are you sure you want to revoke access to this download?");if(c){var d=a(this),e=d.closest(".panel"),f=d.attr("rel").split(",")[0],g=d.attr("rel").split(",")[1];if(f>0){a(e).block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}});var h={action:"woocommerce_revoke_access_to_download",product_id:f,download_id:g,order_id:d.data("order-id"),security:d.data("nonce")};a.post(dokan.ajaxurl,h,function(){a(e).fadeOut("300",function(){a(e).remove()})})}else a(e).fadeOut("300",function(){a(e).remove()})}return!1})}),function(a){var b,c,d=a("#variants-holder"),e=a("#product_image_gallery"),f=a("#product_images_container ul.product_images"),g={init:function(){product_type="simple",a(".product-edit-container").on("click","._discounted_price",this.showDiscount),a(".product-edit-container").on("click","a.sale-schedule",this.showDiscountSchedule),a(".product-edit-container").on("click","input[type=checkbox]#_downloadable",this.downloadable),a(".product-edit-container").on("change","#_product_type",this.onChangeProductType),a("#product-attributes").on("click",".add-variant-category",this.variants.addCategory),a("#variants-holder").on("click",".box-header .row-remove",this.variants.removeCategory),a("#variants-holder").on("click",".item-action a.row-add",this.variants.addItem),a("#variants-holder").on("click",".item-action a.row-remove",this.variants.removeItem),a("#variable_product_options").on("click",".sale_schedule",this.variants.saleSchedule),a("#variable_product_options").on("click",".cancel_sale_schedule",this.variants.cancelSchedule),a("#variable_product_options").on("woocommerce_variations_added",this.variants.onVariantAdded),this.variants.dates(),this.variants.initSaleSchedule(),a(".save_attributes").on("click",this.variants.save),a("#dokan-product-images").on("click","a.add-product-images",this.gallery.addImages),a("#dokan-product-images").on("click","a.delete",this.gallery.deleteImage),this.gallery.sortable(),a(".product-edit-container").on("click","a.dokan-feat-image-btn",this.featuredImage.addImage),a(".product-edit-container").on("click","a.dokan-remove-feat-image",this.featuredImage.removeImage),a(".product-edit-container").on("click","a.upload_file_button",this.fileDownloadable),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-edit",this.sidebarToggle.showStatus),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-save",this.sidebarToggle.saveStatus),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-cacnel",this.sidebarToggle.cancel),a(".product-edit-container").on("click","a.insert-file-row",function(){return a(this).closest("table").find("tbody").append(a(this).data("row")),!1}),a(".product-edit-container").on("click","a.delete",function(){return a(this).closest("tr").remove(),!1})},showDiscount:function(){var b=a(this),c=b.is(":checked"),d=a(".special-price-container");c?d.removeClass("dokan-hide"):d.addClass("dokan-hide")},showDiscountSchedule:function(b){b.preventDefault(),a(".sale-schedule-container").slideToggle("fast")},onChangeProductType:function(){var b=a("#_product_type").val();"simple"===b?(product_type="simple",a("aside.downloadable").removeClass("dokan-hide"),a(".show_if_variable").addClass("dokan-hide"),a(".show_if_simple").removeClass("dokan-hide")):(product_type="variable",a("aside.downloadable").addClass("dokan-hide"),a(".show_if_variable").removeClass("dokan-hide"),a(".show_if_simple").addClass("dokan-hide"))},downloadable:function(){a(this).prop("checked")?a(this).closest("aside").find(".dokan-side-body").removeClass("dokan-hide"):a(this).closest("aside").find(".dokan-side-body").addClass("dokan-hide")},variants:{addCategory:function(b){b.preventDefault();var c=a(".inputs-box").length,e=_.template(a("#tmpl-sc-category").html(),{row:c});d.append(e).children(":last").hide().fadeIn(),"simple"===product_type&&d.find(".show_if_variable").hide()},removeCategory:function(b){b.preventDefault(),confirm("Sure?")&&a(this).parents(".inputs-box").fadeOut(function(){a(this).remove()})},addItem:function(b){b.preventDefault();var c=a(this),d=c.closest(".inputs-box"),e=c.closest("ul.option-couplet"),f=e.find("li").length,g=d.data("count"),h=_.template(a("#tmpl-sc-category-item").html());c.closest("li").after(h({row:g,col:f}))},removeItem:function(b){b.preventDefault();var c=a(this).parents("ul").find("li");c.length>1&&a(this).parents("li").fadeOut(function(){a(this).remove()})},save:function(){var b={post_id:a(this).data("id"),data:a(".woocommerce_attributes").find("input, select, textarea").serialize(),action:"dokan_save_attributes"},c=window.location.toString();a("#variants-holder").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),a.post(ajaxurl,b,function(b){console.log(b),a("#variable_product_options").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),a("#variable_product_options").load(c+" #variable_product_options_inner",function(){a("#variable_product_options").unblock()}),a("input.variable_is_downloadable, input.variable_is_virtual").trigger("change"),a("#variants-holder").unblock()})},initSaleSchedule:function(){a(".sale_price_dates_fields").each(function(){var b=a(this),c=!1,d=b.closest("div, table");b.find("input").each(function(){""!=a(this).val()&&(c=!0)}),c?(d.find(".sale_schedule").hide(),d.find(".sale_price_dates_fields").show()):(d.find(".sale_schedule").show(),d.find(".sale_price_dates_fields").hide())})},saleSchedule:function(){var b=a(this).closest("div, table");return a(this).hide(),b.find(".cancel_sale_schedule").show(),b.find(".sale_price_dates_fields").show(),!1},cancelSchedule:function(){var b=a(this).closest("div, table");return a(this).hide(),b.find(".sale_schedule").show(),b.find(".sale_price_dates_fields").hide(),b.find(".sale_price_dates_fields").find("input").val(""),!1},dates:function(){var b=a(".sale_price_dates_fields input").datepicker({defaultDate:"",dateFormat:"yy-mm-dd",numberOfMonths:1,onSelect:function(c){var d=a(this).is("#_sale_price_dates_from, .sale_price_dates_from")?"minDate":"maxDate",e=a(this).data("datepicker"),f=a.datepicker.parseDate(e.settings.dateFormat||a.datepicker._defaults.dateFormat,c,e.settings);b.not(this).datepicker("option",d,f)}})},onVariantAdded:function(){g.variants.dates()}},gallery:{addImages:function(a){a.preventDefault();var c=e.val();return b?void b.open():(b=wp.media.frames.downloadable_file=wp.media({title:"Add Images to Product Gallery",button:{text:"Add to gallery"},multiple:!0}),b.on("select",function(){var a=b.state().get("selection");a.map(function(a){a=a.toJSON(),a.id&&(c=c?c+","+a.id:a.id,f.append('                                <li class="image" data-attachment_id="'+a.id+'">                                    <img src="'+a.url+'" />                                    <ul class="actions">                                        <li><a href="#" class="delete" title="Delete image">Delete</a></li>                                    </ul>                                </li>'))}),e.val(c)}),void b.open())},deleteImage:function(b){b.preventDefault(),a(this).closest("li.image").remove();var c="";return a("#product_images_container ul li.image").css("cursor","default").each(function(){var b=a(this).attr("data-attachment_id");c=c+b+","}),e.val(c),!1},sortable:function(){f.sortable({items:"li.image",cursor:"move",scrollSensitivity:40,forcePlaceholderSize:!0,forceHelperSize:!1,helper:"clone",opacity:.65,placeholder:"dokan-sortable-placeholder",start:function(a,b){b.item.css("background-color","#f6f6f6")},stop:function(a,b){b.item.removeAttr("style")},update:function(){var b="";a("#product_images_container ul li.image").css("cursor","default").each(function(){var a=jQuery(this).attr("data-attachment_id");b=b+a+","}),e.val(b)}})}},featuredImage:{addImage:function(b){b.preventDefault();var d=a(this);return c?void c.open():(c=wp.media({title:"Upload featured image",button:{text:"Set featured image"}}),c.on("select",function(){var a=c.state().get("selection");a.map(function(a){a=a.toJSON(),console.log(a,d),d.siblings("input.dokan-feat-image-id").val(a.id);var b=d.closest(".instruction-inside"),c=b.siblings(".image-wrap");c.find("img").attr("src",a.url),b.addClass("dokan-hide"),c.removeClass("dokan-hide")})}),void c.open())},removeImage:function(b){b.preventDefault();var c=a(this),d=c.closest(".image-wrap"),e=d.siblings(".instruction-inside");e.find("input.dokan-feat-image-id").val("0"),d.addClass("dokan-hide"),e.removeClass("dokan-hide")}},fileDownloadable:function(b){b.preventDefault();var c,d=a(this);return c?void c.open():(c=wp.media({title:"Choose a file",button:{text:"Insert file URL"},multiple:!0}),c.on("select",function(){var a=c.state().get("selection");a.map(function(a){a=a.toJSON(),d.closest("tr").find("input.wc_file_url").val(a.url)})}),c.on("ready",function(){c.uploader.options.uploader.params={type:"downloadable_product"}}),void c.open())},sidebarToggle:{showStatus:function(){var b=a(this).siblings(".dokan-toggle-select-container");return b.is(":hidden")&&(b.slideDown("fast"),a(this).hide()),!1},saveStatus:function(){var b=a(this).closest(".dokan-toggle-select-container");b.slideUp("fast"),b.siblings("a.dokan-toggle-edit").show();var c=a("option:selected",b.find("select.dokan-toggle-select")).text();return b.siblings(".dokan-toggle-selected-display").html(c),!1},cancel:function(){var b=a(this).closest(".dokan-toggle-select-container");return b.slideUp("fast"),b.siblings("a.dokan-toggle-edit").show(),!1}}};a(function(){g.init(),a("#_product_type").trigger("change")})}(jQuery),function(a){var b={init:function(){a("#dokan-comments-table").on("click",".dokan-cmt-action",this.setCommentStatus),a("#dokan-comments-table").on("click","button.dokan-cmt-close-form",this.closeForm),a("#dokan-comments-table").on("click","button.dokan-cmt-submit-form",this.submitForm),a("#dokan-comments-table").on("click",".dokan-cmt-edit",this.populateForm),a(".dokan-check-all").on("click",this.toggleCheckbox)},toggleCheckbox:function(){a(".dokan-check-col").prop("checked",a(this).prop("checked"))},setCommentStatus:function(b){b.preventDefault();var c=a(this),d=c.data("comment_id"),e=c.data("cmt_status"),f=c.data("page_status"),g=c.data("post_type"),h=c.data("curr_page"),i=c.closest("tr"),j={action:"wpuf_comment_status",comment_id:d,comment_status:e,page_status:f,post_type:g,curr_page:h,nonce:dokan.nonce};a.post(dokan.ajaxurl,j,function(b){i.fadeOut(1!==f||1!==e&&0!==e?function(){a(this).remove()}:function(){i.replaceWith(b.data.content).fadeIn()}),null==b.data.pending&&(b.data.pending=0),null==b.data.spam&&(b.data.spam=0),null==b.data.trash&&(b.data.trash=0),a(".comments-menu-pending").text(b.data.pending),a(".comments-menu-spam").text(b.data.spam),a(".comments-menu-trash").text(b.data.trash)})},populateForm:function(b){b.preventDefault();var c=a(this).closest("tr");if(c.next().hasClass("dokan-comment-edit-row"))return void c.next().remove();var d=a("#dokan-edit-comment-row").html(),e={author:c.find(".dokan-cmt-hid-author").text(),email:c.find(".dokan-cmt-hid-email").text(),url:c.find(".dokan-cmt-hid-url").text(),body:c.find(".dokan-cmt-hid-body").text(),id:c.find(".dokan-cmt-hid-id").text(),status:c.find(".dokan-cmt-hid-status").text()};c.after(_.template(d,e))},closeForm:function(b){b.preventDefault(),a(this).closest("tr.dokan-comment-edit-row").remove()},submitForm:function(b){b.preventDefault();var c=a(this),d=c.closest("tr.dokan-comment-edit-row"),e={action:"dokan_update_comment",comment_id:d.find("input.dokan-cmt-id").val(),content:d.find("textarea.dokan-cmt-body").val(),author:d.find("input.dokan-cmt-author").val(),email:d.find("input.dokan-cmt-author-email").val(),url:d.find("input.dokan-cmt-author-url").val(),status:d.find("input.dokan-cmt-status").val(),nonce:dokan.nonce,post_type:d.find("input.dokan-cmt-post-type").val()};a.post(dokan.ajaxurl,e,function(a){a.success===!0?(d.prev().replaceWith(a.data),d.remove()):alert(a.data)})}};a(function(){b.init()})}(jQuery),jQuery(function(a){function b(a,b,c){jQuery('<div class="chart-tooltip">'+c+"</div>").css({top:b-16,left:a+20}).appendTo("body").fadeIn(200)}a("ul.dropdown-menu li.dropdown").hover(function(){a(this).addClass("open")},function(){a(this).removeClass("open")}),a(".datepicker").datepicker({dateFormat:"yy-mm-dd"}),a(".tips").tooltip();var c=a("ul.dokan-dashboard-menu"),d=a("#content article");d.height()>c.height()&&c.css({height:d.height()}),a(window).width()<767?a("#cat-drop-stack li.has-children").on("click","> a",function(b){b.preventDefault(),a(this).siblings(".sub-category").slideToggle("fast")}):a("#cat-drop-stack li.has-children > .sub-category").each(function(b,c){var d=a(c),e=d.find(".sub-block").length;3==e?d.css("width","260%"):e>3&&d.css("width","340%")});var e=null,f=null;jQuery(".chart-placeholder").bind("plothover",function(a,c,d){if(d){if((e!=d.dataIndex||f!=d.seriesIndex)&&(e=d.dataIndex,f=d.seriesIndex,jQuery(".chart-tooltip").remove(),d.series.points.show||d.series.enable_tooltip)){var g=d.series.data[d.dataIndex][1];tooltip_content="",d.series.prepend_label&&(tooltip_content=tooltip_content+d.series.label+": "),d.series.prepend_tooltip&&(tooltip_content+=d.series.prepend_tooltip),tooltip_content+=g,d.series.append_tooltip&&(tooltip_content+=d.series.append_tooltip),d.series.pie.show?b(c.pageX,c.pageY,tooltip_content):b(d.pageX,d.pageY,tooltip_content)}}else jQuery(".chart-tooltip").remove(),e=null}),a("body").on("added_to_cart",function(b,c){a("i.fa-shopping-cart").removeClass("fa-spin"),a(".dokan-cart-amount-top > .amount").fadeOut("fast",function(){a(".dokan-cart-amount-top > .amount").html(c.amount).fadeIn("fast")})}),a("body").on("adding_to_cart",function(b,c){a(c).children("i").addClass("fa-spin")})}),jQuery(function(a){a(".user-role input[type=radio]").on("change",function(){var b=a(this).val();"seller"===b?a(".show_if_seller").slideDown():a(".show_if_seller").slideUp()}),a("#company-name").on("focusout",function(){var b=a(this).val().toLowerCase().replace(/-+/g,"").replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"");a("#seller-url").val(b),a("#url-alart").text(b),a("#seller-url").focus()}),a("#seller-url").keydown(function(b){a(this).val(),-1!==a.inArray(b.keyCode,[46,8,9,27,13,91,109,110,173,189,190])||65==b.keyCode&&b.ctrlKey===!0||b.keyCode>=35&&b.keyCode<=39||(b.shiftKey||(b.keyCode<65||b.keyCode>90)&&(b.keyCode<48||b.keyCode>57))&&(b.keyCode<96||b.keyCode>105)&&b.preventDefault()}),a("#seller-url").keyup(function(){a("#url-alart").text(a(this).val())}),a("#shop-phone").keydown(function(b){-1!==a.inArray(b.keyCode,[46,8,9,27,13,91,107,109,110,187,189,190])||65==b.keyCode&&b.ctrlKey===!0||b.keyCode>=35&&b.keyCode<=39||(b.shiftKey||b.keyCode<48||b.keyCode>57)&&(b.keyCode<96||b.keyCode>105)&&b.preventDefault()}),a("#seller-url").on("focusout",function(){var b=a(this),c={action:"shop_url",url_slug:b.val(),_nonce:dokan.nonce};if(""!==b.val()){var d=b.closest(".form-row");d.block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}}),a.post(dokan.ajaxurl,c,function(b){0==b?(a("#url-alart").removeClass("text-success").addClass("text-danger"),a("#url-alart-mgs").removeClass("text-success").addClass("text-danger").text(dokan.seller.notAvailable)):(a("#url-alart").removeClass("text-danger").addClass("text-success"),a("#url-alart-mgs").removeClass("text-danger").addClass("text-success").text(dokan.seller.available)),d.unblock()})}})}),function(a){a.validator.setDefaults({ignore:":hidden"});var b=function(b,c){var d=a(c).closest(".form-group");d.addClass("has-error").append(b)},c=function(b,c){a(c).closest(".form-group").removeClass("has-error")},d={init:function(){var b=this;return a("a.dokan-banner-drag").on("click",this.imageUpload),a("a.dokan-remove-banner-image").on("click",this.removeBanner),a("a.dokan-gravatar-drag").on("click",this.gragatarImageUpload),a("a.dokan-remove-gravatar-image").on("click",this.removeGravatar),this.validateForm(b),!1},imageUpload:function(){var b,c=a(this);return b?void b.open():(b=wp.media.frames.file_frame=wp.media({title:jQuery(this).data("uploader_title"),button:{text:jQuery(this).data("uploader_button_text")},multiple:!1}),b.on("select",function(){var d=b.state().get("selection").first().toJSON(),e=c.closest(".dokan-banner");e.find("input.dokan-file-field").val(d.id),e.find("img.dokan-banner-img").attr("src",d.url),a(".image-wrap",e).removeClass("dokan-hide"),a(".button-area").addClass("dokan-hide")}),void b.open())},gragatarImageUpload:function(){var b,c=a(this);return b?void b.open():(b=wp.media.frames.file_frame=wp.media({title:jQuery(this).data("uploader_title"),button:{text:jQuery(this).data("uploader_button_text")},multiple:!1}),b.on("select",function(){var d=b.state().get("selection").first().toJSON(),e=c.closest(".dokan-gravatar");e.find("input.dokan-file-field").val(d.id),e.find("img.dokan-gravatar-img").attr("src",d.url),a(".gravatar-wrap",e).removeClass("dokan-hide"),a(".gravatar-button-area").addClass("dokan-hide")}),void b.open())},submitSettings:function(){var b=a("form#settings-form"),c=b.serialize()+"&action=dokan_settings";b.find(".ajax_prev").append('<span class="dokan-loading"> </span>'),a.post(dokan.ajaxurl,c,function(c){b.find("span.dokan-loading").remove(),a("html,body").animate({scrollTop:100}),a(".dokan-ajax-response").html(c.success?a("<div/>",{"class":"dokan-alert dokan-alert-success",html:"<p>"+c.data+"</p>"}):a("<div/>",{"class":"dokan-alert dokan-alert-danger",html:"<p>"+c.data+"</p>"}))})},validateForm:function(d){a("form#settings-form").validate({submitHandler:function(){d.submitSettings()},errorElement:"span",errorClass:"error",errorPlacement:b,success:c})},removeBanner:function(b){b.preventDefault();var c=a(this),d=c.closest(".image-wrap"),e=d.siblings(".button-area");d.find("input.dokan-file-field").val("0"),d.addClass("dokan-hide"),e.removeClass("dokan-hide")},removeGravatar:function(b){b.preventDefault();var c=a(this),d=c.closest(".gravatar-wrap"),e=d.siblings(".gravatar-button-area");d.find("input.dokan-file-field").val("0"),d.addClass("dokan-hide"),e.removeClass("dokan-hide")}},e={init:function(){var a=this;this.withdrawValidate(a)},withdrawValidate:function(){a("form.withdraw").validate({errorElement:"span",errorClass:"error",errorPlacement:b,success:c})}},f={init:function(){var a=this;this.couponsValidation(a)},couponsValidation:function(){a("form.coupons").validate({errorElement:"span",errorClass:"error",errorPlacement:b,success:c})}},g={init:function(){this.validate(this)},validate:function(){a("form#dokan-form-contact-seller").validate({errorPlacement:b,success:c,submitHandler:function(b){a(b).block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}});var c=a(b).serialize();a.post(dokan.ajaxurl,c,function(c){a(b).unblock(),"undefined"!=typeof c.data&&a(b).find(".ajax-response").html(c.data),a(b).find("input[type=text], input[type=email], textarea").val("").removeClass("valid")})}})}},h={init:function(){this.validate(this)},validate:function(){a("form#register").validate({errorPlacement:b,success:c,submitHandler:function(a){a.submit()}})}};a(function(){d.init(),e.init(),f.init(),g.init(),h.init()})}(jQuery),jQuery(function(a){window.WeDevs_Admin={imageUpload:function(b){b.preventDefault();var c=a(this),d=c.siblings("input.image_url");tb_show("","media-upload.php?post_id=0&amp;type=image&amp;TB_iframe=true"),window.send_to_editor=function(b){var e=a(b).attr("href");a(b).find("img").length>0&&(e=a(b).find("img").attr("src")),d.val(e);var f='<img src="'+e+'" alt="image" />';f+='<a href="#" class="remove-image"><span>Remove</span></a>',c.siblings(".image_placeholder").empty().append(f),tb_remove()}},removeImage:function(b){b.preventDefault();var c=a(this);c.parent(".image_placeholder").siblings("input.image_url").val(""),c.parent(".image_placeholder").empty()}}}),jQuery(function(a){a(".tips").tooltip(),a("select.grant_access_id").chosen(),a("ul.order-status").on("click","a.dokan-edit-status",function(){return a(this).addClass("dokan-hide").closest("li").next("li").removeClass("dokan-hide"),!1}),a("ul.order-status").on("click","a.dokan-cancel-status",function(){return a(this).closest("li").addClass("dokan-hide").prev("li").find("a.dokan-edit-status").removeClass("dokan-hide"),!1}),a("form#dokan-order-status-form").on("submit",function(b){b.preventDefault();var c=a(this),d=c.closest("li");d.block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}}),a.post(dokan.ajaxurl,c.serialize(),function(a){d.unblock();var b=d.prev();d.addClass("dokan-hide"),b.find("label").replaceWith(a),b.find("a.dokan-edit-status").removeClass("dokan-hide")})}),a("form#add-order-note").on("submit",function(b){return b.preventDefault(),a("textarea#add-note-content").val()?(a("#dokan-order-notes").block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}}),a.post(dokan.ajaxurl,a(this).serialize(),function(b){a("ul.order_notes").prepend(b),a("#dokan-order-notes").unblock(),a("#add-note-content").val("")}),!1):void 0}),a("#dokan-order-notes").on("click","a.delete_note",function(){var b=a(this).closest("li.note");a("#dokan-order-notes").block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}});var c={action:"woocommerce_delete_order_note",note_id:a(b).attr("rel"),security:a("#delete-note-security").val()};return a.post(dokan.ajaxurl,c,function(){a(b).remove(),a("#dokan-order-notes").unblock()}),!1}),a(".order_download_permissions").on("click","button.grant_access",function(){var b=a(this),c=a("select.grant_access_id").val();if(c){a(".order_download_permissions").block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}});var d={action:"dokan_grant_access_to_download",product_ids:c,loop:a(".order_download_permissions .panel").size(),order_id:b.data("order-id"),security:b.data("nonce")};return a.post(dokan.ajaxurl,d,function(b){b?a("#accordion").append(b):alert("Could not grant access - the user may already have permission for this file or billing email is not set. Ensure the billing email is set, and the order has been saved."),a(".datepicker").datepicker(),a(".order_download_permissions").unblock()}),!1}}),a(".order_download_permissions").on("click","button.revoke_access",function(b){b.preventDefault();var c=confirm("Are you sure you want to revoke access to this download?");if(c){var d=a(this),e=d.closest(".panel"),f=d.attr("rel").split(",")[0],g=d.attr("rel").split(",")[1];if(f>0){a(e).block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}});var h={action:"woocommerce_revoke_access_to_download",product_id:f,download_id:g,order_id:d.data("order-id"),security:d.data("nonce")};a.post(dokan.ajaxurl,h,function(){a(e).fadeOut("300",function(){a(e).remove()})})}else a(e).fadeOut("300",function(){a(e).remove()
})}return!1})}),function(a){var b,c,d=a("#variants-holder"),e=a("#product_image_gallery"),f=a("#product_images_container ul.product_images"),g={init:function(){product_type="simple",a(".product-edit-container").on("click","._discounted_price",this.showDiscount),a(".product-edit-container").on("click","a.sale-schedule",this.showDiscountSchedule),a(".product-edit-container").on("click","input[type=checkbox]#_downloadable",this.downloadable),a(".product-edit-container").on("change","#_product_type",this.onChangeProductType),a("#product-attributes").on("click",".add-variant-category",this.variants.addCategory),a("#variants-holder").on("click",".box-header .row-remove",this.variants.removeCategory),a("#variants-holder").on("click",".item-action a.row-add",this.variants.addItem),a("#variants-holder").on("click",".item-action a.row-remove",this.variants.removeItem),a("#variable_product_options").on("click",".sale_schedule",this.variants.saleSchedule),a("#variable_product_options").on("click",".cancel_sale_schedule",this.variants.cancelSchedule),a("#variable_product_options").on("woocommerce_variations_added",this.variants.onVariantAdded),this.variants.dates(),this.variants.initSaleSchedule(),a(".save_attributes").on("click",this.variants.save),a("#dokan-product-images").on("click","a.add-product-images",this.gallery.addImages),a("#dokan-product-images").on("click","a.delete",this.gallery.deleteImage),this.gallery.sortable(),a(".product-edit-container").on("click","a.dokan-feat-image-btn",this.featuredImage.addImage),a(".product-edit-container").on("click","a.dokan-remove-feat-image",this.featuredImage.removeImage),a(".product-edit-container").on("click","a.upload_file_button",this.fileDownloadable),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-edit",this.sidebarToggle.showStatus),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-save",this.sidebarToggle.saveStatus),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-cacnel",this.sidebarToggle.cancel),a(".product-edit-container").on("click","a.insert-file-row",function(){return a(this).closest("table").find("tbody").append(a(this).data("row")),!1}),a(".product-edit-container").on("click","a.delete",function(){return a(this).closest("tr").remove(),!1})},showDiscount:function(){var b=a(this),c=b.is(":checked"),d=a(".special-price-container");c?d.removeClass("dokan-hide"):d.addClass("dokan-hide")},showDiscountSchedule:function(b){b.preventDefault(),a(".sale-schedule-container").slideToggle("fast")},onChangeProductType:function(){var b=a("#_product_type").val();"simple"===b?(product_type="simple",a("aside.downloadable").removeClass("dokan-hide"),a(".show_if_variable").addClass("dokan-hide"),a(".show_if_simple").removeClass("dokan-hide")):(product_type="variable",a("aside.downloadable").addClass("dokan-hide"),a(".show_if_variable").removeClass("dokan-hide"),a(".show_if_simple").addClass("dokan-hide"))},downloadable:function(){a(this).prop("checked")?a(this).closest("aside").find(".dokan-side-body").removeClass("dokan-hide"):a(this).closest("aside").find(".dokan-side-body").addClass("dokan-hide")},variants:{addCategory:function(b){b.preventDefault();var c=a(".inputs-box").length,e=_.template(a("#tmpl-sc-category").html(),{row:c});d.append(e).children(":last").hide().fadeIn(),"simple"===product_type&&d.find(".show_if_variable").hide()},removeCategory:function(b){b.preventDefault(),confirm("Sure?")&&a(this).parents(".inputs-box").fadeOut(function(){a(this).remove()})},addItem:function(b){b.preventDefault();var c=a(this),d=c.closest(".inputs-box"),e=c.closest("ul.option-couplet"),f=e.find("li").length,g=d.data("count"),h=_.template(a("#tmpl-sc-category-item").html());c.closest("li").after(h({row:g,col:f}))},removeItem:function(b){b.preventDefault();var c=a(this).parents("ul").find("li");c.length>1&&a(this).parents("li").fadeOut(function(){a(this).remove()})},save:function(){var b={post_id:a(this).data("id"),data:a(".woocommerce_attributes").find("input, select, textarea").serialize(),action:"dokan_save_attributes"},c=window.location.toString();a("#variants-holder").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),a.post(ajaxurl,b,function(b){console.log(b),a("#variable_product_options").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),a("#variable_product_options").load(c+" #variable_product_options_inner",function(){a("#variable_product_options").unblock()}),a("input.variable_is_downloadable, input.variable_is_virtual").trigger("change"),a("#variants-holder").unblock()})},initSaleSchedule:function(){a(".sale_price_dates_fields").each(function(){var b=a(this),c=!1,d=b.closest("div, table");b.find("input").each(function(){""!=a(this).val()&&(c=!0)}),c?(d.find(".sale_schedule").hide(),d.find(".sale_price_dates_fields").show()):(d.find(".sale_schedule").show(),d.find(".sale_price_dates_fields").hide())})},saleSchedule:function(){var b=a(this).closest("div, table");return a(this).hide(),b.find(".cancel_sale_schedule").show(),b.find(".sale_price_dates_fields").show(),!1},cancelSchedule:function(){var b=a(this).closest("div, table");return a(this).hide(),b.find(".sale_schedule").show(),b.find(".sale_price_dates_fields").hide(),b.find(".sale_price_dates_fields").find("input").val(""),!1},dates:function(){var b=a(".sale_price_dates_fields input").datepicker({defaultDate:"",dateFormat:"yy-mm-dd",numberOfMonths:1,onSelect:function(c){var d=a(this).is("#_sale_price_dates_from, .sale_price_dates_from")?"minDate":"maxDate",e=a(this).data("datepicker"),f=a.datepicker.parseDate(e.settings.dateFormat||a.datepicker._defaults.dateFormat,c,e.settings);b.not(this).datepicker("option",d,f)}})},onVariantAdded:function(){g.variants.dates()}},gallery:{addImages:function(a){a.preventDefault();var c=e.val();return b?void b.open():(b=wp.media.frames.downloadable_file=wp.media({title:"Add Images to Product Gallery",button:{text:"Add to gallery"},multiple:!0}),b.on("select",function(){var a=b.state().get("selection");a.map(function(a){a=a.toJSON(),a.id&&(c=c?c+","+a.id:a.id,f.append('                                <li class="image" data-attachment_id="'+a.id+'">                                    <img src="'+a.url+'" />                                    <ul class="actions">                                        <li><a href="#" class="delete" title="Delete image">Delete</a></li>                                    </ul>                                </li>'))}),e.val(c)}),void b.open())},deleteImage:function(b){b.preventDefault(),a(this).closest("li.image").remove();var c="";return a("#product_images_container ul li.image").css("cursor","default").each(function(){var b=a(this).attr("data-attachment_id");c=c+b+","}),e.val(c),!1},sortable:function(){f.sortable({items:"li.image",cursor:"move",scrollSensitivity:40,forcePlaceholderSize:!0,forceHelperSize:!1,helper:"clone",opacity:.65,placeholder:"dokan-sortable-placeholder",start:function(a,b){b.item.css("background-color","#f6f6f6")},stop:function(a,b){b.item.removeAttr("style")},update:function(){var b="";a("#product_images_container ul li.image").css("cursor","default").each(function(){var a=jQuery(this).attr("data-attachment_id");b=b+a+","}),e.val(b)}})}},featuredImage:{addImage:function(b){b.preventDefault();var d=a(this);return c?void c.open():(c=wp.media({title:"Upload featured image",button:{text:"Set featured image"}}),c.on("select",function(){var a=c.state().get("selection");a.map(function(a){a=a.toJSON(),console.log(a,d),d.siblings("input.dokan-feat-image-id").val(a.id);var b=d.closest(".instruction-inside"),c=b.siblings(".image-wrap");c.find("img").attr("src",a.url),b.addClass("dokan-hide"),c.removeClass("dokan-hide")})}),void c.open())},removeImage:function(b){b.preventDefault();var c=a(this),d=c.closest(".image-wrap"),e=d.siblings(".instruction-inside");e.find("input.dokan-feat-image-id").val("0"),d.addClass("dokan-hide"),e.removeClass("dokan-hide")}},fileDownloadable:function(b){b.preventDefault();var c,d=a(this);return c?void c.open():(c=wp.media({title:"Choose a file",button:{text:"Insert file URL"},multiple:!0}),c.on("select",function(){var a=c.state().get("selection");a.map(function(a){a=a.toJSON(),d.closest("tr").find("input.wc_file_url").val(a.url)})}),c.on("ready",function(){c.uploader.options.uploader.params={type:"downloadable_product"}}),void c.open())},sidebarToggle:{showStatus:function(){var b=a(this).siblings(".dokan-toggle-select-container");return b.is(":hidden")&&(b.slideDown("fast"),a(this).hide()),!1},saveStatus:function(){var b=a(this).closest(".dokan-toggle-select-container");b.slideUp("fast"),b.siblings("a.dokan-toggle-edit").show();var c=a("option:selected",b.find("select.dokan-toggle-select")).text();return b.siblings(".dokan-toggle-selected-display").html(c),!1},cancel:function(){var b=a(this).closest(".dokan-toggle-select-container");return b.slideUp("fast"),b.siblings("a.dokan-toggle-edit").show(),!1}}};a(function(){g.init(),a("#_product_type").trigger("change")})}(jQuery),function(a){var b={init:function(){a("#dokan-comments-table").on("click",".dokan-cmt-action",this.setCommentStatus),a("#dokan-comments-table").on("click","button.dokan-cmt-close-form",this.closeForm),a("#dokan-comments-table").on("click","button.dokan-cmt-submit-form",this.submitForm),a("#dokan-comments-table").on("click",".dokan-cmt-edit",this.populateForm),a(".dokan-check-all").on("click",this.toggleCheckbox)},toggleCheckbox:function(){a(".dokan-check-col").prop("checked",a(this).prop("checked"))},setCommentStatus:function(b){b.preventDefault();var c=a(this),d=c.data("comment_id"),e=c.data("cmt_status"),f=c.data("page_status"),g=c.data("post_type"),h=c.data("curr_page"),i=c.closest("tr"),j={action:"wpuf_comment_status",comment_id:d,comment_status:e,page_status:f,post_type:g,curr_page:h,nonce:dokan.nonce};a.post(dokan.ajaxurl,j,function(b){i.fadeOut(1!==f||1!==e&&0!==e?function(){a(this).remove()}:function(){i.replaceWith(b.data.content).fadeIn()}),null==b.data.pending&&(b.data.pending=0),null==b.data.spam&&(b.data.spam=0),null==b.data.trash&&(b.data.trash=0),a(".comments-menu-pending").text(b.data.pending),a(".comments-menu-spam").text(b.data.spam),a(".comments-menu-trash").text(b.data.trash)})},populateForm:function(b){b.preventDefault();var c=a(this).closest("tr");if(c.next().hasClass("dokan-comment-edit-row"))return void c.next().remove();var d=a("#dokan-edit-comment-row").html(),e={author:c.find(".dokan-cmt-hid-author").text(),email:c.find(".dokan-cmt-hid-email").text(),url:c.find(".dokan-cmt-hid-url").text(),body:c.find(".dokan-cmt-hid-body").text(),id:c.find(".dokan-cmt-hid-id").text(),status:c.find(".dokan-cmt-hid-status").text()};c.after(_.template(d,e))},closeForm:function(b){b.preventDefault(),a(this).closest("tr.dokan-comment-edit-row").remove()},submitForm:function(b){b.preventDefault();var c=a(this),d=c.closest("tr.dokan-comment-edit-row"),e={action:"dokan_update_comment",comment_id:d.find("input.dokan-cmt-id").val(),content:d.find("textarea.dokan-cmt-body").val(),author:d.find("input.dokan-cmt-author").val(),email:d.find("input.dokan-cmt-author-email").val(),url:d.find("input.dokan-cmt-author-url").val(),status:d.find("input.dokan-cmt-status").val(),nonce:dokan.nonce,post_type:d.find("input.dokan-cmt-post-type").val()};a.post(dokan.ajaxurl,e,function(a){a.success===!0?(d.prev().replaceWith(a.data),d.remove()):alert(a.data)})}};a(function(){b.init()})}(jQuery),jQuery(function(a){function b(a,b,c){jQuery('<div class="chart-tooltip">'+c+"</div>").css({top:b-16,left:a+20}).appendTo("body").fadeIn(200)}a("ul.dropdown-menu li.dropdown").hover(function(){a(this).addClass("open")},function(){a(this).removeClass("open")}),a(".datepicker").datepicker({dateFormat:"yy-mm-dd"}),a(".tips").tooltip();var c=a("ul.dokan-dashboard-menu"),d=a("#content article");d.height()>c.height()&&c.css({height:d.height()}),a(window).width()<767?a("#cat-drop-stack li.has-children").on("click","> a",function(b){b.preventDefault(),a(this).siblings(".sub-category").slideToggle("fast")}):a("#cat-drop-stack li.has-children > .sub-category").each(function(b,c){var d=a(c),e=d.find(".sub-block").length;3==e?d.css("width","260%"):e>3&&d.css("width","340%")});var e=null,f=null;jQuery(".chart-placeholder").bind("plothover",function(a,c,d){if(d){if((e!=d.dataIndex||f!=d.seriesIndex)&&(e=d.dataIndex,f=d.seriesIndex,jQuery(".chart-tooltip").remove(),d.series.points.show||d.series.enable_tooltip)){var g=d.series.data[d.dataIndex][1];tooltip_content="",d.series.prepend_label&&(tooltip_content=tooltip_content+d.series.label+": "),d.series.prepend_tooltip&&(tooltip_content+=d.series.prepend_tooltip),tooltip_content+=g,d.series.append_tooltip&&(tooltip_content+=d.series.append_tooltip),d.series.pie.show?b(c.pageX,c.pageY,tooltip_content):b(d.pageX,d.pageY,tooltip_content)}}else jQuery(".chart-tooltip").remove(),e=null}),a("body").on("added_to_cart",function(b,c){a("i.fa-shopping-cart").removeClass("fa-spin"),a(".dokan-cart-amount-top > .amount").fadeOut("fast",function(){a(".dokan-cart-amount-top > .amount").html(c.amount).fadeIn("fast")})}),a("body").on("adding_to_cart",function(b,c){a(c).children("i").addClass("fa-spin")})}),jQuery(function(a){a(".user-role input[type=radio]").on("change",function(){var b=a(this).val();"seller"===b?a(".show_if_seller").slideDown():a(".show_if_seller").slideUp()}),a("#company-name").on("focusout",function(){var b=a(this).val().toLowerCase().replace(/-+/g,"").replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"");a("#seller-url").val(b),a("#url-alart").text(b),a("#seller-url").focus()}),a("#seller-url").keydown(function(b){a(this).val(),-1!==a.inArray(b.keyCode,[46,8,9,27,13,91,109,110,173,189,190])||65==b.keyCode&&b.ctrlKey===!0||b.keyCode>=35&&b.keyCode<=39||(b.shiftKey||(b.keyCode<65||b.keyCode>90)&&(b.keyCode<48||b.keyCode>57))&&(b.keyCode<96||b.keyCode>105)&&b.preventDefault()}),a("#seller-url").keyup(function(){a("#url-alart").text(a(this).val())}),a("#shop-phone").keydown(function(b){-1!==a.inArray(b.keyCode,[46,8,9,27,13,91,107,109,110,187,189,190])||65==b.keyCode&&b.ctrlKey===!0||b.keyCode>=35&&b.keyCode<=39||(b.shiftKey||b.keyCode<48||b.keyCode>57)&&(b.keyCode<96||b.keyCode>105)&&b.preventDefault()}),a("#seller-url").on("focusout",function(){var b=a(this),c={action:"shop_url",url_slug:b.val(),_nonce:dokan.nonce};if(""!==b.val()){var d=b.closest(".form-row");d.block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}}),a.post(dokan.ajaxurl,c,function(b){0==b?(a("#url-alart").removeClass("text-success").addClass("text-danger"),a("#url-alart-mgs").removeClass("text-success").addClass("text-danger").text(dokan.seller.notAvailable)):(a("#url-alart").removeClass("text-danger").addClass("text-success"),a("#url-alart-mgs").removeClass("text-danger").addClass("text-success").text(dokan.seller.available)),d.unblock()})}})}),function(a){a.validator.setDefaults({ignore:":hidden"});var b=function(b,c){var d=a(c).closest(".form-group");d.addClass("has-error").append(b)},c=function(b,c){a(c).closest(".form-group").removeClass("has-error")},d={init:function(){var b=this;return a("a.dokan-banner-drag").on("click",this.imageUpload),a("a.dokan-remove-banner-image").on("click",this.removeBanner),a("a.dokan-gravatar-drag").on("click",this.gragatarImageUpload),a("a.dokan-remove-gravatar-image").on("click",this.removeGravatar),this.validateForm(b),!1},imageUpload:function(){var b,c=a(this);return b?void b.open():(b=wp.media.frames.file_frame=wp.media({title:jQuery(this).data("uploader_title"),button:{text:jQuery(this).data("uploader_button_text")},multiple:!1}),b.on("select",function(){var d=b.state().get("selection").first().toJSON(),e=c.closest(".dokan-banner");e.find("input.dokan-file-field").val(d.id),e.find("img.dokan-banner-img").attr("src",d.url),a(".image-wrap",e).removeClass("dokan-hide"),a(".button-area").addClass("dokan-hide")}),void b.open())},gragatarImageUpload:function(){var b,c=a(this);return b?void b.open():(b=wp.media.frames.file_frame=wp.media({title:jQuery(this).data("uploader_title"),button:{text:jQuery(this).data("uploader_button_text")},multiple:!1}),b.on("select",function(){var d=b.state().get("selection").first().toJSON(),e=c.closest(".dokan-gravatar");e.find("input.dokan-file-field").val(d.id),e.find("img.dokan-gravatar-img").attr("src",d.url),a(".gravatar-wrap",e).removeClass("dokan-hide"),a(".gravatar-button-area").addClass("dokan-hide")}),void b.open())},submitSettings:function(){var b=a("form#settings-form"),c=b.serialize()+"&action=dokan_settings";b.find(".ajax_prev").append('<span class="dokan-loading"> </span>'),a.post(dokan.ajaxurl,c,function(c){b.find("span.dokan-loading").remove(),a("html,body").animate({scrollTop:100}),a(".dokan-ajax-response").html(c.success?a("<div/>",{"class":"dokan-alert dokan-alert-success",html:"<p>"+c.data+"</p>"}):a("<div/>",{"class":"dokan-alert dokan-alert-danger",html:"<p>"+c.data+"</p>"}))})},validateForm:function(d){a("form#settings-form").validate({submitHandler:function(){d.submitSettings()},errorElement:"span",errorClass:"error",errorPlacement:b,success:c})},removeBanner:function(b){b.preventDefault();var c=a(this),d=c.closest(".image-wrap"),e=d.siblings(".button-area");d.find("input.dokan-file-field").val("0"),d.addClass("dokan-hide"),e.removeClass("dokan-hide")},removeGravatar:function(b){b.preventDefault();var c=a(this),d=c.closest(".gravatar-wrap"),e=d.siblings(".gravatar-button-area");d.find("input.dokan-file-field").val("0"),d.addClass("dokan-hide"),e.removeClass("dokan-hide")}},e={init:function(){var a=this;this.withdrawValidate(a)},withdrawValidate:function(){a("form.withdraw").validate({errorElement:"span",errorClass:"error",errorPlacement:b,success:c})}},f={init:function(){var a=this;this.couponsValidation(a)},couponsValidation:function(){a("form.coupons").validate({errorElement:"span",errorClass:"error",errorPlacement:b,success:c})}},g={init:function(){this.validate(this)},validate:function(){a("form#dokan-form-contact-seller").validate({errorPlacement:b,success:c,submitHandler:function(b){a(b).block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}});var c=a(b).serialize();a.post(dokan.ajaxurl,c,function(c){a(b).unblock(),"undefined"!=typeof c.data&&a(b).find(".ajax-response").html(c.data),a(b).find("input[type=text], input[type=email], textarea").val("").removeClass("valid")})}})}},h={init:function(){this.validate(this)},validate:function(){a("form#register").validate({errorPlacement:b,success:c,submitHandler:function(a){a.submit()}})}};a(function(){d.init(),e.init(),f.init(),g.init(),h.init()})}(jQuery),jQuery(function(a){window.WeDevs_Admin={imageUpload:function(b){b.preventDefault();var c=a(this),d=c.siblings("input.image_url");tb_show("","media-upload.php?post_id=0&amp;type=image&amp;TB_iframe=true"),window.send_to_editor=function(b){var e=a(b).attr("href");a(b).find("img").length>0&&(e=a(b).find("img").attr("src")),d.val(e);var f='<img src="'+e+'" alt="image" />';f+='<a href="#" class="remove-image"><span>Remove</span></a>',c.siblings(".image_placeholder").empty().append(f),tb_remove()}},removeImage:function(b){b.preventDefault();var c=a(this);c.parent(".image_placeholder").siblings("input.image_url").val(""),c.parent(".image_placeholder").empty()}}}),jQuery(function(a){a(".tips").tooltip(),a("select.grant_access_id").chosen(),a("ul.order-status").on("click","a.dokan-edit-status",function(){return a(this).addClass("dokan-hide").closest("li").next("li").removeClass("dokan-hide"),!1}),a("ul.order-status").on("click","a.dokan-cancel-status",function(){return a(this).closest("li").addClass("dokan-hide").prev("li").find("a.dokan-edit-status").removeClass("dokan-hide"),!1}),a("form#dokan-order-status-form").on("submit",function(b){b.preventDefault();var c=a(this),d=c.closest("li");d.block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}}),a.post(dokan.ajaxurl,c.serialize(),function(a){d.unblock();var b=d.prev();d.addClass("dokan-hide"),b.find("label").replaceWith(a),b.find("a.dokan-edit-status").removeClass("dokan-hide")})}),a("form#add-order-note").on("submit",function(b){return b.preventDefault(),a("textarea#add-note-content").val()?(a("#dokan-order-notes").block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}}),a.post(dokan.ajaxurl,a(this).serialize(),function(b){a("ul.order_notes").prepend(b),a("#dokan-order-notes").unblock(),a("#add-note-content").val("")}),!1):void 0}),a("#dokan-order-notes").on("click","a.delete_note",function(){var b=a(this).closest("li.note");a("#dokan-order-notes").block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}});var c={action:"woocommerce_delete_order_note",note_id:a(b).attr("rel"),security:a("#delete-note-security").val()};return a.post(dokan.ajaxurl,c,function(){a(b).remove(),a("#dokan-order-notes").unblock()}),!1}),a(".order_download_permissions").on("click","button.grant_access",function(){var b=a(this),c=a("select.grant_access_id").val();if(c){a(".order_download_permissions").block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}});var d={action:"dokan_grant_access_to_download",product_ids:c,loop:a(".order_download_permissions .panel").size(),order_id:b.data("order-id"),security:b.data("nonce")};return a.post(dokan.ajaxurl,d,function(b){b?a("#accordion").append(b):alert("Could not grant access - the user may already have permission for this file or billing email is not set. Ensure the billing email is set, and the order has been saved."),a(".datepicker").datepicker(),a(".order_download_permissions").unblock()}),!1}}),a(".order_download_permissions").on("click","button.revoke_access",function(b){b.preventDefault();var c=confirm("Are you sure you want to revoke access to this download?");if(c){var d=a(this),e=d.closest(".panel"),f=d.attr("rel").split(",")[0],g=d.attr("rel").split(",")[1];if(f>0){a(e).block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}});var h={action:"woocommerce_revoke_access_to_download",product_id:f,download_id:g,order_id:d.data("order-id"),security:d.data("nonce")};a.post(dokan.ajaxurl,h,function(){a(e).fadeOut("300",function(){a(e).remove()})})}else a(e).fadeOut("300",function(){a(e).remove()})}return!1})}),function(a){var b,c,d=a("#variants-holder"),e=a("#product_image_gallery"),f=a("#product_images_container ul.product_images"),g={init:function(){product_type="simple",a(".product-edit-container").on("click","._discounted_price",this.showDiscount),a(".product-edit-container").on("click","a.sale-schedule",this.showDiscountSchedule),a(".product-edit-container").on("click","input[type=checkbox]#_downloadable",this.downloadable),a(".product-edit-container").on("change","#_product_type",this.onChangeProductType),a("#product-attributes").on("click",".add-variant-category",this.variants.addCategory),a("#variants-holder").on("click",".box-header .row-remove",this.variants.removeCategory),a("#variants-holder").on("click",".item-action a.row-add",this.variants.addItem),a("#variants-holder").on("click",".item-action a.row-remove",this.variants.removeItem),a("#variable_product_options").on("click",".sale_schedule",this.variants.saleSchedule),a("#variable_product_options").on("click",".cancel_sale_schedule",this.variants.cancelSchedule),a("#variable_product_options").on("woocommerce_variations_added",this.variants.onVariantAdded),this.variants.dates(),this.variants.initSaleSchedule(),a(".save_attributes").on("click",this.variants.save),a("#dokan-product-images").on("click","a.add-product-images",this.gallery.addImages),a("#dokan-product-images").on("click","a.delete",this.gallery.deleteImage),this.gallery.sortable(),a(".product-edit-container").on("click","a.dokan-feat-image-btn",this.featuredImage.addImage),a(".product-edit-container").on("click","a.dokan-remove-feat-image",this.featuredImage.removeImage),a(".product-edit-container").on("click","a.upload_file_button",this.fileDownloadable),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-edit",this.sidebarToggle.showStatus),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-save",this.sidebarToggle.saveStatus),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-cacnel",this.sidebarToggle.cancel),a(".product-edit-container").on("click","a.insert-file-row",function(){return a(this).closest("table").find("tbody").append(a(this).data("row")),!1}),a(".product-edit-container").on("click","a.delete",function(){return a(this).closest("tr").remove(),!1})},showDiscount:function(){var b=a(this),c=b.is(":checked"),d=a(".special-price-container");c?d.removeClass("dokan-hide"):d.addClass("dokan-hide")},showDiscountSchedule:function(b){b.preventDefault(),a(".sale-schedule-container").slideToggle("fast")},onChangeProductType:function(){var b=a("#_product_type").val();"simple"===b?(product_type="simple",a("aside.downloadable").removeClass("dokan-hide"),a(".show_if_variable").addClass("dokan-hide"),a(".show_if_simple").removeClass("dokan-hide")):(product_type="variable",a("aside.downloadable").addClass("dokan-hide"),a(".show_if_variable").removeClass("dokan-hide"),a(".show_if_simple").addClass("dokan-hide"))},downloadable:function(){a(this).prop("checked")?a(this).closest("aside").find(".dokan-side-body").removeClass("dokan-hide"):a(this).closest("aside").find(".dokan-side-body").addClass("dokan-hide")},variants:{addCategory:function(b){b.preventDefault();var c=a(".inputs-box").length,e=_.template(a("#tmpl-sc-category").html(),{row:c});d.append(e).children(":last").hide().fadeIn(),"simple"===product_type&&d.find(".show_if_variable").hide()},removeCategory:function(b){b.preventDefault(),confirm("Sure?")&&a(this).parents(".inputs-box").fadeOut(function(){a(this).remove()})},addItem:function(b){b.preventDefault();var c=a(this),d=c.closest(".inputs-box"),e=c.closest("ul.option-couplet"),f=e.find("li").length,g=d.data("count"),h=_.template(a("#tmpl-sc-category-item").html());c.closest("li").after(h({row:g,col:f}))},removeItem:function(b){b.preventDefault();var c=a(this).parents("ul").find("li");c.length>1&&a(this).parents("li").fadeOut(function(){a(this).remove()})},save:function(){var b={post_id:a(this).data("id"),data:a(".woocommerce_attributes").find("input, select, textarea").serialize(),action:"dokan_save_attributes"},c=window.location.toString();a("#variants-holder").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),a.post(ajaxurl,b,function(b){console.log(b),a("#variable_product_options").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),a("#variable_product_options").load(c+" #variable_product_options_inner",function(){a("#variable_product_options").unblock()}),a("input.variable_is_downloadable, input.variable_is_virtual").trigger("change"),a("#variants-holder").unblock()})},initSaleSchedule:function(){a(".sale_price_dates_fields").each(function(){var b=a(this),c=!1,d=b.closest("div, table");b.find("input").each(function(){""!=a(this).val()&&(c=!0)}),c?(d.find(".sale_schedule").hide(),d.find(".sale_price_dates_fields").show()):(d.find(".sale_schedule").show(),d.find(".sale_price_dates_fields").hide())})},saleSchedule:function(){var b=a(this).closest("div, table");return a(this).hide(),b.find(".cancel_sale_schedule").show(),b.find(".sale_price_dates_fields").show(),!1},cancelSchedule:function(){var b=a(this).closest("div, table");return a(this).hide(),b.find(".sale_schedule").show(),b.find(".sale_price_dates_fields").hide(),b.find(".sale_price_dates_fields").find("input").val(""),!1},dates:function(){var b=a(".sale_price_dates_fields input").datepicker({defaultDate:"",dateFormat:"yy-mm-dd",numberOfMonths:1,onSelect:function(c){var d=a(this).is("#_sale_price_dates_from, .sale_price_dates_from")?"minDate":"maxDate",e=a(this).data("datepicker"),f=a.datepicker.parseDate(e.settings.dateFormat||a.datepicker._defaults.dateFormat,c,e.settings);b.not(this).datepicker("option",d,f)}})},onVariantAdded:function(){g.variants.dates()}},gallery:{addImages:function(a){a.preventDefault();var c=e.val();return b?void b.open():(b=wp.media.frames.downloadable_file=wp.media({title:"Add Images to Product Gallery",button:{text:"Add to gallery"},multiple:!0}),b.on("select",function(){var a=b.state().get("selection");a.map(function(a){a=a.toJSON(),a.id&&(c=c?c+","+a.id:a.id,f.append('                                <li class="image" data-attachment_id="'+a.id+'">                                    <img src="'+a.url+'" />                                    <ul class="actions">                                        <li><a href="#" class="delete" title="Delete image">Delete</a></li>                                    </ul>                                </li>'))}),e.val(c)}),void b.open())},deleteImage:function(b){b.preventDefault(),a(this).closest("li.image").remove();var c="";return a("#product_images_container ul li.image").css("cursor","default").each(function(){var b=a(this).attr("data-attachment_id");c=c+b+","}),e.val(c),!1},sortable:function(){f.sortable({items:"li.image",cursor:"move",scrollSensitivity:40,forcePlaceholderSize:!0,forceHelperSize:!1,helper:"clone",opacity:.65,placeholder:"dokan-sortable-placeholder",start:function(a,b){b.item.css("background-color","#f6f6f6")},stop:function(a,b){b.item.removeAttr("style")},update:function(){var b="";a("#product_images_container ul li.image").css("cursor","default").each(function(){var a=jQuery(this).attr("data-attachment_id");b=b+a+","}),e.val(b)}})}},featuredImage:{addImage:function(b){b.preventDefault();var d=a(this);return c?void c.open():(c=wp.media({title:"Upload featured image",button:{text:"Set featured image"}}),c.on("select",function(){var a=c.state().get("selection");a.map(function(a){a=a.toJSON(),console.log(a,d),d.siblings("input.dokan-feat-image-id").val(a.id);var b=d.closest(".instruction-inside"),c=b.siblings(".image-wrap");c.find("img").attr("src",a.url),b.addClass("dokan-hide"),c.removeClass("dokan-hide")})}),void c.open())},removeImage:function(b){b.preventDefault();var c=a(this),d=c.closest(".image-wrap"),e=d.siblings(".instruction-inside");e.find("input.dokan-feat-image-id").val("0"),d.addClass("dokan-hide"),e.removeClass("dokan-hide")}},fileDownloadable:function(b){b.preventDefault();var c,d=a(this);return c?void c.open():(c=wp.media({title:"Choose a file",button:{text:"Insert file URL"},multiple:!0}),c.on("select",function(){var a=c.state().get("selection");a.map(function(a){a=a.toJSON(),d.closest("tr").find("input.wc_file_url").val(a.url)})}),c.on("ready",function(){c.uploader.options.uploader.params={type:"downloadable_product"}}),void c.open())},sidebarToggle:{showStatus:function(){var b=a(this).siblings(".dokan-toggle-select-container");return b.is(":hidden")&&(b.slideDown("fast"),a(this).hide()),!1},saveStatus:function(){var b=a(this).closest(".dokan-toggle-select-container");b.slideUp("fast"),b.siblings("a.dokan-toggle-edit").show();var c=a("option:selected",b.find("select.dokan-toggle-select")).text();return b.siblings(".dokan-toggle-selected-display").html(c),!1},cancel:function(){var b=a(this).closest(".dokan-toggle-select-container");return b.slideUp("fast"),b.siblings("a.dokan-toggle-edit").show(),!1}}};a(function(){g.init(),a("#_product_type").trigger("change")})}(jQuery),function(a){var b={init:function(){a("#dokan-comments-table").on("click",".dokan-cmt-action",this.setCommentStatus),a("#dokan-comments-table").on("click","button.dokan-cmt-close-form",this.closeForm),a("#dokan-comments-table").on("click","button.dokan-cmt-submit-form",this.submitForm),a("#dokan-comments-table").on("click",".dokan-cmt-edit",this.populateForm),a(".dokan-check-all").on("click",this.toggleCheckbox)},toggleCheckbox:function(){a(".dokan-check-col").prop("checked",a(this).prop("checked"))},setCommentStatus:function(b){b.preventDefault();var c=a(this),d=c.data("comment_id"),e=c.data("cmt_status"),f=c.data("page_status"),g=c.data("post_type"),h=c.data("curr_page"),i=c.closest("tr"),j={action:"wpuf_comment_status",comment_id:d,comment_status:e,page_status:f,post_type:g,curr_page:h,nonce:dokan.nonce};
a.post(dokan.ajaxurl,j,function(b){i.fadeOut(1!==f||1!==e&&0!==e?function(){a(this).remove()}:function(){i.replaceWith(b.data.content).fadeIn()}),null==b.data.pending&&(b.data.pending=0),null==b.data.spam&&(b.data.spam=0),null==b.data.trash&&(b.data.trash=0),a(".comments-menu-pending").text(b.data.pending),a(".comments-menu-spam").text(b.data.spam),a(".comments-menu-trash").text(b.data.trash)})},populateForm:function(b){b.preventDefault();var c=a(this).closest("tr");if(c.next().hasClass("dokan-comment-edit-row"))return void c.next().remove();var d=a("#dokan-edit-comment-row").html(),e={author:c.find(".dokan-cmt-hid-author").text(),email:c.find(".dokan-cmt-hid-email").text(),url:c.find(".dokan-cmt-hid-url").text(),body:c.find(".dokan-cmt-hid-body").text(),id:c.find(".dokan-cmt-hid-id").text(),status:c.find(".dokan-cmt-hid-status").text()};c.after(_.template(d,e))},closeForm:function(b){b.preventDefault(),a(this).closest("tr.dokan-comment-edit-row").remove()},submitForm:function(b){b.preventDefault();var c=a(this),d=c.closest("tr.dokan-comment-edit-row"),e={action:"dokan_update_comment",comment_id:d.find("input.dokan-cmt-id").val(),content:d.find("textarea.dokan-cmt-body").val(),author:d.find("input.dokan-cmt-author").val(),email:d.find("input.dokan-cmt-author-email").val(),url:d.find("input.dokan-cmt-author-url").val(),status:d.find("input.dokan-cmt-status").val(),nonce:dokan.nonce,post_type:d.find("input.dokan-cmt-post-type").val()};a.post(dokan.ajaxurl,e,function(a){a.success===!0?(d.prev().replaceWith(a.data),d.remove()):alert(a.data)})}};a(function(){b.init()})}(jQuery),jQuery(function(a){function b(a,b,c){jQuery('<div class="chart-tooltip">'+c+"</div>").css({top:b-16,left:a+20}).appendTo("body").fadeIn(200)}a("ul.dropdown-menu li.dropdown").hover(function(){a(this).addClass("open")},function(){a(this).removeClass("open")}),a(".datepicker").datepicker({dateFormat:"yy-mm-dd"}),a(".tips").tooltip();var c=a("ul.dokan-dashboard-menu"),d=a("#content article");d.height()>c.height()&&c.css({height:d.height()}),a(window).width()<767?a("#cat-drop-stack li.has-children").on("click","> a",function(b){b.preventDefault(),a(this).siblings(".sub-category").slideToggle("fast")}):a("#cat-drop-stack li.has-children > .sub-category").each(function(b,c){var d=a(c),e=d.find(".sub-block").length;3==e?d.css("width","260%"):e>3&&d.css("width","340%")});var e=null,f=null;jQuery(".chart-placeholder").bind("plothover",function(a,c,d){if(d){if((e!=d.dataIndex||f!=d.seriesIndex)&&(e=d.dataIndex,f=d.seriesIndex,jQuery(".chart-tooltip").remove(),d.series.points.show||d.series.enable_tooltip)){var g=d.series.data[d.dataIndex][1];tooltip_content="",d.series.prepend_label&&(tooltip_content=tooltip_content+d.series.label+": "),d.series.prepend_tooltip&&(tooltip_content+=d.series.prepend_tooltip),tooltip_content+=g,d.series.append_tooltip&&(tooltip_content+=d.series.append_tooltip),d.series.pie.show?b(c.pageX,c.pageY,tooltip_content):b(d.pageX,d.pageY,tooltip_content)}}else jQuery(".chart-tooltip").remove(),e=null}),a("body").on("added_to_cart",function(b,c){a("i.fa-shopping-cart").removeClass("fa-spin"),a(".dokan-cart-amount-top > .amount").fadeOut("fast",function(){a(".dokan-cart-amount-top > .amount").html(c.amount).fadeIn("fast")})}),a("body").on("adding_to_cart",function(b,c){a(c).children("i").addClass("fa-spin")})}),jQuery(function(a){a(".user-role input[type=radio]").on("change",function(){var b=a(this).val();"seller"===b?a(".show_if_seller").slideDown():a(".show_if_seller").slideUp()}),a("#company-name").on("focusout",function(){var b=a(this).val().toLowerCase().replace(/-+/g,"").replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"");a("#seller-url").val(b),a("#url-alart").text(b),a("#seller-url").focus()}),a("#seller-url").keydown(function(b){a(this).val(),-1!==a.inArray(b.keyCode,[46,8,9,27,13,91,109,110,173,189,190])||65==b.keyCode&&b.ctrlKey===!0||b.keyCode>=35&&b.keyCode<=39||(b.shiftKey||(b.keyCode<65||b.keyCode>90)&&(b.keyCode<48||b.keyCode>57))&&(b.keyCode<96||b.keyCode>105)&&b.preventDefault()}),a("#seller-url").keyup(function(){a("#url-alart").text(a(this).val())}),a("#shop-phone").keydown(function(b){-1!==a.inArray(b.keyCode,[46,8,9,27,13,91,107,109,110,187,189,190])||65==b.keyCode&&b.ctrlKey===!0||b.keyCode>=35&&b.keyCode<=39||(b.shiftKey||b.keyCode<48||b.keyCode>57)&&(b.keyCode<96||b.keyCode>105)&&b.preventDefault()}),a("#seller-url").on("focusout",function(){var b=a(this),c={action:"shop_url",url_slug:b.val(),_nonce:dokan.nonce};if(""!==b.val()){var d=b.closest(".form-row");d.block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}}),a.post(dokan.ajaxurl,c,function(b){0==b?(a("#url-alart").removeClass("text-success").addClass("text-danger"),a("#url-alart-mgs").removeClass("text-success").addClass("text-danger").text(dokan.seller.notAvailable)):(a("#url-alart").removeClass("text-danger").addClass("text-success"),a("#url-alart-mgs").removeClass("text-danger").addClass("text-success").text(dokan.seller.available)),d.unblock()})}})}),function(a){a.validator.setDefaults({ignore:":hidden"});var b=function(b,c){var d=a(c).closest(".form-group");d.addClass("has-error").append(b)},c=function(b,c){a(c).closest(".form-group").removeClass("has-error")},d={init:function(){var b=this;return a("a.dokan-banner-drag").on("click",this.imageUpload),a("a.dokan-remove-banner-image").on("click",this.removeBanner),a("a.dokan-gravatar-drag").on("click",this.gragatarImageUpload),a("a.dokan-remove-gravatar-image").on("click",this.removeGravatar),this.validateForm(b),!1},imageUpload:function(){var b,c=a(this);return b?void b.open():(b=wp.media.frames.file_frame=wp.media({title:jQuery(this).data("uploader_title"),button:{text:jQuery(this).data("uploader_button_text")},multiple:!1}),b.on("select",function(){var d=b.state().get("selection").first().toJSON(),e=c.closest(".dokan-banner");e.find("input.dokan-file-field").val(d.id),e.find("img.dokan-banner-img").attr("src",d.url),a(".image-wrap",e).removeClass("dokan-hide"),a(".button-area").addClass("dokan-hide")}),void b.open())},gragatarImageUpload:function(){var b,c=a(this);return b?void b.open():(b=wp.media.frames.file_frame=wp.media({title:jQuery(this).data("uploader_title"),button:{text:jQuery(this).data("uploader_button_text")},multiple:!1}),b.on("select",function(){var d=b.state().get("selection").first().toJSON(),e=c.closest(".dokan-gravatar");e.find("input.dokan-file-field").val(d.id),e.find("img.dokan-gravatar-img").attr("src",d.url),a(".gravatar-wrap",e).removeClass("dokan-hide"),a(".gravatar-button-area").addClass("dokan-hide")}),void b.open())},submitSettings:function(){var b=a("form#settings-form"),c=b.serialize()+"&action=dokan_settings";b.find(".ajax_prev").append('<span class="dokan-loading"> </span>'),a.post(dokan.ajaxurl,c,function(c){b.find("span.dokan-loading").remove(),a("html,body").animate({scrollTop:100}),a(".dokan-ajax-response").html(c.success?a("<div/>",{"class":"dokan-alert dokan-alert-success",html:"<p>"+c.data+"</p>"}):a("<div/>",{"class":"dokan-alert dokan-alert-danger",html:"<p>"+c.data+"</p>"}))})},validateForm:function(d){a("form#settings-form").validate({submitHandler:function(){d.submitSettings()},errorElement:"span",errorClass:"error",errorPlacement:b,success:c})},removeBanner:function(b){b.preventDefault();var c=a(this),d=c.closest(".image-wrap"),e=d.siblings(".button-area");d.find("input.dokan-file-field").val("0"),d.addClass("dokan-hide"),e.removeClass("dokan-hide")},removeGravatar:function(b){b.preventDefault();var c=a(this),d=c.closest(".gravatar-wrap"),e=d.siblings(".gravatar-button-area");d.find("input.dokan-file-field").val("0"),d.addClass("dokan-hide"),e.removeClass("dokan-hide")}},e={init:function(){var a=this;this.withdrawValidate(a)},withdrawValidate:function(){a("form.withdraw").validate({errorElement:"span",errorClass:"error",errorPlacement:b,success:c})}},f={init:function(){var a=this;this.couponsValidation(a)},couponsValidation:function(){a("form.coupons").validate({errorElement:"span",errorClass:"error",errorPlacement:b,success:c})}},g={init:function(){this.validate(this)},validate:function(){a("form#dokan-form-contact-seller").validate({errorPlacement:b,success:c,submitHandler:function(b){a(b).block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}});var c=a(b).serialize();a.post(dokan.ajaxurl,c,function(c){a(b).unblock(),"undefined"!=typeof c.data&&a(b).find(".ajax-response").html(c.data),a(b).find("input[type=text], input[type=email], textarea").val("").removeClass("valid")})}})}},h={init:function(){this.validate(this)},validate:function(){a("form#register").validate({errorPlacement:b,success:c,submitHandler:function(a){a.submit()}})}};a(function(){d.init(),e.init(),f.init(),g.init(),h.init()})}(jQuery),jQuery(function(a){window.WeDevs_Admin={imageUpload:function(b){b.preventDefault();var c=a(this),d=c.siblings("input.image_url");tb_show("","media-upload.php?post_id=0&amp;type=image&amp;TB_iframe=true"),window.send_to_editor=function(b){var e=a(b).attr("href");a(b).find("img").length>0&&(e=a(b).find("img").attr("src")),d.val(e);var f='<img src="'+e+'" alt="image" />';f+='<a href="#" class="remove-image"><span>Remove</span></a>',c.siblings(".image_placeholder").empty().append(f),tb_remove()}},removeImage:function(b){b.preventDefault();var c=a(this);c.parent(".image_placeholder").siblings("input.image_url").val(""),c.parent(".image_placeholder").empty()}}}),jQuery(function(a){a(".tips").tooltip(),a("select.grant_access_id").chosen(),a("ul.order-status").on("click","a.dokan-edit-status",function(){return a(this).addClass("dokan-hide").closest("li").next("li").removeClass("dokan-hide"),!1}),a("ul.order-status").on("click","a.dokan-cancel-status",function(){return a(this).closest("li").addClass("dokan-hide").prev("li").find("a.dokan-edit-status").removeClass("dokan-hide"),!1}),a("form#dokan-order-status-form").on("submit",function(b){b.preventDefault();var c=a(this),d=c.closest("li");d.block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}}),a.post(dokan.ajaxurl,c.serialize(),function(a){d.unblock();var b=d.prev();d.addClass("dokan-hide"),b.find("label").replaceWith(a),b.find("a.dokan-edit-status").removeClass("dokan-hide")})}),a("form#add-order-note").on("submit",function(b){return b.preventDefault(),a("textarea#add-note-content").val()?(a("#dokan-order-notes").block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}}),a.post(dokan.ajaxurl,a(this).serialize(),function(b){a("ul.order_notes").prepend(b),a("#dokan-order-notes").unblock(),a("#add-note-content").val("")}),!1):void 0}),a("#dokan-order-notes").on("click","a.delete_note",function(){var b=a(this).closest("li.note");a("#dokan-order-notes").block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}});var c={action:"woocommerce_delete_order_note",note_id:a(b).attr("rel"),security:a("#delete-note-security").val()};return a.post(dokan.ajaxurl,c,function(){a(b).remove(),a("#dokan-order-notes").unblock()}),!1}),a(".order_download_permissions").on("click","button.grant_access",function(){var b=a(this),c=a("select.grant_access_id").val();if(c){a(".order_download_permissions").block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}});var d={action:"dokan_grant_access_to_download",product_ids:c,loop:a(".order_download_permissions .panel").size(),order_id:b.data("order-id"),security:b.data("nonce")};return a.post(dokan.ajaxurl,d,function(b){b?a("#accordion").append(b):alert("Could not grant access - the user may already have permission for this file or billing email is not set. Ensure the billing email is set, and the order has been saved."),a(".datepicker").datepicker(),a(".order_download_permissions").unblock()}),!1}}),a(".order_download_permissions").on("click","button.revoke_access",function(b){b.preventDefault();var c=confirm("Are you sure you want to revoke access to this download?");if(c){var d=a(this),e=d.closest(".panel"),f=d.attr("rel").split(",")[0],g=d.attr("rel").split(",")[1];if(f>0){a(e).block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}});var h={action:"woocommerce_revoke_access_to_download",product_id:f,download_id:g,order_id:d.data("order-id"),security:d.data("nonce")};a.post(dokan.ajaxurl,h,function(){a(e).fadeOut("300",function(){a(e).remove()})})}else a(e).fadeOut("300",function(){a(e).remove()})}return!1})}),function(a){var b,c,d=a("#variants-holder"),e=a("#product_image_gallery"),f=a("#product_images_container ul.product_images"),g={init:function(){product_type="simple",a(".product-edit-container").on("click","._discounted_price",this.showDiscount),a(".product-edit-container").on("click","a.sale-schedule",this.showDiscountSchedule),a(".product-edit-container").on("click","input[type=checkbox]#_downloadable",this.downloadable),a(".product-edit-container").on("change","#_product_type",this.onChangeProductType),a("#product-attributes").on("click",".add-variant-category",this.variants.addCategory),a("#variants-holder").on("click",".box-header .row-remove",this.variants.removeCategory),a("#variants-holder").on("click",".item-action a.row-add",this.variants.addItem),a("#variants-holder").on("click",".item-action a.row-remove",this.variants.removeItem),a("#variable_product_options").on("click",".sale_schedule",this.variants.saleSchedule),a("#variable_product_options").on("click",".cancel_sale_schedule",this.variants.cancelSchedule),a("#variable_product_options").on("woocommerce_variations_added",this.variants.onVariantAdded),this.variants.dates(),this.variants.initSaleSchedule(),a(".save_attributes").on("click",this.variants.save),a("#dokan-product-images").on("click","a.add-product-images",this.gallery.addImages),a("#dokan-product-images").on("click","a.delete",this.gallery.deleteImage),this.gallery.sortable(),a(".product-edit-container").on("click","a.dokan-feat-image-btn",this.featuredImage.addImage),a(".product-edit-container").on("click","a.dokan-remove-feat-image",this.featuredImage.removeImage),a(".product-edit-container").on("click","a.upload_file_button",this.fileDownloadable),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-edit",this.sidebarToggle.showStatus),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-save",this.sidebarToggle.saveStatus),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-cacnel",this.sidebarToggle.cancel),a(".product-edit-container").on("click","a.insert-file-row",function(){return a(this).closest("table").find("tbody").append(a(this).data("row")),!1}),a(".product-edit-container").on("click","a.delete",function(){return a(this).closest("tr").remove(),!1})},showDiscount:function(){var b=a(this),c=b.is(":checked"),d=a(".special-price-container");c?d.removeClass("dokan-hide"):d.addClass("dokan-hide")},showDiscountSchedule:function(b){b.preventDefault(),a(".sale-schedule-container").slideToggle("fast")},onChangeProductType:function(){var b=a("#_product_type").val();"simple"===b?(product_type="simple",a("aside.downloadable").removeClass("dokan-hide"),a(".show_if_variable").addClass("dokan-hide"),a(".show_if_simple").removeClass("dokan-hide")):(product_type="variable",a("aside.downloadable").addClass("dokan-hide"),a(".show_if_variable").removeClass("dokan-hide"),a(".show_if_simple").addClass("dokan-hide"))},downloadable:function(){a(this).prop("checked")?a(this).closest("aside").find(".dokan-side-body").removeClass("dokan-hide"):a(this).closest("aside").find(".dokan-side-body").addClass("dokan-hide")},variants:{addCategory:function(b){b.preventDefault();var c=a(".inputs-box").length,e=_.template(a("#tmpl-sc-category").html(),{row:c});d.append(e).children(":last").hide().fadeIn(),"simple"===product_type&&d.find(".show_if_variable").hide()},removeCategory:function(b){b.preventDefault(),confirm("Sure?")&&a(this).parents(".inputs-box").fadeOut(function(){a(this).remove()})},addItem:function(b){b.preventDefault();var c=a(this),d=c.closest(".inputs-box"),e=c.closest("ul.option-couplet"),f=e.find("li").length,g=d.data("count"),h=_.template(a("#tmpl-sc-category-item").html());c.closest("li").after(h({row:g,col:f}))},removeItem:function(b){b.preventDefault();var c=a(this).parents("ul").find("li");c.length>1&&a(this).parents("li").fadeOut(function(){a(this).remove()})},save:function(){var b={post_id:a(this).data("id"),data:a(".woocommerce_attributes").find("input, select, textarea").serialize(),action:"dokan_save_attributes"},c=window.location.toString();a("#variants-holder").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),a.post(ajaxurl,b,function(b){console.log(b),a("#variable_product_options").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),a("#variable_product_options").load(c+" #variable_product_options_inner",function(){a("#variable_product_options").unblock()}),a("input.variable_is_downloadable, input.variable_is_virtual").trigger("change"),a("#variants-holder").unblock()})},initSaleSchedule:function(){a(".sale_price_dates_fields").each(function(){var b=a(this),c=!1,d=b.closest("div, table");b.find("input").each(function(){""!=a(this).val()&&(c=!0)}),c?(d.find(".sale_schedule").hide(),d.find(".sale_price_dates_fields").show()):(d.find(".sale_schedule").show(),d.find(".sale_price_dates_fields").hide())})},saleSchedule:function(){var b=a(this).closest("div, table");return a(this).hide(),b.find(".cancel_sale_schedule").show(),b.find(".sale_price_dates_fields").show(),!1},cancelSchedule:function(){var b=a(this).closest("div, table");return a(this).hide(),b.find(".sale_schedule").show(),b.find(".sale_price_dates_fields").hide(),b.find(".sale_price_dates_fields").find("input").val(""),!1},dates:function(){var b=a(".sale_price_dates_fields input").datepicker({defaultDate:"",dateFormat:"yy-mm-dd",numberOfMonths:1,onSelect:function(c){var d=a(this).is("#_sale_price_dates_from, .sale_price_dates_from")?"minDate":"maxDate",e=a(this).data("datepicker"),f=a.datepicker.parseDate(e.settings.dateFormat||a.datepicker._defaults.dateFormat,c,e.settings);b.not(this).datepicker("option",d,f)}})},onVariantAdded:function(){g.variants.dates()}},gallery:{addImages:function(a){a.preventDefault();var c=e.val();return b?void b.open():(b=wp.media.frames.downloadable_file=wp.media({title:"Add Images to Product Gallery",button:{text:"Add to gallery"},multiple:!0}),b.on("select",function(){var a=b.state().get("selection");a.map(function(a){a=a.toJSON(),a.id&&(c=c?c+","+a.id:a.id,f.append('                                <li class="image" data-attachment_id="'+a.id+'">                                    <img src="'+a.url+'" />                                    <ul class="actions">                                        <li><a href="#" class="delete" title="Delete image">Delete</a></li>                                    </ul>                                </li>'))}),e.val(c)}),void b.open())},deleteImage:function(b){b.preventDefault(),a(this).closest("li.image").remove();var c="";return a("#product_images_container ul li.image").css("cursor","default").each(function(){var b=a(this).attr("data-attachment_id");c=c+b+","}),e.val(c),!1},sortable:function(){f.sortable({items:"li.image",cursor:"move",scrollSensitivity:40,forcePlaceholderSize:!0,forceHelperSize:!1,helper:"clone",opacity:.65,placeholder:"dokan-sortable-placeholder",start:function(a,b){b.item.css("background-color","#f6f6f6")},stop:function(a,b){b.item.removeAttr("style")},update:function(){var b="";a("#product_images_container ul li.image").css("cursor","default").each(function(){var a=jQuery(this).attr("data-attachment_id");b=b+a+","}),e.val(b)}})}},featuredImage:{addImage:function(b){b.preventDefault();var d=a(this);return c?void c.open():(c=wp.media({title:"Upload featured image",button:{text:"Set featured image"}}),c.on("select",function(){var a=c.state().get("selection");a.map(function(a){a=a.toJSON(),console.log(a,d),d.siblings("input.dokan-feat-image-id").val(a.id);var b=d.closest(".instruction-inside"),c=b.siblings(".image-wrap");c.find("img").attr("src",a.url),b.addClass("dokan-hide"),c.removeClass("dokan-hide")})}),void c.open())},removeImage:function(b){b.preventDefault();var c=a(this),d=c.closest(".image-wrap"),e=d.siblings(".instruction-inside");e.find("input.dokan-feat-image-id").val("0"),d.addClass("dokan-hide"),e.removeClass("dokan-hide")}},fileDownloadable:function(b){b.preventDefault();var c,d=a(this);return c?void c.open():(c=wp.media({title:"Choose a file",button:{text:"Insert file URL"},multiple:!0}),c.on("select",function(){var a=c.state().get("selection");a.map(function(a){a=a.toJSON(),d.closest("tr").find("input.wc_file_url").val(a.url)})}),c.on("ready",function(){c.uploader.options.uploader.params={type:"downloadable_product"}}),void c.open())},sidebarToggle:{showStatus:function(){var b=a(this).siblings(".dokan-toggle-select-container");return b.is(":hidden")&&(b.slideDown("fast"),a(this).hide()),!1},saveStatus:function(){var b=a(this).closest(".dokan-toggle-select-container");b.slideUp("fast"),b.siblings("a.dokan-toggle-edit").show();var c=a("option:selected",b.find("select.dokan-toggle-select")).text();return b.siblings(".dokan-toggle-selected-display").html(c),!1},cancel:function(){var b=a(this).closest(".dokan-toggle-select-container");return b.slideUp("fast"),b.siblings("a.dokan-toggle-edit").show(),!1}}};a(function(){g.init(),a("#_product_type").trigger("change")})}(jQuery),function(a){var b={init:function(){a("#dokan-comments-table").on("click",".dokan-cmt-action",this.setCommentStatus),a("#dokan-comments-table").on("click","button.dokan-cmt-close-form",this.closeForm),a("#dokan-comments-table").on("click","button.dokan-cmt-submit-form",this.submitForm),a("#dokan-comments-table").on("click",".dokan-cmt-edit",this.populateForm),a(".dokan-check-all").on("click",this.toggleCheckbox)},toggleCheckbox:function(){a(".dokan-check-col").prop("checked",a(this).prop("checked"))},setCommentStatus:function(b){b.preventDefault();var c=a(this),d=c.data("comment_id"),e=c.data("cmt_status"),f=c.data("page_status"),g=c.data("post_type"),h=c.data("curr_page"),i=c.closest("tr"),j={action:"wpuf_comment_status",comment_id:d,comment_status:e,page_status:f,post_type:g,curr_page:h,nonce:dokan.nonce};a.post(dokan.ajaxurl,j,function(b){i.fadeOut(1!==f||1!==e&&0!==e?function(){a(this).remove()}:function(){i.replaceWith(b.data.content).fadeIn()}),null==b.data.pending&&(b.data.pending=0),null==b.data.spam&&(b.data.spam=0),null==b.data.trash&&(b.data.trash=0),a(".comments-menu-pending").text(b.data.pending),a(".comments-menu-spam").text(b.data.spam),a(".comments-menu-trash").text(b.data.trash)})},populateForm:function(b){b.preventDefault();var c=a(this).closest("tr");if(c.next().hasClass("dokan-comment-edit-row"))return void c.next().remove();var d=a("#dokan-edit-comment-row").html(),e={author:c.find(".dokan-cmt-hid-author").text(),email:c.find(".dokan-cmt-hid-email").text(),url:c.find(".dokan-cmt-hid-url").text(),body:c.find(".dokan-cmt-hid-body").text(),id:c.find(".dokan-cmt-hid-id").text(),status:c.find(".dokan-cmt-hid-status").text()};c.after(_.template(d,e))},closeForm:function(b){b.preventDefault(),a(this).closest("tr.dokan-comment-edit-row").remove()},submitForm:function(b){b.preventDefault();var c=a(this),d=c.closest("tr.dokan-comment-edit-row"),e={action:"dokan_update_comment",comment_id:d.find("input.dokan-cmt-id").val(),content:d.find("textarea.dokan-cmt-body").val(),author:d.find("input.dokan-cmt-author").val(),email:d.find("input.dokan-cmt-author-email").val(),url:d.find("input.dokan-cmt-author-url").val(),status:d.find("input.dokan-cmt-status").val(),nonce:dokan.nonce,post_type:d.find("input.dokan-cmt-post-type").val()};a.post(dokan.ajaxurl,e,function(a){a.success===!0?(d.prev().replaceWith(a.data),d.remove()):alert(a.data)})}};a(function(){b.init()})}(jQuery),jQuery(function(a){function b(a,b,c){jQuery('<div class="chart-tooltip">'+c+"</div>").css({top:b-16,left:a+20}).appendTo("body").fadeIn(200)}a("ul.dropdown-menu li.dropdown").hover(function(){a(this).addClass("open")},function(){a(this).removeClass("open")}),a(".datepicker").datepicker({dateFormat:"yy-mm-dd"}),a(".tips").tooltip();var c=a("ul.dokan-dashboard-menu"),d=a("#content article");d.height()>c.height()&&c.css({height:d.height()}),a(window).width()<767?a("#cat-drop-stack li.has-children").on("click","> a",function(b){b.preventDefault(),a(this).siblings(".sub-category").slideToggle("fast")}):a("#cat-drop-stack li.has-children > .sub-category").each(function(b,c){var d=a(c),e=d.find(".sub-block").length;3==e?d.css("width","260%"):e>3&&d.css("width","340%")});var e=null,f=null;jQuery(".chart-placeholder").bind("plothover",function(a,c,d){if(d){if((e!=d.dataIndex||f!=d.seriesIndex)&&(e=d.dataIndex,f=d.seriesIndex,jQuery(".chart-tooltip").remove(),d.series.points.show||d.series.enable_tooltip)){var g=d.series.data[d.dataIndex][1];tooltip_content="",d.series.prepend_label&&(tooltip_content=tooltip_content+d.series.label+": "),d.series.prepend_tooltip&&(tooltip_content+=d.series.prepend_tooltip),tooltip_content+=g,d.series.append_tooltip&&(tooltip_content+=d.series.append_tooltip),d.series.pie.show?b(c.pageX,c.pageY,tooltip_content):b(d.pageX,d.pageY,tooltip_content)}}else jQuery(".chart-tooltip").remove(),e=null}),a("body").on("added_to_cart",function(b,c){a("i.fa-shopping-cart").removeClass("fa-spin"),a(".dokan-cart-amount-top > .amount").fadeOut("fast",function(){a(".dokan-cart-amount-top > .amount").html(c.amount).fadeIn("fast")})}),a("body").on("adding_to_cart",function(b,c){a(c).children("i").addClass("fa-spin")})}),jQuery(function(a){a(".user-role input[type=radio]").on("change",function(){var b=a(this).val();"seller"===b?a(".show_if_seller").slideDown():a(".show_if_seller").slideUp()}),a("#company-name").on("focusout",function(){var b=a(this).val().toLowerCase().replace(/-+/g,"").replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"");a("#seller-url").val(b),a("#url-alart").text(b),a("#seller-url").focus()}),a("#seller-url").keydown(function(b){a(this).val(),-1!==a.inArray(b.keyCode,[46,8,9,27,13,91,109,110,173,189,190])||65==b.keyCode&&b.ctrlKey===!0||b.keyCode>=35&&b.keyCode<=39||(b.shiftKey||(b.keyCode<65||b.keyCode>90)&&(b.keyCode<48||b.keyCode>57))&&(b.keyCode<96||b.keyCode>105)&&b.preventDefault()}),a("#seller-url").keyup(function(){a("#url-alart").text(a(this).val())}),a("#shop-phone").keydown(function(b){-1!==a.inArray(b.keyCode,[46,8,9,27,13,91,107,109,110,187,189,190])||65==b.keyCode&&b.ctrlKey===!0||b.keyCode>=35&&b.keyCode<=39||(b.shiftKey||b.keyCode<48||b.keyCode>57)&&(b.keyCode<96||b.keyCode>105)&&b.preventDefault()}),a("#seller-url").on("focusout",function(){var b=a(this),c={action:"shop_url",url_slug:b.val(),_nonce:dokan.nonce};if(""!==b.val()){var d=b.closest(".form-row");d.block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}}),a.post(dokan.ajaxurl,c,function(b){0==b?(a("#url-alart").removeClass("text-success").addClass("text-danger"),a("#url-alart-mgs").removeClass("text-success").addClass("text-danger").text(dokan.seller.notAvailable)):(a("#url-alart").removeClass("text-danger").addClass("text-success"),a("#url-alart-mgs").removeClass("text-danger").addClass("text-success").text(dokan.seller.available)),d.unblock()})}})}),function(a){a.validator.setDefaults({ignore:":hidden"});var b=function(b,c){var d=a(c).closest(".form-group");d.addClass("has-error").append(b)},c=function(b,c){a(c).closest(".form-group").removeClass("has-error")},d={init:function(){var b=this;return a("a.dokan-banner-drag").on("click",this.imageUpload),a("a.dokan-remove-banner-image").on("click",this.removeBanner),a("a.dokan-gravatar-drag").on("click",this.gragatarImageUpload),a("a.dokan-remove-gravatar-image").on("click",this.removeGravatar),this.validateForm(b),!1},imageUpload:function(){var b,c=a(this);return b?void b.open():(b=wp.media.frames.file_frame=wp.media({title:jQuery(this).data("uploader_title"),button:{text:jQuery(this).data("uploader_button_text")},multiple:!1}),b.on("select",function(){var d=b.state().get("selection").first().toJSON(),e=c.closest(".dokan-banner");e.find("input.dokan-file-field").val(d.id),e.find("img.dokan-banner-img").attr("src",d.url),a(".image-wrap",e).removeClass("dokan-hide"),a(".button-area").addClass("dokan-hide")}),void b.open())},gragatarImageUpload:function(){var b,c=a(this);return b?void b.open():(b=wp.media.frames.file_frame=wp.media({title:jQuery(this).data("uploader_title"),button:{text:jQuery(this).data("uploader_button_text")},multiple:!1}),b.on("select",function(){var d=b.state().get("selection").first().toJSON(),e=c.closest(".dokan-gravatar");e.find("input.dokan-file-field").val(d.id),e.find("img.dokan-gravatar-img").attr("src",d.url),a(".gravatar-wrap",e).removeClass("dokan-hide"),a(".gravatar-button-area").addClass("dokan-hide")}),void b.open())},submitSettings:function(){var b=a("form#settings-form"),c=b.serialize()+"&action=dokan_settings";b.find(".ajax_prev").append('<span class="dokan-loading"> </span>'),a.post(dokan.ajaxurl,c,function(c){b.find("span.dokan-loading").remove(),a("html,body").animate({scrollTop:100}),a(".dokan-ajax-response").html(c.success?a("<div/>",{"class":"dokan-alert dokan-alert-success",html:"<p>"+c.data+"</p>"}):a("<div/>",{"class":"dokan-alert dokan-alert-danger",html:"<p>"+c.data+"</p>"}))})},validateForm:function(d){a("form#settings-form").validate({submitHandler:function(){d.submitSettings()},errorElement:"span",errorClass:"error",errorPlacement:b,success:c})},removeBanner:function(b){b.preventDefault();var c=a(this),d=c.closest(".image-wrap"),e=d.siblings(".button-area");d.find("input.dokan-file-field").val("0"),d.addClass("dokan-hide"),e.removeClass("dokan-hide")},removeGravatar:function(b){b.preventDefault();var c=a(this),d=c.closest(".gravatar-wrap"),e=d.siblings(".gravatar-button-area");d.find("input.dokan-file-field").val("0"),d.addClass("dokan-hide"),e.removeClass("dokan-hide")}},e={init:function(){var a=this;this.withdrawValidate(a)},withdrawValidate:function(){a("form.withdraw").validate({errorElement:"span",errorClass:"error",errorPlacement:b,success:c})}},f={init:function(){var a=this;this.couponsValidation(a)},couponsValidation:function(){a("form.coupons").validate({errorElement:"span",errorClass:"error",errorPlacement:b,success:c})}},g={init:function(){this.validate(this)},validate:function(){a("form#dokan-form-contact-seller").validate({errorPlacement:b,success:c,submitHandler:function(b){a(b).block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}});var c=a(b).serialize();a.post(dokan.ajaxurl,c,function(c){a(b).unblock(),"undefined"!=typeof c.data&&a(b).find(".ajax-response").html(c.data),a(b).find("input[type=text], input[type=email], textarea").val("").removeClass("valid")})}})}},h={init:function(){this.validate(this)},validate:function(){a("form#register").validate({errorPlacement:b,success:c,submitHandler:function(a){a.submit()}})}};a(function(){d.init(),e.init(),f.init(),g.init(),h.init()})}(jQuery),jQuery(function(a){window.WeDevs_Admin={imageUpload:function(b){b.preventDefault();var c=a(this),d=c.siblings("input.image_url");tb_show("","media-upload.php?post_id=0&amp;type=image&amp;TB_iframe=true"),window.send_to_editor=function(b){var e=a(b).attr("href");a(b).find("img").length>0&&(e=a(b).find("img").attr("src")),d.val(e);var f='<img src="'+e+'" alt="image" />';f+='<a href="#" class="remove-image"><span>Remove</span></a>',c.siblings(".image_placeholder").empty().append(f),tb_remove()}},removeImage:function(b){b.preventDefault();var c=a(this);c.parent(".image_placeholder").siblings("input.image_url").val(""),c.parent(".image_placeholder").empty()}}}),jQuery(function(a){a(".tips").tooltip(),a("select.grant_access_id").chosen(),a("ul.order-status").on("click","a.dokan-edit-status",function(){return a(this).addClass("dokan-hide").closest("li").next("li").removeClass("dokan-hide"),!1
}),a("ul.order-status").on("click","a.dokan-cancel-status",function(){return a(this).closest("li").addClass("dokan-hide").prev("li").find("a.dokan-edit-status").removeClass("dokan-hide"),!1}),a("form#dokan-order-status-form").on("submit",function(b){b.preventDefault();var c=a(this),d=c.closest("li");d.block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}}),a.post(dokan.ajaxurl,c.serialize(),function(a){d.unblock();var b=d.prev();d.addClass("dokan-hide"),b.find("label").replaceWith(a),b.find("a.dokan-edit-status").removeClass("dokan-hide")})}),a("form#add-order-note").on("submit",function(b){return b.preventDefault(),a("textarea#add-note-content").val()?(a("#dokan-order-notes").block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}}),a.post(dokan.ajaxurl,a(this).serialize(),function(b){a("ul.order_notes").prepend(b),a("#dokan-order-notes").unblock(),a("#add-note-content").val("")}),!1):void 0}),a("#dokan-order-notes").on("click","a.delete_note",function(){var b=a(this).closest("li.note");a("#dokan-order-notes").block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}});var c={action:"woocommerce_delete_order_note",note_id:a(b).attr("rel"),security:a("#delete-note-security").val()};return a.post(dokan.ajaxurl,c,function(){a(b).remove(),a("#dokan-order-notes").unblock()}),!1}),a(".order_download_permissions").on("click","button.grant_access",function(){var b=a(this),c=a("select.grant_access_id").val();if(c){a(".order_download_permissions").block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}});var d={action:"dokan_grant_access_to_download",product_ids:c,loop:a(".order_download_permissions .panel").size(),order_id:b.data("order-id"),security:b.data("nonce")};return a.post(dokan.ajaxurl,d,function(b){b?a("#accordion").append(b):alert("Could not grant access - the user may already have permission for this file or billing email is not set. Ensure the billing email is set, and the order has been saved."),a(".datepicker").datepicker(),a(".order_download_permissions").unblock()}),!1}}),a(".order_download_permissions").on("click","button.revoke_access",function(b){b.preventDefault();var c=confirm("Are you sure you want to revoke access to this download?");if(c){var d=a(this),e=d.closest(".panel"),f=d.attr("rel").split(",")[0],g=d.attr("rel").split(",")[1];if(f>0){a(e).block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}});var h={action:"woocommerce_revoke_access_to_download",product_id:f,download_id:g,order_id:d.data("order-id"),security:d.data("nonce")};a.post(dokan.ajaxurl,h,function(){a(e).fadeOut("300",function(){a(e).remove()})})}else a(e).fadeOut("300",function(){a(e).remove()})}return!1})}),function(a){var b,c,d=a("#variants-holder"),e=a("#product_image_gallery"),f=a("#product_images_container ul.product_images"),g={init:function(){product_type="simple",a(".product-edit-container").on("click","._discounted_price",this.showDiscount),a(".product-edit-container").on("click","a.sale-schedule",this.showDiscountSchedule),a(".product-edit-container").on("click","input[type=checkbox]#_downloadable",this.downloadable),a(".product-edit-container").on("change","#_product_type",this.onChangeProductType),a("#product-attributes").on("click",".add-variant-category",this.variants.addCategory),a("#variants-holder").on("click",".box-header .row-remove",this.variants.removeCategory),a("#variants-holder").on("click",".item-action a.row-add",this.variants.addItem),a("#variants-holder").on("click",".item-action a.row-remove",this.variants.removeItem),a("#variable_product_options").on("click",".sale_schedule",this.variants.saleSchedule),a("#variable_product_options").on("click",".cancel_sale_schedule",this.variants.cancelSchedule),a("#variable_product_options").on("woocommerce_variations_added",this.variants.onVariantAdded),this.variants.dates(),this.variants.initSaleSchedule(),a(".save_attributes").on("click",this.variants.save),a("#dokan-product-images").on("click","a.add-product-images",this.gallery.addImages),a("#dokan-product-images").on("click","a.delete",this.gallery.deleteImage),this.gallery.sortable(),a(".product-edit-container").on("click","a.dokan-feat-image-btn",this.featuredImage.addImage),a(".product-edit-container").on("click","a.dokan-remove-feat-image",this.featuredImage.removeImage),a(".product-edit-container").on("click","a.upload_file_button",this.fileDownloadable),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-edit",this.sidebarToggle.showStatus),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-save",this.sidebarToggle.saveStatus),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-cacnel",this.sidebarToggle.cancel),a(".product-edit-container").on("click","a.insert-file-row",function(){return a(this).closest("table").find("tbody").append(a(this).data("row")),!1}),a(".product-edit-container").on("click","a.delete",function(){return a(this).closest("tr").remove(),!1})},showDiscount:function(){var b=a(this),c=b.is(":checked"),d=a(".special-price-container");c?d.removeClass("dokan-hide"):d.addClass("dokan-hide")},showDiscountSchedule:function(b){b.preventDefault(),a(".sale-schedule-container").slideToggle("fast")},onChangeProductType:function(){var b=a("#_product_type").val();"simple"===b?(product_type="simple",a("aside.downloadable").removeClass("dokan-hide"),a(".show_if_variable").addClass("dokan-hide"),a(".show_if_simple").removeClass("dokan-hide")):(product_type="variable",a("aside.downloadable").addClass("dokan-hide"),a(".show_if_variable").removeClass("dokan-hide"),a(".show_if_simple").addClass("dokan-hide"))},downloadable:function(){a(this).prop("checked")?a(this).closest("aside").find(".dokan-side-body").removeClass("dokan-hide"):a(this).closest("aside").find(".dokan-side-body").addClass("dokan-hide")},variants:{addCategory:function(b){b.preventDefault();var c=a(".inputs-box").length,e=_.template(a("#tmpl-sc-category").html(),{row:c});d.append(e).children(":last").hide().fadeIn(),"simple"===product_type&&d.find(".show_if_variable").hide()},removeCategory:function(b){b.preventDefault(),confirm("Sure?")&&a(this).parents(".inputs-box").fadeOut(function(){a(this).remove()})},addItem:function(b){b.preventDefault();var c=a(this),d=c.closest(".inputs-box"),e=c.closest("ul.option-couplet"),f=e.find("li").length,g=d.data("count"),h=_.template(a("#tmpl-sc-category-item").html());c.closest("li").after(h({row:g,col:f}))},removeItem:function(b){b.preventDefault();var c=a(this).parents("ul").find("li");c.length>1&&a(this).parents("li").fadeOut(function(){a(this).remove()})},save:function(){var b={post_id:a(this).data("id"),data:a(".woocommerce_attributes").find("input, select, textarea").serialize(),action:"dokan_save_attributes"},c=window.location.toString();a("#variants-holder").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),a.post(ajaxurl,b,function(b){console.log(b),a("#variable_product_options").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),a("#variable_product_options").load(c+" #variable_product_options_inner",function(){a("#variable_product_options").unblock()}),a("input.variable_is_downloadable, input.variable_is_virtual").trigger("change"),a("#variants-holder").unblock()})},initSaleSchedule:function(){a(".sale_price_dates_fields").each(function(){var b=a(this),c=!1,d=b.closest("div, table");b.find("input").each(function(){""!=a(this).val()&&(c=!0)}),c?(d.find(".sale_schedule").hide(),d.find(".sale_price_dates_fields").show()):(d.find(".sale_schedule").show(),d.find(".sale_price_dates_fields").hide())})},saleSchedule:function(){var b=a(this).closest("div, table");return a(this).hide(),b.find(".cancel_sale_schedule").show(),b.find(".sale_price_dates_fields").show(),!1},cancelSchedule:function(){var b=a(this).closest("div, table");return a(this).hide(),b.find(".sale_schedule").show(),b.find(".sale_price_dates_fields").hide(),b.find(".sale_price_dates_fields").find("input").val(""),!1},dates:function(){var b=a(".sale_price_dates_fields input").datepicker({defaultDate:"",dateFormat:"yy-mm-dd",numberOfMonths:1,onSelect:function(c){var d=a(this).is("#_sale_price_dates_from, .sale_price_dates_from")?"minDate":"maxDate",e=a(this).data("datepicker"),f=a.datepicker.parseDate(e.settings.dateFormat||a.datepicker._defaults.dateFormat,c,e.settings);b.not(this).datepicker("option",d,f)}})},onVariantAdded:function(){g.variants.dates()}},gallery:{addImages:function(a){a.preventDefault();var c=e.val();return b?void b.open():(b=wp.media.frames.downloadable_file=wp.media({title:"Add Images to Product Gallery",button:{text:"Add to gallery"},multiple:!0}),b.on("select",function(){var a=b.state().get("selection");a.map(function(a){a=a.toJSON(),a.id&&(c=c?c+","+a.id:a.id,f.append('                                <li class="image" data-attachment_id="'+a.id+'">                                    <img src="'+a.url+'" />                                    <ul class="actions">                                        <li><a href="#" class="delete" title="Delete image">Delete</a></li>                                    </ul>                                </li>'))}),e.val(c)}),void b.open())},deleteImage:function(b){b.preventDefault(),a(this).closest("li.image").remove();var c="";return a("#product_images_container ul li.image").css("cursor","default").each(function(){var b=a(this).attr("data-attachment_id");c=c+b+","}),e.val(c),!1},sortable:function(){f.sortable({items:"li.image",cursor:"move",scrollSensitivity:40,forcePlaceholderSize:!0,forceHelperSize:!1,helper:"clone",opacity:.65,placeholder:"dokan-sortable-placeholder",start:function(a,b){b.item.css("background-color","#f6f6f6")},stop:function(a,b){b.item.removeAttr("style")},update:function(){var b="";a("#product_images_container ul li.image").css("cursor","default").each(function(){var a=jQuery(this).attr("data-attachment_id");b=b+a+","}),e.val(b)}})}},featuredImage:{addImage:function(b){b.preventDefault();var d=a(this);return c?void c.open():(c=wp.media({title:"Upload featured image",button:{text:"Set featured image"}}),c.on("select",function(){var a=c.state().get("selection");a.map(function(a){a=a.toJSON(),console.log(a,d),d.siblings("input.dokan-feat-image-id").val(a.id);var b=d.closest(".instruction-inside"),c=b.siblings(".image-wrap");c.find("img").attr("src",a.url),b.addClass("dokan-hide"),c.removeClass("dokan-hide")})}),void c.open())},removeImage:function(b){b.preventDefault();var c=a(this),d=c.closest(".image-wrap"),e=d.siblings(".instruction-inside");e.find("input.dokan-feat-image-id").val("0"),d.addClass("dokan-hide"),e.removeClass("dokan-hide")}},fileDownloadable:function(b){b.preventDefault();var c,d=a(this);return c?void c.open():(c=wp.media({title:"Choose a file",button:{text:"Insert file URL"},multiple:!0}),c.on("select",function(){var a=c.state().get("selection");a.map(function(a){a=a.toJSON(),d.closest("tr").find("input.wc_file_url").val(a.url)})}),c.on("ready",function(){c.uploader.options.uploader.params={type:"downloadable_product"}}),void c.open())},sidebarToggle:{showStatus:function(){var b=a(this).siblings(".dokan-toggle-select-container");return b.is(":hidden")&&(b.slideDown("fast"),a(this).hide()),!1},saveStatus:function(){var b=a(this).closest(".dokan-toggle-select-container");b.slideUp("fast"),b.siblings("a.dokan-toggle-edit").show();var c=a("option:selected",b.find("select.dokan-toggle-select")).text();return b.siblings(".dokan-toggle-selected-display").html(c),!1},cancel:function(){var b=a(this).closest(".dokan-toggle-select-container");return b.slideUp("fast"),b.siblings("a.dokan-toggle-edit").show(),!1}}};a(function(){g.init(),a("#_product_type").trigger("change")})}(jQuery),function(a){var b={init:function(){a("#dokan-comments-table").on("click",".dokan-cmt-action",this.setCommentStatus),a("#dokan-comments-table").on("click","button.dokan-cmt-close-form",this.closeForm),a("#dokan-comments-table").on("click","button.dokan-cmt-submit-form",this.submitForm),a("#dokan-comments-table").on("click",".dokan-cmt-edit",this.populateForm),a(".dokan-check-all").on("click",this.toggleCheckbox)},toggleCheckbox:function(){a(".dokan-check-col").prop("checked",a(this).prop("checked"))},setCommentStatus:function(b){b.preventDefault();var c=a(this),d=c.data("comment_id"),e=c.data("cmt_status"),f=c.data("page_status"),g=c.data("post_type"),h=c.data("curr_page"),i=c.closest("tr"),j={action:"wpuf_comment_status",comment_id:d,comment_status:e,page_status:f,post_type:g,curr_page:h,nonce:dokan.nonce};a.post(dokan.ajaxurl,j,function(b){i.fadeOut(1!==f||1!==e&&0!==e?function(){a(this).remove()}:function(){i.replaceWith(b.data.content).fadeIn()}),null==b.data.pending&&(b.data.pending=0),null==b.data.spam&&(b.data.spam=0),null==b.data.trash&&(b.data.trash=0),a(".comments-menu-pending").text(b.data.pending),a(".comments-menu-spam").text(b.data.spam),a(".comments-menu-trash").text(b.data.trash)})},populateForm:function(b){b.preventDefault();var c=a(this).closest("tr");if(c.next().hasClass("dokan-comment-edit-row"))return void c.next().remove();var d=a("#dokan-edit-comment-row").html(),e={author:c.find(".dokan-cmt-hid-author").text(),email:c.find(".dokan-cmt-hid-email").text(),url:c.find(".dokan-cmt-hid-url").text(),body:c.find(".dokan-cmt-hid-body").text(),id:c.find(".dokan-cmt-hid-id").text(),status:c.find(".dokan-cmt-hid-status").text()};c.after(_.template(d,e))},closeForm:function(b){b.preventDefault(),a(this).closest("tr.dokan-comment-edit-row").remove()},submitForm:function(b){b.preventDefault();var c=a(this),d=c.closest("tr.dokan-comment-edit-row"),e={action:"dokan_update_comment",comment_id:d.find("input.dokan-cmt-id").val(),content:d.find("textarea.dokan-cmt-body").val(),author:d.find("input.dokan-cmt-author").val(),email:d.find("input.dokan-cmt-author-email").val(),url:d.find("input.dokan-cmt-author-url").val(),status:d.find("input.dokan-cmt-status").val(),nonce:dokan.nonce,post_type:d.find("input.dokan-cmt-post-type").val()};a.post(dokan.ajaxurl,e,function(a){a.success===!0?(d.prev().replaceWith(a.data),d.remove()):alert(a.data)})}};a(function(){b.init()})}(jQuery),jQuery(function(a){function b(a,b,c){jQuery('<div class="chart-tooltip">'+c+"</div>").css({top:b-16,left:a+20}).appendTo("body").fadeIn(200)}a("ul.dropdown-menu li.dropdown").hover(function(){a(this).addClass("open")},function(){a(this).removeClass("open")}),a(".datepicker").datepicker({dateFormat:"yy-mm-dd"}),a(".tips").tooltip();var c=a("ul.dokan-dashboard-menu"),d=a("#content article");d.height()>c.height()&&c.css({height:d.height()}),a(window).width()<767?a("#cat-drop-stack li.has-children").on("click","> a",function(b){b.preventDefault(),a(this).siblings(".sub-category").slideToggle("fast")}):a("#cat-drop-stack li.has-children > .sub-category").each(function(b,c){var d=a(c),e=d.find(".sub-block").length;3==e?d.css("width","260%"):e>3&&d.css("width","340%")});var e=null,f=null;jQuery(".chart-placeholder").bind("plothover",function(a,c,d){if(d){if((e!=d.dataIndex||f!=d.seriesIndex)&&(e=d.dataIndex,f=d.seriesIndex,jQuery(".chart-tooltip").remove(),d.series.points.show||d.series.enable_tooltip)){var g=d.series.data[d.dataIndex][1];tooltip_content="",d.series.prepend_label&&(tooltip_content=tooltip_content+d.series.label+": "),d.series.prepend_tooltip&&(tooltip_content+=d.series.prepend_tooltip),tooltip_content+=g,d.series.append_tooltip&&(tooltip_content+=d.series.append_tooltip),d.series.pie.show?b(c.pageX,c.pageY,tooltip_content):b(d.pageX,d.pageY,tooltip_content)}}else jQuery(".chart-tooltip").remove(),e=null}),a("body").on("added_to_cart",function(b,c){a("i.fa-shopping-cart").removeClass("fa-spin"),a(".dokan-cart-amount-top > .amount").fadeOut("fast",function(){a(".dokan-cart-amount-top > .amount").html(c.amount).fadeIn("fast")})}),a("body").on("adding_to_cart",function(b,c){a(c).children("i").addClass("fa-spin")})}),jQuery(function(a){a(".user-role input[type=radio]").on("change",function(){var b=a(this).val();"seller"===b?a(".show_if_seller").slideDown():a(".show_if_seller").slideUp()}),a("#company-name").on("focusout",function(){var b=a(this).val().toLowerCase().replace(/-+/g,"").replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"");a("#seller-url").val(b),a("#url-alart").text(b),a("#seller-url").focus()}),a("#seller-url").keydown(function(b){a(this).val(),-1!==a.inArray(b.keyCode,[46,8,9,27,13,91,109,110,173,189,190])||65==b.keyCode&&b.ctrlKey===!0||b.keyCode>=35&&b.keyCode<=39||(b.shiftKey||(b.keyCode<65||b.keyCode>90)&&(b.keyCode<48||b.keyCode>57))&&(b.keyCode<96||b.keyCode>105)&&b.preventDefault()}),a("#seller-url").keyup(function(){a("#url-alart").text(a(this).val())}),a("#shop-phone").keydown(function(b){-1!==a.inArray(b.keyCode,[46,8,9,27,13,91,107,109,110,187,189,190])||65==b.keyCode&&b.ctrlKey===!0||b.keyCode>=35&&b.keyCode<=39||(b.shiftKey||b.keyCode<48||b.keyCode>57)&&(b.keyCode<96||b.keyCode>105)&&b.preventDefault()}),a("#seller-url").on("focusout",function(){var b=a(this),c={action:"shop_url",url_slug:b.val(),_nonce:dokan.nonce};if(""!==b.val()){var d=b.closest(".form-row");d.block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}}),a.post(dokan.ajaxurl,c,function(b){0==b?(a("#url-alart").removeClass("text-success").addClass("text-danger"),a("#url-alart-mgs").removeClass("text-success").addClass("text-danger").text(dokan.seller.notAvailable)):(a("#url-alart").removeClass("text-danger").addClass("text-success"),a("#url-alart-mgs").removeClass("text-danger").addClass("text-success").text(dokan.seller.available)),d.unblock()})}})}),function(a){a.validator.setDefaults({ignore:":hidden"});var b=function(b,c){var d=a(c).closest(".form-group");d.addClass("has-error").append(b)},c=function(b,c){a(c).closest(".form-group").removeClass("has-error")},d={init:function(){var b=this;return a("a.dokan-banner-drag").on("click",this.imageUpload),a("a.dokan-remove-banner-image").on("click",this.removeBanner),a("a.dokan-gravatar-drag").on("click",this.gragatarImageUpload),a("a.dokan-remove-gravatar-image").on("click",this.removeGravatar),this.validateForm(b),!1},imageUpload:function(){var b,c=a(this);return b?void b.open():(b=wp.media.frames.file_frame=wp.media({title:jQuery(this).data("uploader_title"),button:{text:jQuery(this).data("uploader_button_text")},multiple:!1}),b.on("select",function(){var d=b.state().get("selection").first().toJSON(),e=c.closest(".dokan-banner");e.find("input.dokan-file-field").val(d.id),e.find("img.dokan-banner-img").attr("src",d.url),a(".image-wrap",e).removeClass("dokan-hide"),a(".button-area").addClass("dokan-hide")}),void b.open())},gragatarImageUpload:function(){var b,c=a(this);return b?void b.open():(b=wp.media.frames.file_frame=wp.media({title:jQuery(this).data("uploader_title"),button:{text:jQuery(this).data("uploader_button_text")},multiple:!1}),b.on("select",function(){var d=b.state().get("selection").first().toJSON(),e=c.closest(".dokan-gravatar");e.find("input.dokan-file-field").val(d.id),e.find("img.dokan-gravatar-img").attr("src",d.url),a(".gravatar-wrap",e).removeClass("dokan-hide"),a(".gravatar-button-area").addClass("dokan-hide")}),void b.open())},submitSettings:function(){var b=a("form#settings-form"),c=b.serialize()+"&action=dokan_settings";b.find(".ajax_prev").append('<span class="dokan-loading"> </span>'),a.post(dokan.ajaxurl,c,function(c){b.find("span.dokan-loading").remove(),a("html,body").animate({scrollTop:100}),a(".dokan-ajax-response").html(c.success?a("<div/>",{"class":"dokan-alert dokan-alert-success",html:"<p>"+c.data+"</p>"}):a("<div/>",{"class":"dokan-alert dokan-alert-danger",html:"<p>"+c.data+"</p>"}))})},validateForm:function(d){a("form#settings-form").validate({submitHandler:function(){d.submitSettings()},errorElement:"span",errorClass:"error",errorPlacement:b,success:c})},removeBanner:function(b){b.preventDefault();var c=a(this),d=c.closest(".image-wrap"),e=d.siblings(".button-area");d.find("input.dokan-file-field").val("0"),d.addClass("dokan-hide"),e.removeClass("dokan-hide")},removeGravatar:function(b){b.preventDefault();var c=a(this),d=c.closest(".gravatar-wrap"),e=d.siblings(".gravatar-button-area");d.find("input.dokan-file-field").val("0"),d.addClass("dokan-hide"),e.removeClass("dokan-hide")}},e={init:function(){var a=this;this.withdrawValidate(a)},withdrawValidate:function(){a("form.withdraw").validate({errorElement:"span",errorClass:"error",errorPlacement:b,success:c})}},f={init:function(){var a=this;this.couponsValidation(a)},couponsValidation:function(){a("form.coupons").validate({errorElement:"span",errorClass:"error",errorPlacement:b,success:c})}},g={init:function(){this.validate(this)},validate:function(){a("form#dokan-form-contact-seller").validate({errorPlacement:b,success:c,submitHandler:function(b){a(b).block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}});var c=a(b).serialize();a.post(dokan.ajaxurl,c,function(c){a(b).unblock(),"undefined"!=typeof c.data&&a(b).find(".ajax-response").html(c.data),a(b).find("input[type=text], input[type=email], textarea").val("").removeClass("valid")})}})}},h={init:function(){this.validate(this)},validate:function(){a("form#register").validate({errorPlacement:b,success:c,submitHandler:function(a){a.submit()}})}};a(function(){d.init(),e.init(),f.init(),g.init(),h.init()})}(jQuery),jQuery(function(a){window.WeDevs_Admin={imageUpload:function(b){b.preventDefault();var c=a(this),d=c.siblings("input.image_url");tb_show("","media-upload.php?post_id=0&amp;type=image&amp;TB_iframe=true"),window.send_to_editor=function(b){var e=a(b).attr("href");a(b).find("img").length>0&&(e=a(b).find("img").attr("src")),d.val(e);var f='<img src="'+e+'" alt="image" />';f+='<a href="#" class="remove-image"><span>Remove</span></a>',c.siblings(".image_placeholder").empty().append(f),tb_remove()}},removeImage:function(b){b.preventDefault();var c=a(this);c.parent(".image_placeholder").siblings("input.image_url").val(""),c.parent(".image_placeholder").empty()}}}),jQuery(function(a){a(".tips").tooltip(),a("select.grant_access_id").chosen(),a("ul.order-status").on("click","a.dokan-edit-status",function(){return a(this).addClass("dokan-hide").closest("li").next("li").removeClass("dokan-hide"),!1}),a("ul.order-status").on("click","a.dokan-cancel-status",function(){return a(this).closest("li").addClass("dokan-hide").prev("li").find("a.dokan-edit-status").removeClass("dokan-hide"),!1}),a("form#dokan-order-status-form").on("submit",function(b){b.preventDefault();var c=a(this),d=c.closest("li");d.block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}}),a.post(dokan.ajaxurl,c.serialize(),function(a){d.unblock();var b=d.prev();d.addClass("dokan-hide"),b.find("label").replaceWith(a),b.find("a.dokan-edit-status").removeClass("dokan-hide")})}),a("form#add-order-note").on("submit",function(b){return b.preventDefault(),a("textarea#add-note-content").val()?(a("#dokan-order-notes").block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}}),a.post(dokan.ajaxurl,a(this).serialize(),function(b){a("ul.order_notes").prepend(b),a("#dokan-order-notes").unblock(),a("#add-note-content").val("")}),!1):void 0}),a("#dokan-order-notes").on("click","a.delete_note",function(){var b=a(this).closest("li.note");a("#dokan-order-notes").block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}});var c={action:"woocommerce_delete_order_note",note_id:a(b).attr("rel"),security:a("#delete-note-security").val()};return a.post(dokan.ajaxurl,c,function(){a(b).remove(),a("#dokan-order-notes").unblock()}),!1}),a(".order_download_permissions").on("click","button.grant_access",function(){var b=a(this),c=a("select.grant_access_id").val();if(c){a(".order_download_permissions").block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}});var d={action:"dokan_grant_access_to_download",product_ids:c,loop:a(".order_download_permissions .panel").size(),order_id:b.data("order-id"),security:b.data("nonce")};return a.post(dokan.ajaxurl,d,function(b){b?a("#accordion").append(b):alert("Could not grant access - the user may already have permission for this file or billing email is not set. Ensure the billing email is set, and the order has been saved."),a(".datepicker").datepicker(),a(".order_download_permissions").unblock()}),!1}}),a(".order_download_permissions").on("click","button.revoke_access",function(b){b.preventDefault();var c=confirm("Are you sure you want to revoke access to this download?");if(c){var d=a(this),e=d.closest(".panel"),f=d.attr("rel").split(",")[0],g=d.attr("rel").split(",")[1];if(f>0){a(e).block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}});var h={action:"woocommerce_revoke_access_to_download",product_id:f,download_id:g,order_id:d.data("order-id"),security:d.data("nonce")};a.post(dokan.ajaxurl,h,function(){a(e).fadeOut("300",function(){a(e).remove()})})}else a(e).fadeOut("300",function(){a(e).remove()})}return!1})}),function(a){var b,c,d=a("#variants-holder"),e=a("#product_image_gallery"),f=a("#product_images_container ul.product_images"),g={init:function(){product_type="simple",a(".product-edit-container").on("click","._discounted_price",this.showDiscount),a(".product-edit-container").on("click","a.sale-schedule",this.showDiscountSchedule),a(".product-edit-container").on("click","input[type=checkbox]#_downloadable",this.downloadable),a(".product-edit-container").on("change","#_product_type",this.onChangeProductType),a("#product-attributes").on("click",".add-variant-category",this.variants.addCategory),a("#variants-holder").on("click",".box-header .row-remove",this.variants.removeCategory),a("#variants-holder").on("click",".item-action a.row-add",this.variants.addItem),a("#variants-holder").on("click",".item-action a.row-remove",this.variants.removeItem),a("#variable_product_options").on("click",".sale_schedule",this.variants.saleSchedule),a("#variable_product_options").on("click",".cancel_sale_schedule",this.variants.cancelSchedule),a("#variable_product_options").on("woocommerce_variations_added",this.variants.onVariantAdded),this.variants.dates(),this.variants.initSaleSchedule(),a(".save_attributes").on("click",this.variants.save),a("#dokan-product-images").on("click","a.add-product-images",this.gallery.addImages),a("#dokan-product-images").on("click","a.delete",this.gallery.deleteImage),this.gallery.sortable(),a(".product-edit-container").on("click","a.dokan-feat-image-btn",this.featuredImage.addImage),a(".product-edit-container").on("click","a.dokan-remove-feat-image",this.featuredImage.removeImage),a(".product-edit-container").on("click","a.upload_file_button",this.fileDownloadable),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-edit",this.sidebarToggle.showStatus),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-save",this.sidebarToggle.saveStatus),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-cacnel",this.sidebarToggle.cancel),a(".product-edit-container").on("click","a.insert-file-row",function(){return a(this).closest("table").find("tbody").append(a(this).data("row")),!1}),a(".product-edit-container").on("click","a.delete",function(){return a(this).closest("tr").remove(),!1})},showDiscount:function(){var b=a(this),c=b.is(":checked"),d=a(".special-price-container");c?d.removeClass("dokan-hide"):d.addClass("dokan-hide")},showDiscountSchedule:function(b){b.preventDefault(),a(".sale-schedule-container").slideToggle("fast")},onChangeProductType:function(){var b=a("#_product_type").val();"simple"===b?(product_type="simple",a("aside.downloadable").removeClass("dokan-hide"),a(".show_if_variable").addClass("dokan-hide"),a(".show_if_simple").removeClass("dokan-hide")):(product_type="variable",a("aside.downloadable").addClass("dokan-hide"),a(".show_if_variable").removeClass("dokan-hide"),a(".show_if_simple").addClass("dokan-hide"))},downloadable:function(){a(this).prop("checked")?a(this).closest("aside").find(".dokan-side-body").removeClass("dokan-hide"):a(this).closest("aside").find(".dokan-side-body").addClass("dokan-hide")},variants:{addCategory:function(b){b.preventDefault();var c=a(".inputs-box").length,e=_.template(a("#tmpl-sc-category").html(),{row:c});d.append(e).children(":last").hide().fadeIn(),"simple"===product_type&&d.find(".show_if_variable").hide()},removeCategory:function(b){b.preventDefault(),confirm("Sure?")&&a(this).parents(".inputs-box").fadeOut(function(){a(this).remove()})},addItem:function(b){b.preventDefault();var c=a(this),d=c.closest(".inputs-box"),e=c.closest("ul.option-couplet"),f=e.find("li").length,g=d.data("count"),h=_.template(a("#tmpl-sc-category-item").html());c.closest("li").after(h({row:g,col:f}))},removeItem:function(b){b.preventDefault();var c=a(this).parents("ul").find("li");c.length>1&&a(this).parents("li").fadeOut(function(){a(this).remove()})},save:function(){var b={post_id:a(this).data("id"),data:a(".woocommerce_attributes").find("input, select, textarea").serialize(),action:"dokan_save_attributes"},c=window.location.toString();a("#variants-holder").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),a.post(ajaxurl,b,function(b){console.log(b),a("#variable_product_options").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),a("#variable_product_options").load(c+" #variable_product_options_inner",function(){a("#variable_product_options").unblock()}),a("input.variable_is_downloadable, input.variable_is_virtual").trigger("change"),a("#variants-holder").unblock()})},initSaleSchedule:function(){a(".sale_price_dates_fields").each(function(){var b=a(this),c=!1,d=b.closest("div, table");b.find("input").each(function(){""!=a(this).val()&&(c=!0)}),c?(d.find(".sale_schedule").hide(),d.find(".sale_price_dates_fields").show()):(d.find(".sale_schedule").show(),d.find(".sale_price_dates_fields").hide())})},saleSchedule:function(){var b=a(this).closest("div, table");return a(this).hide(),b.find(".cancel_sale_schedule").show(),b.find(".sale_price_dates_fields").show(),!1},cancelSchedule:function(){var b=a(this).closest("div, table");return a(this).hide(),b.find(".sale_schedule").show(),b.find(".sale_price_dates_fields").hide(),b.find(".sale_price_dates_fields").find("input").val(""),!1},dates:function(){var b=a(".sale_price_dates_fields input").datepicker({defaultDate:"",dateFormat:"yy-mm-dd",numberOfMonths:1,onSelect:function(c){var d=a(this).is("#_sale_price_dates_from, .sale_price_dates_from")?"minDate":"maxDate",e=a(this).data("datepicker"),f=a.datepicker.parseDate(e.settings.dateFormat||a.datepicker._defaults.dateFormat,c,e.settings);b.not(this).datepicker("option",d,f)}})},onVariantAdded:function(){g.variants.dates()}},gallery:{addImages:function(a){a.preventDefault();var c=e.val();return b?void b.open():(b=wp.media.frames.downloadable_file=wp.media({title:"Add Images to Product Gallery",button:{text:"Add to gallery"},multiple:!0}),b.on("select",function(){var a=b.state().get("selection");a.map(function(a){a=a.toJSON(),a.id&&(c=c?c+","+a.id:a.id,f.append('                                <li class="image" data-attachment_id="'+a.id+'">                                    <img src="'+a.url+'" />                                    <ul class="actions">                                        <li><a href="#" class="delete" title="Delete image">Delete</a></li>                                    </ul>                                </li>'))}),e.val(c)}),void b.open())},deleteImage:function(b){b.preventDefault(),a(this).closest("li.image").remove();var c="";return a("#product_images_container ul li.image").css("cursor","default").each(function(){var b=a(this).attr("data-attachment_id");c=c+b+","}),e.val(c),!1},sortable:function(){f.sortable({items:"li.image",cursor:"move",scrollSensitivity:40,forcePlaceholderSize:!0,forceHelperSize:!1,helper:"clone",opacity:.65,placeholder:"dokan-sortable-placeholder",start:function(a,b){b.item.css("background-color","#f6f6f6")
},stop:function(a,b){b.item.removeAttr("style")},update:function(){var b="";a("#product_images_container ul li.image").css("cursor","default").each(function(){var a=jQuery(this).attr("data-attachment_id");b=b+a+","}),e.val(b)}})}},featuredImage:{addImage:function(b){b.preventDefault();var d=a(this);return c?void c.open():(c=wp.media({title:"Upload featured image",button:{text:"Set featured image"}}),c.on("select",function(){var a=c.state().get("selection");a.map(function(a){a=a.toJSON(),console.log(a,d),d.siblings("input.dokan-feat-image-id").val(a.id);var b=d.closest(".instruction-inside"),c=b.siblings(".image-wrap");c.find("img").attr("src",a.url),b.addClass("dokan-hide"),c.removeClass("dokan-hide")})}),void c.open())},removeImage:function(b){b.preventDefault();var c=a(this),d=c.closest(".image-wrap"),e=d.siblings(".instruction-inside");e.find("input.dokan-feat-image-id").val("0"),d.addClass("dokan-hide"),e.removeClass("dokan-hide")}},fileDownloadable:function(b){b.preventDefault();var c,d=a(this);return c?void c.open():(c=wp.media({title:"Choose a file",button:{text:"Insert file URL"},multiple:!0}),c.on("select",function(){var a=c.state().get("selection");a.map(function(a){a=a.toJSON(),d.closest("tr").find("input.wc_file_url").val(a.url)})}),c.on("ready",function(){c.uploader.options.uploader.params={type:"downloadable_product"}}),void c.open())},sidebarToggle:{showStatus:function(){var b=a(this).siblings(".dokan-toggle-select-container");return b.is(":hidden")&&(b.slideDown("fast"),a(this).hide()),!1},saveStatus:function(){var b=a(this).closest(".dokan-toggle-select-container");b.slideUp("fast"),b.siblings("a.dokan-toggle-edit").show();var c=a("option:selected",b.find("select.dokan-toggle-select")).text();return b.siblings(".dokan-toggle-selected-display").html(c),!1},cancel:function(){var b=a(this).closest(".dokan-toggle-select-container");return b.slideUp("fast"),b.siblings("a.dokan-toggle-edit").show(),!1}}};a(function(){g.init(),a("#_product_type").trigger("change")})}(jQuery),function(a){var b={init:function(){a("#dokan-comments-table").on("click",".dokan-cmt-action",this.setCommentStatus),a("#dokan-comments-table").on("click","button.dokan-cmt-close-form",this.closeForm),a("#dokan-comments-table").on("click","button.dokan-cmt-submit-form",this.submitForm),a("#dokan-comments-table").on("click",".dokan-cmt-edit",this.populateForm),a(".dokan-check-all").on("click",this.toggleCheckbox)},toggleCheckbox:function(){a(".dokan-check-col").prop("checked",a(this).prop("checked"))},setCommentStatus:function(b){b.preventDefault();var c=a(this),d=c.data("comment_id"),e=c.data("cmt_status"),f=c.data("page_status"),g=c.data("post_type"),h=c.data("curr_page"),i=c.closest("tr"),j={action:"wpuf_comment_status",comment_id:d,comment_status:e,page_status:f,post_type:g,curr_page:h,nonce:dokan.nonce};a.post(dokan.ajaxurl,j,function(b){i.fadeOut(1!==f||1!==e&&0!==e?function(){a(this).remove()}:function(){i.replaceWith(b.data.content).fadeIn()}),null==b.data.pending&&(b.data.pending=0),null==b.data.spam&&(b.data.spam=0),null==b.data.trash&&(b.data.trash=0),a(".comments-menu-pending").text(b.data.pending),a(".comments-menu-spam").text(b.data.spam),a(".comments-menu-trash").text(b.data.trash)})},populateForm:function(b){b.preventDefault();var c=a(this).closest("tr");if(c.next().hasClass("dokan-comment-edit-row"))return void c.next().remove();var d=a("#dokan-edit-comment-row").html(),e={author:c.find(".dokan-cmt-hid-author").text(),email:c.find(".dokan-cmt-hid-email").text(),url:c.find(".dokan-cmt-hid-url").text(),body:c.find(".dokan-cmt-hid-body").text(),id:c.find(".dokan-cmt-hid-id").text(),status:c.find(".dokan-cmt-hid-status").text()};c.after(_.template(d,e))},closeForm:function(b){b.preventDefault(),a(this).closest("tr.dokan-comment-edit-row").remove()},submitForm:function(b){b.preventDefault();var c=a(this),d=c.closest("tr.dokan-comment-edit-row"),e={action:"dokan_update_comment",comment_id:d.find("input.dokan-cmt-id").val(),content:d.find("textarea.dokan-cmt-body").val(),author:d.find("input.dokan-cmt-author").val(),email:d.find("input.dokan-cmt-author-email").val(),url:d.find("input.dokan-cmt-author-url").val(),status:d.find("input.dokan-cmt-status").val(),nonce:dokan.nonce,post_type:d.find("input.dokan-cmt-post-type").val()};a.post(dokan.ajaxurl,e,function(a){a.success===!0?(d.prev().replaceWith(a.data),d.remove()):alert(a.data)})}};a(function(){b.init()})}(jQuery),jQuery(function(a){function b(a,b,c){jQuery('<div class="chart-tooltip">'+c+"</div>").css({top:b-16,left:a+20}).appendTo("body").fadeIn(200)}a("ul.dropdown-menu li.dropdown").hover(function(){a(this).addClass("open")},function(){a(this).removeClass("open")}),a(".datepicker").datepicker({dateFormat:"yy-mm-dd"}),a(".tips").tooltip();var c=a("ul.dokan-dashboard-menu"),d=a("#content article");d.height()>c.height()&&c.css({height:d.height()}),a(window).width()<767?a("#cat-drop-stack li.has-children").on("click","> a",function(b){b.preventDefault(),a(this).siblings(".sub-category").slideToggle("fast")}):a("#cat-drop-stack li.has-children > .sub-category").each(function(b,c){var d=a(c),e=d.find(".sub-block").length;3==e?d.css("width","260%"):e>3&&d.css("width","340%")});var e=null,f=null;jQuery(".chart-placeholder").bind("plothover",function(a,c,d){if(d){if((e!=d.dataIndex||f!=d.seriesIndex)&&(e=d.dataIndex,f=d.seriesIndex,jQuery(".chart-tooltip").remove(),d.series.points.show||d.series.enable_tooltip)){var g=d.series.data[d.dataIndex][1];tooltip_content="",d.series.prepend_label&&(tooltip_content=tooltip_content+d.series.label+": "),d.series.prepend_tooltip&&(tooltip_content+=d.series.prepend_tooltip),tooltip_content+=g,d.series.append_tooltip&&(tooltip_content+=d.series.append_tooltip),d.series.pie.show?b(c.pageX,c.pageY,tooltip_content):b(d.pageX,d.pageY,tooltip_content)}}else jQuery(".chart-tooltip").remove(),e=null}),a("body").on("added_to_cart",function(b,c){a("i.fa-shopping-cart").removeClass("fa-spin"),a(".dokan-cart-amount-top > .amount").fadeOut("fast",function(){a(".dokan-cart-amount-top > .amount").html(c.amount).fadeIn("fast")})}),a("body").on("adding_to_cart",function(b,c){a(c).children("i").addClass("fa-spin")})}),jQuery(function(a){a(".user-role input[type=radio]").on("change",function(){var b=a(this).val();"seller"===b?a(".show_if_seller").slideDown():a(".show_if_seller").slideUp()}),a("#company-name").on("focusout",function(){var b=a(this).val().toLowerCase().replace(/-+/g,"").replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"");a("#seller-url").val(b),a("#url-alart").text(b),a("#seller-url").focus()}),a("#seller-url").keydown(function(b){a(this).val(),-1!==a.inArray(b.keyCode,[46,8,9,27,13,91,109,110,173,189,190])||65==b.keyCode&&b.ctrlKey===!0||b.keyCode>=35&&b.keyCode<=39||(b.shiftKey||(b.keyCode<65||b.keyCode>90)&&(b.keyCode<48||b.keyCode>57))&&(b.keyCode<96||b.keyCode>105)&&b.preventDefault()}),a("#seller-url").keyup(function(){a("#url-alart").text(a(this).val())}),a("#shop-phone").keydown(function(b){-1!==a.inArray(b.keyCode,[46,8,9,27,13,91,107,109,110,187,189,190])||65==b.keyCode&&b.ctrlKey===!0||b.keyCode>=35&&b.keyCode<=39||(b.shiftKey||b.keyCode<48||b.keyCode>57)&&(b.keyCode<96||b.keyCode>105)&&b.preventDefault()}),a("#seller-url").on("focusout",function(){var b=a(this),c={action:"shop_url",url_slug:b.val(),_nonce:dokan.nonce};if(""!==b.val()){var d=b.closest(".form-row");d.block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}}),a.post(dokan.ajaxurl,c,function(b){0==b?(a("#url-alart").removeClass("text-success").addClass("text-danger"),a("#url-alart-mgs").removeClass("text-success").addClass("text-danger").text(dokan.seller.notAvailable)):(a("#url-alart").removeClass("text-danger").addClass("text-success"),a("#url-alart-mgs").removeClass("text-danger").addClass("text-success").text(dokan.seller.available)),d.unblock()})}})}),function(a){a.validator.setDefaults({ignore:":hidden"});var b=function(b,c){var d=a(c).closest(".form-group");d.addClass("has-error").append(b)},c=function(b,c){a(c).closest(".form-group").removeClass("has-error")},d={init:function(){var b=this;return a("a.dokan-banner-drag").on("click",this.imageUpload),a("a.dokan-remove-banner-image").on("click",this.removeBanner),a("a.dokan-gravatar-drag").on("click",this.gragatarImageUpload),a("a.dokan-remove-gravatar-image").on("click",this.removeGravatar),this.validateForm(b),!1},imageUpload:function(){var b,c=a(this);return b?void b.open():(b=wp.media.frames.file_frame=wp.media({title:jQuery(this).data("uploader_title"),button:{text:jQuery(this).data("uploader_button_text")},multiple:!1}),b.on("select",function(){var d=b.state().get("selection").first().toJSON(),e=c.closest(".dokan-banner");e.find("input.dokan-file-field").val(d.id),e.find("img.dokan-banner-img").attr("src",d.url),a(".image-wrap",e).removeClass("dokan-hide"),a(".button-area").addClass("dokan-hide")}),void b.open())},gragatarImageUpload:function(){var b,c=a(this);return b?void b.open():(b=wp.media.frames.file_frame=wp.media({title:jQuery(this).data("uploader_title"),button:{text:jQuery(this).data("uploader_button_text")},multiple:!1}),b.on("select",function(){var d=b.state().get("selection").first().toJSON(),e=c.closest(".dokan-gravatar");e.find("input.dokan-file-field").val(d.id),e.find("img.dokan-gravatar-img").attr("src",d.url),a(".gravatar-wrap",e).removeClass("dokan-hide"),a(".gravatar-button-area").addClass("dokan-hide")}),void b.open())},submitSettings:function(){var b=a("form#settings-form"),c=b.serialize()+"&action=dokan_settings";b.find(".ajax_prev").append('<span class="dokan-loading"> </span>'),a.post(dokan.ajaxurl,c,function(c){b.find("span.dokan-loading").remove(),a("html,body").animate({scrollTop:100}),a(".dokan-ajax-response").html(c.success?a("<div/>",{"class":"dokan-alert dokan-alert-success",html:"<p>"+c.data+"</p>"}):a("<div/>",{"class":"dokan-alert dokan-alert-danger",html:"<p>"+c.data+"</p>"}))})},validateForm:function(d){a("form#settings-form").validate({submitHandler:function(){d.submitSettings()},errorElement:"span",errorClass:"error",errorPlacement:b,success:c})},removeBanner:function(b){b.preventDefault();var c=a(this),d=c.closest(".image-wrap"),e=d.siblings(".button-area");d.find("input.dokan-file-field").val("0"),d.addClass("dokan-hide"),e.removeClass("dokan-hide")},removeGravatar:function(b){b.preventDefault();var c=a(this),d=c.closest(".gravatar-wrap"),e=d.siblings(".gravatar-button-area");d.find("input.dokan-file-field").val("0"),d.addClass("dokan-hide"),e.removeClass("dokan-hide")}},e={init:function(){var a=this;this.withdrawValidate(a)},withdrawValidate:function(){a("form.withdraw").validate({errorElement:"span",errorClass:"error",errorPlacement:b,success:c})}},f={init:function(){var a=this;this.couponsValidation(a)},couponsValidation:function(){a("form.coupons").validate({errorElement:"span",errorClass:"error",errorPlacement:b,success:c})}},g={init:function(){this.validate(this)},validate:function(){a("form#dokan-form-contact-seller").validate({errorPlacement:b,success:c,submitHandler:function(b){a(b).block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}});var c=a(b).serialize();a.post(dokan.ajaxurl,c,function(c){a(b).unblock(),"undefined"!=typeof c.data&&a(b).find(".ajax-response").html(c.data),a(b).find("input[type=text], input[type=email], textarea").val("").removeClass("valid")})}})}},h={init:function(){this.validate(this)},validate:function(){a("form#register").validate({errorPlacement:b,success:c,submitHandler:function(a){a.submit()}})}};a(function(){d.init(),e.init(),f.init(),g.init(),h.init()})}(jQuery),jQuery(function(a){window.WeDevs_Admin={imageUpload:function(b){b.preventDefault();var c=a(this),d=c.siblings("input.image_url");tb_show("","media-upload.php?post_id=0&amp;type=image&amp;TB_iframe=true"),window.send_to_editor=function(b){var e=a(b).attr("href");a(b).find("img").length>0&&(e=a(b).find("img").attr("src")),d.val(e);var f='<img src="'+e+'" alt="image" />';f+='<a href="#" class="remove-image"><span>Remove</span></a>',c.siblings(".image_placeholder").empty().append(f),tb_remove()}},removeImage:function(b){b.preventDefault();var c=a(this);c.parent(".image_placeholder").siblings("input.image_url").val(""),c.parent(".image_placeholder").empty()}}}),jQuery(function(a){a(".tips").tooltip(),a("select.grant_access_id").chosen(),a("ul.order-status").on("click","a.dokan-edit-status",function(){return a(this).addClass("dokan-hide").closest("li").next("li").removeClass("dokan-hide"),!1}),a("ul.order-status").on("click","a.dokan-cancel-status",function(){return a(this).closest("li").addClass("dokan-hide").prev("li").find("a.dokan-edit-status").removeClass("dokan-hide"),!1}),a("form#dokan-order-status-form").on("submit",function(b){b.preventDefault();var c=a(this),d=c.closest("li");d.block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}}),a.post(dokan.ajaxurl,c.serialize(),function(a){d.unblock();var b=d.prev();d.addClass("dokan-hide"),b.find("label").replaceWith(a),b.find("a.dokan-edit-status").removeClass("dokan-hide")})}),a("form#add-order-note").on("submit",function(b){return b.preventDefault(),a("textarea#add-note-content").val()?(a("#dokan-order-notes").block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}}),a.post(dokan.ajaxurl,a(this).serialize(),function(b){a("ul.order_notes").prepend(b),a("#dokan-order-notes").unblock(),a("#add-note-content").val("")}),!1):void 0}),a("#dokan-order-notes").on("click","a.delete_note",function(){var b=a(this).closest("li.note");a("#dokan-order-notes").block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}});var c={action:"woocommerce_delete_order_note",note_id:a(b).attr("rel"),security:a("#delete-note-security").val()};return a.post(dokan.ajaxurl,c,function(){a(b).remove(),a("#dokan-order-notes").unblock()}),!1}),a(".order_download_permissions").on("click","button.grant_access",function(){var b=a(this),c=a("select.grant_access_id").val();if(c){a(".order_download_permissions").block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}});var d={action:"dokan_grant_access_to_download",product_ids:c,loop:a(".order_download_permissions .panel").size(),order_id:b.data("order-id"),security:b.data("nonce")};return a.post(dokan.ajaxurl,d,function(b){b?a("#accordion").append(b):alert("Could not grant access - the user may already have permission for this file or billing email is not set. Ensure the billing email is set, and the order has been saved."),a(".datepicker").datepicker(),a(".order_download_permissions").unblock()}),!1}}),a(".order_download_permissions").on("click","button.revoke_access",function(b){b.preventDefault();var c=confirm("Are you sure you want to revoke access to this download?");if(c){var d=a(this),e=d.closest(".panel"),f=d.attr("rel").split(",")[0],g=d.attr("rel").split(",")[1];if(f>0){a(e).block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}});var h={action:"woocommerce_revoke_access_to_download",product_id:f,download_id:g,order_id:d.data("order-id"),security:d.data("nonce")};a.post(dokan.ajaxurl,h,function(){a(e).fadeOut("300",function(){a(e).remove()})})}else a(e).fadeOut("300",function(){a(e).remove()})}return!1})}),function(a){var b,c,d=a("#variants-holder"),e=a("#product_image_gallery"),f=a("#product_images_container ul.product_images"),g={init:function(){product_type="simple",a(".product-edit-container").on("click","._discounted_price",this.showDiscount),a(".product-edit-container").on("click","a.sale-schedule",this.showDiscountSchedule),a(".product-edit-container").on("click","input[type=checkbox]#_downloadable",this.downloadable),a(".product-edit-container").on("change","#_product_type",this.onChangeProductType),a("#product-attributes").on("click",".add-variant-category",this.variants.addCategory),a("#variants-holder").on("click",".box-header .row-remove",this.variants.removeCategory),a("#variants-holder").on("click",".item-action a.row-add",this.variants.addItem),a("#variants-holder").on("click",".item-action a.row-remove",this.variants.removeItem),a("#variable_product_options").on("click",".sale_schedule",this.variants.saleSchedule),a("#variable_product_options").on("click",".cancel_sale_schedule",this.variants.cancelSchedule),a("#variable_product_options").on("woocommerce_variations_added",this.variants.onVariantAdded),this.variants.dates(),this.variants.initSaleSchedule(),a(".save_attributes").on("click",this.variants.save),a("#dokan-product-images").on("click","a.add-product-images",this.gallery.addImages),a("#dokan-product-images").on("click","a.delete",this.gallery.deleteImage),this.gallery.sortable(),a(".product-edit-container").on("click","a.dokan-feat-image-btn",this.featuredImage.addImage),a(".product-edit-container").on("click","a.dokan-remove-feat-image",this.featuredImage.removeImage),a(".product-edit-container").on("click","a.upload_file_button",this.fileDownloadable),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-edit",this.sidebarToggle.showStatus),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-save",this.sidebarToggle.saveStatus),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-cacnel",this.sidebarToggle.cancel),a(".product-edit-container").on("click","a.insert-file-row",function(){return a(this).closest("table").find("tbody").append(a(this).data("row")),!1}),a(".product-edit-container").on("click","a.delete",function(){return a(this).closest("tr").remove(),!1})},showDiscount:function(){var b=a(this),c=b.is(":checked"),d=a(".special-price-container");c?d.removeClass("dokan-hide"):d.addClass("dokan-hide")},showDiscountSchedule:function(b){b.preventDefault(),a(".sale-schedule-container").slideToggle("fast")},onChangeProductType:function(){var b=a("#_product_type").val();"simple"===b?(product_type="simple",a("aside.downloadable").removeClass("dokan-hide"),a(".show_if_variable").addClass("dokan-hide"),a(".show_if_simple").removeClass("dokan-hide")):(product_type="variable",a("aside.downloadable").addClass("dokan-hide"),a(".show_if_variable").removeClass("dokan-hide"),a(".show_if_simple").addClass("dokan-hide"))},downloadable:function(){a(this).prop("checked")?a(this).closest("aside").find(".dokan-side-body").removeClass("dokan-hide"):a(this).closest("aside").find(".dokan-side-body").addClass("dokan-hide")},variants:{addCategory:function(b){b.preventDefault();var c=a(".inputs-box").length,e=_.template(a("#tmpl-sc-category").html(),{row:c});d.append(e).children(":last").hide().fadeIn(),"simple"===product_type&&d.find(".show_if_variable").hide()},removeCategory:function(b){b.preventDefault(),confirm("Sure?")&&a(this).parents(".inputs-box").fadeOut(function(){a(this).remove()})},addItem:function(b){b.preventDefault();var c=a(this),d=c.closest(".inputs-box"),e=c.closest("ul.option-couplet"),f=e.find("li").length,g=d.data("count"),h=_.template(a("#tmpl-sc-category-item").html());c.closest("li").after(h({row:g,col:f}))},removeItem:function(b){b.preventDefault();var c=a(this).parents("ul").find("li");c.length>1&&a(this).parents("li").fadeOut(function(){a(this).remove()})},save:function(){var b={post_id:a(this).data("id"),data:a(".woocommerce_attributes").find("input, select, textarea").serialize(),action:"dokan_save_attributes"},c=window.location.toString();a("#variants-holder").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),a.post(ajaxurl,b,function(b){console.log(b),a("#variable_product_options").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),a("#variable_product_options").load(c+" #variable_product_options_inner",function(){a("#variable_product_options").unblock()}),a("input.variable_is_downloadable, input.variable_is_virtual").trigger("change"),a("#variants-holder").unblock()})},initSaleSchedule:function(){a(".sale_price_dates_fields").each(function(){var b=a(this),c=!1,d=b.closest("div, table");b.find("input").each(function(){""!=a(this).val()&&(c=!0)}),c?(d.find(".sale_schedule").hide(),d.find(".sale_price_dates_fields").show()):(d.find(".sale_schedule").show(),d.find(".sale_price_dates_fields").hide())})},saleSchedule:function(){var b=a(this).closest("div, table");return a(this).hide(),b.find(".cancel_sale_schedule").show(),b.find(".sale_price_dates_fields").show(),!1},cancelSchedule:function(){var b=a(this).closest("div, table");return a(this).hide(),b.find(".sale_schedule").show(),b.find(".sale_price_dates_fields").hide(),b.find(".sale_price_dates_fields").find("input").val(""),!1},dates:function(){var b=a(".sale_price_dates_fields input").datepicker({defaultDate:"",dateFormat:"yy-mm-dd",numberOfMonths:1,onSelect:function(c){var d=a(this).is("#_sale_price_dates_from, .sale_price_dates_from")?"minDate":"maxDate",e=a(this).data("datepicker"),f=a.datepicker.parseDate(e.settings.dateFormat||a.datepicker._defaults.dateFormat,c,e.settings);b.not(this).datepicker("option",d,f)}})},onVariantAdded:function(){g.variants.dates()}},gallery:{addImages:function(a){a.preventDefault();var c=e.val();return b?void b.open():(b=wp.media.frames.downloadable_file=wp.media({title:"Add Images to Product Gallery",button:{text:"Add to gallery"},multiple:!0}),b.on("select",function(){var a=b.state().get("selection");a.map(function(a){a=a.toJSON(),a.id&&(c=c?c+","+a.id:a.id,f.append('                                <li class="image" data-attachment_id="'+a.id+'">                                    <img src="'+a.url+'" />                                    <ul class="actions">                                        <li><a href="#" class="delete" title="Delete image">Delete</a></li>                                    </ul>                                </li>'))}),e.val(c)}),void b.open())},deleteImage:function(b){b.preventDefault(),a(this).closest("li.image").remove();var c="";return a("#product_images_container ul li.image").css("cursor","default").each(function(){var b=a(this).attr("data-attachment_id");c=c+b+","}),e.val(c),!1},sortable:function(){f.sortable({items:"li.image",cursor:"move",scrollSensitivity:40,forcePlaceholderSize:!0,forceHelperSize:!1,helper:"clone",opacity:.65,placeholder:"dokan-sortable-placeholder",start:function(a,b){b.item.css("background-color","#f6f6f6")},stop:function(a,b){b.item.removeAttr("style")},update:function(){var b="";a("#product_images_container ul li.image").css("cursor","default").each(function(){var a=jQuery(this).attr("data-attachment_id");b=b+a+","}),e.val(b)}})}},featuredImage:{addImage:function(b){b.preventDefault();var d=a(this);return c?void c.open():(c=wp.media({title:"Upload featured image",button:{text:"Set featured image"}}),c.on("select",function(){var a=c.state().get("selection");a.map(function(a){a=a.toJSON(),console.log(a,d),d.siblings("input.dokan-feat-image-id").val(a.id);var b=d.closest(".instruction-inside"),c=b.siblings(".image-wrap");c.find("img").attr("src",a.url),b.addClass("dokan-hide"),c.removeClass("dokan-hide")})}),void c.open())},removeImage:function(b){b.preventDefault();var c=a(this),d=c.closest(".image-wrap"),e=d.siblings(".instruction-inside");e.find("input.dokan-feat-image-id").val("0"),d.addClass("dokan-hide"),e.removeClass("dokan-hide")}},fileDownloadable:function(b){b.preventDefault();var c,d=a(this);return c?void c.open():(c=wp.media({title:"Choose a file",button:{text:"Insert file URL"},multiple:!0}),c.on("select",function(){var a=c.state().get("selection");a.map(function(a){a=a.toJSON(),d.closest("tr").find("input.wc_file_url").val(a.url)})}),c.on("ready",function(){c.uploader.options.uploader.params={type:"downloadable_product"}}),void c.open())},sidebarToggle:{showStatus:function(){var b=a(this).siblings(".dokan-toggle-select-container");return b.is(":hidden")&&(b.slideDown("fast"),a(this).hide()),!1},saveStatus:function(){var b=a(this).closest(".dokan-toggle-select-container");b.slideUp("fast"),b.siblings("a.dokan-toggle-edit").show();var c=a("option:selected",b.find("select.dokan-toggle-select")).text();return b.siblings(".dokan-toggle-selected-display").html(c),!1},cancel:function(){var b=a(this).closest(".dokan-toggle-select-container");return b.slideUp("fast"),b.siblings("a.dokan-toggle-edit").show(),!1}}};a(function(){g.init(),a("#_product_type").trigger("change")})}(jQuery),function(a){var b={init:function(){a("#dokan-comments-table").on("click",".dokan-cmt-action",this.setCommentStatus),a("#dokan-comments-table").on("click","button.dokan-cmt-close-form",this.closeForm),a("#dokan-comments-table").on("click","button.dokan-cmt-submit-form",this.submitForm),a("#dokan-comments-table").on("click",".dokan-cmt-edit",this.populateForm),a(".dokan-check-all").on("click",this.toggleCheckbox)},toggleCheckbox:function(){a(".dokan-check-col").prop("checked",a(this).prop("checked"))},setCommentStatus:function(b){b.preventDefault();var c=a(this),d=c.data("comment_id"),e=c.data("cmt_status"),f=c.data("page_status"),g=c.data("post_type"),h=c.data("curr_page"),i=c.closest("tr"),j={action:"wpuf_comment_status",comment_id:d,comment_status:e,page_status:f,post_type:g,curr_page:h,nonce:dokan.nonce};a.post(dokan.ajaxurl,j,function(b){i.fadeOut(1!==f||1!==e&&0!==e?function(){a(this).remove()}:function(){i.replaceWith(b.data.content).fadeIn()}),null==b.data.pending&&(b.data.pending=0),null==b.data.spam&&(b.data.spam=0),null==b.data.trash&&(b.data.trash=0),a(".comments-menu-pending").text(b.data.pending),a(".comments-menu-spam").text(b.data.spam),a(".comments-menu-trash").text(b.data.trash)})},populateForm:function(b){b.preventDefault();var c=a(this).closest("tr");if(c.next().hasClass("dokan-comment-edit-row"))return void c.next().remove();var d=a("#dokan-edit-comment-row").html(),e={author:c.find(".dokan-cmt-hid-author").text(),email:c.find(".dokan-cmt-hid-email").text(),url:c.find(".dokan-cmt-hid-url").text(),body:c.find(".dokan-cmt-hid-body").text(),id:c.find(".dokan-cmt-hid-id").text(),status:c.find(".dokan-cmt-hid-status").text()};c.after(_.template(d,e))},closeForm:function(b){b.preventDefault(),a(this).closest("tr.dokan-comment-edit-row").remove()},submitForm:function(b){b.preventDefault();var c=a(this),d=c.closest("tr.dokan-comment-edit-row"),e={action:"dokan_update_comment",comment_id:d.find("input.dokan-cmt-id").val(),content:d.find("textarea.dokan-cmt-body").val(),author:d.find("input.dokan-cmt-author").val(),email:d.find("input.dokan-cmt-author-email").val(),url:d.find("input.dokan-cmt-author-url").val(),status:d.find("input.dokan-cmt-status").val(),nonce:dokan.nonce,post_type:d.find("input.dokan-cmt-post-type").val()};a.post(dokan.ajaxurl,e,function(a){a.success===!0?(d.prev().replaceWith(a.data),d.remove()):alert(a.data)})}};a(function(){b.init()})}(jQuery),jQuery(function(a){function b(a,b,c){jQuery('<div class="chart-tooltip">'+c+"</div>").css({top:b-16,left:a+20}).appendTo("body").fadeIn(200)}a("ul.dropdown-menu li.dropdown").hover(function(){a(this).addClass("open")},function(){a(this).removeClass("open")}),a(".datepicker").datepicker({dateFormat:"yy-mm-dd"}),a(".tips").tooltip();var c=a("ul.dokan-dashboard-menu"),d=a("#content article");d.height()>c.height()&&c.css({height:d.height()}),a(window).width()<767?a("#cat-drop-stack li.has-children").on("click","> a",function(b){b.preventDefault(),a(this).siblings(".sub-category").slideToggle("fast")}):a("#cat-drop-stack li.has-children > .sub-category").each(function(b,c){var d=a(c),e=d.find(".sub-block").length;3==e?d.css("width","260%"):e>3&&d.css("width","340%")});var e=null,f=null;jQuery(".chart-placeholder").bind("plothover",function(a,c,d){if(d){if((e!=d.dataIndex||f!=d.seriesIndex)&&(e=d.dataIndex,f=d.seriesIndex,jQuery(".chart-tooltip").remove(),d.series.points.show||d.series.enable_tooltip)){var g=d.series.data[d.dataIndex][1];tooltip_content="",d.series.prepend_label&&(tooltip_content=tooltip_content+d.series.label+": "),d.series.prepend_tooltip&&(tooltip_content+=d.series.prepend_tooltip),tooltip_content+=g,d.series.append_tooltip&&(tooltip_content+=d.series.append_tooltip),d.series.pie.show?b(c.pageX,c.pageY,tooltip_content):b(d.pageX,d.pageY,tooltip_content)}}else jQuery(".chart-tooltip").remove(),e=null}),a("body").on("added_to_cart",function(b,c){a("i.fa-shopping-cart").removeClass("fa-spin"),a(".dokan-cart-amount-top > .amount").fadeOut("fast",function(){a(".dokan-cart-amount-top > .amount").html(c.amount).fadeIn("fast")})}),a("body").on("adding_to_cart",function(b,c){a(c).children("i").addClass("fa-spin")})}),jQuery(function(a){a(".user-role input[type=radio]").on("change",function(){var b=a(this).val();"seller"===b?a(".show_if_seller").slideDown():a(".show_if_seller").slideUp()}),a("#company-name").on("focusout",function(){var b=a(this).val().toLowerCase().replace(/-+/g,"").replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"");a("#seller-url").val(b),a("#url-alart").text(b),a("#seller-url").focus()}),a("#seller-url").keydown(function(b){a(this).val(),-1!==a.inArray(b.keyCode,[46,8,9,27,13,91,109,110,173,189,190])||65==b.keyCode&&b.ctrlKey===!0||b.keyCode>=35&&b.keyCode<=39||(b.shiftKey||(b.keyCode<65||b.keyCode>90)&&(b.keyCode<48||b.keyCode>57))&&(b.keyCode<96||b.keyCode>105)&&b.preventDefault()}),a("#seller-url").keyup(function(){a("#url-alart").text(a(this).val())}),a("#shop-phone").keydown(function(b){-1!==a.inArray(b.keyCode,[46,8,9,27,13,91,107,109,110,187,189,190])||65==b.keyCode&&b.ctrlKey===!0||b.keyCode>=35&&b.keyCode<=39||(b.shiftKey||b.keyCode<48||b.keyCode>57)&&(b.keyCode<96||b.keyCode>105)&&b.preventDefault()}),a("#seller-url").on("focusout",function(){var b=a(this),c={action:"shop_url",url_slug:b.val(),_nonce:dokan.nonce};if(""!==b.val()){var d=b.closest(".form-row");d.block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}}),a.post(dokan.ajaxurl,c,function(b){0==b?(a("#url-alart").removeClass("text-success").addClass("text-danger"),a("#url-alart-mgs").removeClass("text-success").addClass("text-danger").text(dokan.seller.notAvailable)):(a("#url-alart").removeClass("text-danger").addClass("text-success"),a("#url-alart-mgs").removeClass("text-danger").addClass("text-success").text(dokan.seller.available)),d.unblock()})}})}),function(a){a.validator.setDefaults({ignore:":hidden"});var b=function(b,c){var d=a(c).closest(".form-group");d.addClass("has-error").append(b)},c=function(b,c){a(c).closest(".form-group").removeClass("has-error")},d={init:function(){var b=this;return a("a.dokan-banner-drag").on("click",this.imageUpload),a("a.dokan-remove-banner-image").on("click",this.removeBanner),a("a.dokan-gravatar-drag").on("click",this.gragatarImageUpload),a("a.dokan-remove-gravatar-image").on("click",this.removeGravatar),this.validateForm(b),!1},imageUpload:function(){var b,c=a(this);return b?void b.open():(b=wp.media.frames.file_frame=wp.media({title:jQuery(this).data("uploader_title"),button:{text:jQuery(this).data("uploader_button_text")},multiple:!1}),b.on("select",function(){var d=b.state().get("selection").first().toJSON(),e=c.closest(".dokan-banner");e.find("input.dokan-file-field").val(d.id),e.find("img.dokan-banner-img").attr("src",d.url),a(".image-wrap",e).removeClass("dokan-hide"),a(".button-area").addClass("dokan-hide")}),void b.open())},gragatarImageUpload:function(){var b,c=a(this);return b?void b.open():(b=wp.media.frames.file_frame=wp.media({title:jQuery(this).data("uploader_title"),button:{text:jQuery(this).data("uploader_button_text")},multiple:!1}),b.on("select",function(){var d=b.state().get("selection").first().toJSON(),e=c.closest(".dokan-gravatar");e.find("input.dokan-file-field").val(d.id),e.find("img.dokan-gravatar-img").attr("src",d.url),a(".gravatar-wrap",e).removeClass("dokan-hide"),a(".gravatar-button-area").addClass("dokan-hide")}),void b.open())},submitSettings:function(){var b=a("form#settings-form"),c=b.serialize()+"&action=dokan_settings";b.find(".ajax_prev").append('<span class="dokan-loading"> </span>'),a.post(dokan.ajaxurl,c,function(c){b.find("span.dokan-loading").remove(),a("html,body").animate({scrollTop:100}),a(".dokan-ajax-response").html(c.success?a("<div/>",{"class":"dokan-alert dokan-alert-success",html:"<p>"+c.data+"</p>"}):a("<div/>",{"class":"dokan-alert dokan-alert-danger",html:"<p>"+c.data+"</p>"}))
})},validateForm:function(d){a("form#settings-form").validate({submitHandler:function(){d.submitSettings()},errorElement:"span",errorClass:"error",errorPlacement:b,success:c})},removeBanner:function(b){b.preventDefault();var c=a(this),d=c.closest(".image-wrap"),e=d.siblings(".button-area");d.find("input.dokan-file-field").val("0"),d.addClass("dokan-hide"),e.removeClass("dokan-hide")},removeGravatar:function(b){b.preventDefault();var c=a(this),d=c.closest(".gravatar-wrap"),e=d.siblings(".gravatar-button-area");d.find("input.dokan-file-field").val("0"),d.addClass("dokan-hide"),e.removeClass("dokan-hide")}},e={init:function(){var a=this;this.withdrawValidate(a)},withdrawValidate:function(){a("form.withdraw").validate({errorElement:"span",errorClass:"error",errorPlacement:b,success:c})}},f={init:function(){var a=this;this.couponsValidation(a)},couponsValidation:function(){a("form.coupons").validate({errorElement:"span",errorClass:"error",errorPlacement:b,success:c})}},g={init:function(){this.validate(this)},validate:function(){a("form#dokan-form-contact-seller").validate({errorPlacement:b,success:c,submitHandler:function(b){a(b).block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}});var c=a(b).serialize();a.post(dokan.ajaxurl,c,function(c){a(b).unblock(),"undefined"!=typeof c.data&&a(b).find(".ajax-response").html(c.data),a(b).find("input[type=text], input[type=email], textarea").val("").removeClass("valid")})}})}},h={init:function(){this.validate(this)},validate:function(){a("form#register").validate({errorPlacement:b,success:c,submitHandler:function(a){a.submit()}})}};a(function(){d.init(),e.init(),f.init(),g.init(),h.init()})}(jQuery),jQuery(function(a){window.WeDevs_Admin={imageUpload:function(b){b.preventDefault();var c=a(this),d=c.siblings("input.image_url");tb_show("","media-upload.php?post_id=0&amp;type=image&amp;TB_iframe=true"),window.send_to_editor=function(b){var e=a(b).attr("href");a(b).find("img").length>0&&(e=a(b).find("img").attr("src")),d.val(e);var f='<img src="'+e+'" alt="image" />';f+='<a href="#" class="remove-image"><span>Remove</span></a>',c.siblings(".image_placeholder").empty().append(f),tb_remove()}},removeImage:function(b){b.preventDefault();var c=a(this);c.parent(".image_placeholder").siblings("input.image_url").val(""),c.parent(".image_placeholder").empty()}}}),jQuery(function(a){a(".tips").tooltip(),a("select.grant_access_id").chosen(),a("ul.order-status").on("click","a.dokan-edit-status",function(){return a(this).addClass("dokan-hide").closest("li").next("li").removeClass("dokan-hide"),!1}),a("ul.order-status").on("click","a.dokan-cancel-status",function(){return a(this).closest("li").addClass("dokan-hide").prev("li").find("a.dokan-edit-status").removeClass("dokan-hide"),!1}),a("form#dokan-order-status-form").on("submit",function(b){b.preventDefault();var c=a(this),d=c.closest("li");d.block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}}),a.post(dokan.ajaxurl,c.serialize(),function(a){d.unblock();var b=d.prev();d.addClass("dokan-hide"),b.find("label").replaceWith(a),b.find("a.dokan-edit-status").removeClass("dokan-hide")})}),a("form#add-order-note").on("submit",function(b){return b.preventDefault(),a("textarea#add-note-content").val()?(a("#dokan-order-notes").block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}}),a.post(dokan.ajaxurl,a(this).serialize(),function(b){a("ul.order_notes").prepend(b),a("#dokan-order-notes").unblock(),a("#add-note-content").val("")}),!1):void 0}),a("#dokan-order-notes").on("click","a.delete_note",function(){var b=a(this).closest("li.note");a("#dokan-order-notes").block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}});var c={action:"woocommerce_delete_order_note",note_id:a(b).attr("rel"),security:a("#delete-note-security").val()};return a.post(dokan.ajaxurl,c,function(){a(b).remove(),a("#dokan-order-notes").unblock()}),!1}),a(".order_download_permissions").on("click","button.grant_access",function(){var b=a(this),c=a("select.grant_access_id").val();if(c){a(".order_download_permissions").block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}});var d={action:"dokan_grant_access_to_download",product_ids:c,loop:a(".order_download_permissions .panel").size(),order_id:b.data("order-id"),security:b.data("nonce")};return a.post(dokan.ajaxurl,d,function(b){b?a("#accordion").append(b):alert("Could not grant access - the user may already have permission for this file or billing email is not set. Ensure the billing email is set, and the order has been saved."),a(".datepicker").datepicker(),a(".order_download_permissions").unblock()}),!1}}),a(".order_download_permissions").on("click","button.revoke_access",function(b){b.preventDefault();var c=confirm("Are you sure you want to revoke access to this download?");if(c){var d=a(this),e=d.closest(".panel"),f=d.attr("rel").split(",")[0],g=d.attr("rel").split(",")[1];if(f>0){a(e).block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}});var h={action:"woocommerce_revoke_access_to_download",product_id:f,download_id:g,order_id:d.data("order-id"),security:d.data("nonce")};a.post(dokan.ajaxurl,h,function(){a(e).fadeOut("300",function(){a(e).remove()})})}else a(e).fadeOut("300",function(){a(e).remove()})}return!1})}),function(a){var b,c,d=a("#variants-holder"),e=a("#product_image_gallery"),f=a("#product_images_container ul.product_images"),g={init:function(){product_type="simple",a(".product-edit-container").on("click","._discounted_price",this.showDiscount),a(".product-edit-container").on("click","a.sale-schedule",this.showDiscountSchedule),a(".product-edit-container").on("click","input[type=checkbox]#_downloadable",this.downloadable),a(".product-edit-container").on("change","#_product_type",this.onChangeProductType),a("#product-attributes").on("click",".add-variant-category",this.variants.addCategory),a("#variants-holder").on("click",".box-header .row-remove",this.variants.removeCategory),a("#variants-holder").on("click",".item-action a.row-add",this.variants.addItem),a("#variants-holder").on("click",".item-action a.row-remove",this.variants.removeItem),a("#variable_product_options").on("click",".sale_schedule",this.variants.saleSchedule),a("#variable_product_options").on("click",".cancel_sale_schedule",this.variants.cancelSchedule),a("#variable_product_options").on("woocommerce_variations_added",this.variants.onVariantAdded),this.variants.dates(),this.variants.initSaleSchedule(),a(".save_attributes").on("click",this.variants.save),a("#dokan-product-images").on("click","a.add-product-images",this.gallery.addImages),a("#dokan-product-images").on("click","a.delete",this.gallery.deleteImage),this.gallery.sortable(),a(".product-edit-container").on("click","a.dokan-feat-image-btn",this.featuredImage.addImage),a(".product-edit-container").on("click","a.dokan-remove-feat-image",this.featuredImage.removeImage),a(".product-edit-container").on("click","a.upload_file_button",this.fileDownloadable),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-edit",this.sidebarToggle.showStatus),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-save",this.sidebarToggle.saveStatus),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-cacnel",this.sidebarToggle.cancel),a(".product-edit-container").on("click","a.insert-file-row",function(){return a(this).closest("table").find("tbody").append(a(this).data("row")),!1}),a(".product-edit-container").on("click","a.delete",function(){return a(this).closest("tr").remove(),!1})},showDiscount:function(){var b=a(this),c=b.is(":checked"),d=a(".special-price-container");c?d.removeClass("dokan-hide"):d.addClass("dokan-hide")},showDiscountSchedule:function(b){b.preventDefault(),a(".sale-schedule-container").slideToggle("fast")},onChangeProductType:function(){var b=a("#_product_type").val();"simple"===b?(product_type="simple",a("aside.downloadable").removeClass("dokan-hide"),a(".show_if_variable").addClass("dokan-hide"),a(".show_if_simple").removeClass("dokan-hide")):(product_type="variable",a("aside.downloadable").addClass("dokan-hide"),a(".show_if_variable").removeClass("dokan-hide"),a(".show_if_simple").addClass("dokan-hide"))},downloadable:function(){a(this).prop("checked")?a(this).closest("aside").find(".dokan-side-body").removeClass("dokan-hide"):a(this).closest("aside").find(".dokan-side-body").addClass("dokan-hide")},variants:{addCategory:function(b){b.preventDefault();var c=a(".inputs-box").length,e=_.template(a("#tmpl-sc-category").html(),{row:c});d.append(e).children(":last").hide().fadeIn(),"simple"===product_type&&d.find(".show_if_variable").hide()},removeCategory:function(b){b.preventDefault(),confirm("Sure?")&&a(this).parents(".inputs-box").fadeOut(function(){a(this).remove()})},addItem:function(b){b.preventDefault();var c=a(this),d=c.closest(".inputs-box"),e=c.closest("ul.option-couplet"),f=e.find("li").length,g=d.data("count"),h=_.template(a("#tmpl-sc-category-item").html());c.closest("li").after(h({row:g,col:f}))},removeItem:function(b){b.preventDefault();var c=a(this).parents("ul").find("li");c.length>1&&a(this).parents("li").fadeOut(function(){a(this).remove()})},save:function(){var b={post_id:a(this).data("id"),data:a(".woocommerce_attributes").find("input, select, textarea").serialize(),action:"dokan_save_attributes"},c=window.location.toString();a("#variants-holder").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),a.post(ajaxurl,b,function(b){console.log(b),a("#variable_product_options").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),a("#variable_product_options").load(c+" #variable_product_options_inner",function(){a("#variable_product_options").unblock()}),a("input.variable_is_downloadable, input.variable_is_virtual").trigger("change"),a("#variants-holder").unblock()})},initSaleSchedule:function(){a(".sale_price_dates_fields").each(function(){var b=a(this),c=!1,d=b.closest("div, table");b.find("input").each(function(){""!=a(this).val()&&(c=!0)}),c?(d.find(".sale_schedule").hide(),d.find(".sale_price_dates_fields").show()):(d.find(".sale_schedule").show(),d.find(".sale_price_dates_fields").hide())})},saleSchedule:function(){var b=a(this).closest("div, table");return a(this).hide(),b.find(".cancel_sale_schedule").show(),b.find(".sale_price_dates_fields").show(),!1},cancelSchedule:function(){var b=a(this).closest("div, table");return a(this).hide(),b.find(".sale_schedule").show(),b.find(".sale_price_dates_fields").hide(),b.find(".sale_price_dates_fields").find("input").val(""),!1},dates:function(){var b=a(".sale_price_dates_fields input").datepicker({defaultDate:"",dateFormat:"yy-mm-dd",numberOfMonths:1,onSelect:function(c){var d=a(this).is("#_sale_price_dates_from, .sale_price_dates_from")?"minDate":"maxDate",e=a(this).data("datepicker"),f=a.datepicker.parseDate(e.settings.dateFormat||a.datepicker._defaults.dateFormat,c,e.settings);b.not(this).datepicker("option",d,f)}})},onVariantAdded:function(){g.variants.dates()}},gallery:{addImages:function(a){a.preventDefault();var c=e.val();return b?void b.open():(b=wp.media.frames.downloadable_file=wp.media({title:"Add Images to Product Gallery",button:{text:"Add to gallery"},multiple:!0}),b.on("select",function(){var a=b.state().get("selection");a.map(function(a){a=a.toJSON(),a.id&&(c=c?c+","+a.id:a.id,f.append('                                <li class="image" data-attachment_id="'+a.id+'">                                    <img src="'+a.url+'" />                                    <ul class="actions">                                        <li><a href="#" class="delete" title="Delete image">Delete</a></li>                                    </ul>                                </li>'))}),e.val(c)}),void b.open())},deleteImage:function(b){b.preventDefault(),a(this).closest("li.image").remove();var c="";return a("#product_images_container ul li.image").css("cursor","default").each(function(){var b=a(this).attr("data-attachment_id");c=c+b+","}),e.val(c),!1},sortable:function(){f.sortable({items:"li.image",cursor:"move",scrollSensitivity:40,forcePlaceholderSize:!0,forceHelperSize:!1,helper:"clone",opacity:.65,placeholder:"dokan-sortable-placeholder",start:function(a,b){b.item.css("background-color","#f6f6f6")},stop:function(a,b){b.item.removeAttr("style")},update:function(){var b="";a("#product_images_container ul li.image").css("cursor","default").each(function(){var a=jQuery(this).attr("data-attachment_id");b=b+a+","}),e.val(b)}})}},featuredImage:{addImage:function(b){b.preventDefault();var d=a(this);return c?void c.open():(c=wp.media({title:"Upload featured image",button:{text:"Set featured image"}}),c.on("select",function(){var a=c.state().get("selection");a.map(function(a){a=a.toJSON(),console.log(a,d),d.siblings("input.dokan-feat-image-id").val(a.id);var b=d.closest(".instruction-inside"),c=b.siblings(".image-wrap");c.find("img").attr("src",a.url),b.addClass("dokan-hide"),c.removeClass("dokan-hide")})}),void c.open())},removeImage:function(b){b.preventDefault();var c=a(this),d=c.closest(".image-wrap"),e=d.siblings(".instruction-inside");e.find("input.dokan-feat-image-id").val("0"),d.addClass("dokan-hide"),e.removeClass("dokan-hide")}},fileDownloadable:function(b){b.preventDefault();var c,d=a(this);return c?void c.open():(c=wp.media({title:"Choose a file",button:{text:"Insert file URL"},multiple:!0}),c.on("select",function(){var a=c.state().get("selection");a.map(function(a){a=a.toJSON(),d.closest("tr").find("input.wc_file_url").val(a.url)})}),c.on("ready",function(){c.uploader.options.uploader.params={type:"downloadable_product"}}),void c.open())},sidebarToggle:{showStatus:function(){var b=a(this).siblings(".dokan-toggle-select-container");return b.is(":hidden")&&(b.slideDown("fast"),a(this).hide()),!1},saveStatus:function(){var b=a(this).closest(".dokan-toggle-select-container");b.slideUp("fast"),b.siblings("a.dokan-toggle-edit").show();var c=a("option:selected",b.find("select.dokan-toggle-select")).text();return b.siblings(".dokan-toggle-selected-display").html(c),!1},cancel:function(){var b=a(this).closest(".dokan-toggle-select-container");return b.slideUp("fast"),b.siblings("a.dokan-toggle-edit").show(),!1}}};a(function(){g.init(),a("#_product_type").trigger("change")})}(jQuery),function(a){var b={init:function(){a("#dokan-comments-table").on("click",".dokan-cmt-action",this.setCommentStatus),a("#dokan-comments-table").on("click","button.dokan-cmt-close-form",this.closeForm),a("#dokan-comments-table").on("click","button.dokan-cmt-submit-form",this.submitForm),a("#dokan-comments-table").on("click",".dokan-cmt-edit",this.populateForm),a(".dokan-check-all").on("click",this.toggleCheckbox)},toggleCheckbox:function(){a(".dokan-check-col").prop("checked",a(this).prop("checked"))},setCommentStatus:function(b){b.preventDefault();var c=a(this),d=c.data("comment_id"),e=c.data("cmt_status"),f=c.data("page_status"),g=c.data("post_type"),h=c.data("curr_page"),i=c.closest("tr"),j={action:"wpuf_comment_status",comment_id:d,comment_status:e,page_status:f,post_type:g,curr_page:h,nonce:dokan.nonce};a.post(dokan.ajaxurl,j,function(b){i.fadeOut(1!==f||1!==e&&0!==e?function(){a(this).remove()}:function(){i.replaceWith(b.data.content).fadeIn()}),null==b.data.pending&&(b.data.pending=0),null==b.data.spam&&(b.data.spam=0),null==b.data.trash&&(b.data.trash=0),a(".comments-menu-pending").text(b.data.pending),a(".comments-menu-spam").text(b.data.spam),a(".comments-menu-trash").text(b.data.trash)})},populateForm:function(b){b.preventDefault();var c=a(this).closest("tr");if(c.next().hasClass("dokan-comment-edit-row"))return void c.next().remove();var d=a("#dokan-edit-comment-row").html(),e={author:c.find(".dokan-cmt-hid-author").text(),email:c.find(".dokan-cmt-hid-email").text(),url:c.find(".dokan-cmt-hid-url").text(),body:c.find(".dokan-cmt-hid-body").text(),id:c.find(".dokan-cmt-hid-id").text(),status:c.find(".dokan-cmt-hid-status").text()};c.after(_.template(d,e))},closeForm:function(b){b.preventDefault(),a(this).closest("tr.dokan-comment-edit-row").remove()},submitForm:function(b){b.preventDefault();var c=a(this),d=c.closest("tr.dokan-comment-edit-row"),e={action:"dokan_update_comment",comment_id:d.find("input.dokan-cmt-id").val(),content:d.find("textarea.dokan-cmt-body").val(),author:d.find("input.dokan-cmt-author").val(),email:d.find("input.dokan-cmt-author-email").val(),url:d.find("input.dokan-cmt-author-url").val(),status:d.find("input.dokan-cmt-status").val(),nonce:dokan.nonce,post_type:d.find("input.dokan-cmt-post-type").val()};a.post(dokan.ajaxurl,e,function(a){a.success===!0?(d.prev().replaceWith(a.data),d.remove()):alert(a.data)})}};a(function(){b.init()})}(jQuery),jQuery(function(a){function b(a,b,c){jQuery('<div class="chart-tooltip">'+c+"</div>").css({top:b-16,left:a+20}).appendTo("body").fadeIn(200)}a("ul.dropdown-menu li.dropdown").hover(function(){a(this).addClass("open")},function(){a(this).removeClass("open")}),a(".datepicker").datepicker({dateFormat:"yy-mm-dd"}),a(".tips").tooltip();var c=a("ul.dokan-dashboard-menu"),d=a("#content article");d.height()>c.height()&&c.css({height:d.height()}),a(window).width()<767?a("#cat-drop-stack li.has-children").on("click","> a",function(b){b.preventDefault(),a(this).siblings(".sub-category").slideToggle("fast")}):a("#cat-drop-stack li.has-children > .sub-category").each(function(b,c){var d=a(c),e=d.find(".sub-block").length;3==e?d.css("width","260%"):e>3&&d.css("width","340%")});var e=null,f=null;jQuery(".chart-placeholder").bind("plothover",function(a,c,d){if(d){if((e!=d.dataIndex||f!=d.seriesIndex)&&(e=d.dataIndex,f=d.seriesIndex,jQuery(".chart-tooltip").remove(),d.series.points.show||d.series.enable_tooltip)){var g=d.series.data[d.dataIndex][1];tooltip_content="",d.series.prepend_label&&(tooltip_content=tooltip_content+d.series.label+": "),d.series.prepend_tooltip&&(tooltip_content+=d.series.prepend_tooltip),tooltip_content+=g,d.series.append_tooltip&&(tooltip_content+=d.series.append_tooltip),d.series.pie.show?b(c.pageX,c.pageY,tooltip_content):b(d.pageX,d.pageY,tooltip_content)}}else jQuery(".chart-tooltip").remove(),e=null}),a("body").on("added_to_cart",function(b,c){a("i.fa-shopping-cart").removeClass("fa-spin"),a(".dokan-cart-amount-top > .amount").fadeOut("fast",function(){a(".dokan-cart-amount-top > .amount").html(c.amount).fadeIn("fast")})}),a("body").on("adding_to_cart",function(b,c){a(c).children("i").addClass("fa-spin")})}),jQuery(function(a){a(".user-role input[type=radio]").on("change",function(){var b=a(this).val();"seller"===b?a(".show_if_seller").slideDown():a(".show_if_seller").slideUp()}),a("#company-name").on("focusout",function(){var b=a(this).val().toLowerCase().replace(/-+/g,"").replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"");a("#seller-url").val(b),a("#url-alart").text(b),a("#seller-url").focus()}),a("#seller-url").keydown(function(b){a(this).val(),-1!==a.inArray(b.keyCode,[46,8,9,27,13,91,109,110,173,189,190])||65==b.keyCode&&b.ctrlKey===!0||b.keyCode>=35&&b.keyCode<=39||(b.shiftKey||(b.keyCode<65||b.keyCode>90)&&(b.keyCode<48||b.keyCode>57))&&(b.keyCode<96||b.keyCode>105)&&b.preventDefault()}),a("#seller-url").keyup(function(){a("#url-alart").text(a(this).val())}),a("#shop-phone").keydown(function(b){-1!==a.inArray(b.keyCode,[46,8,9,27,13,91,107,109,110,187,189,190])||65==b.keyCode&&b.ctrlKey===!0||b.keyCode>=35&&b.keyCode<=39||(b.shiftKey||b.keyCode<48||b.keyCode>57)&&(b.keyCode<96||b.keyCode>105)&&b.preventDefault()}),a("#seller-url").on("focusout",function(){var b=a(this),c={action:"shop_url",url_slug:b.val(),_nonce:dokan.nonce};if(""!==b.val()){var d=b.closest(".form-row");d.block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}}),a.post(dokan.ajaxurl,c,function(b){0==b?(a("#url-alart").removeClass("text-success").addClass("text-danger"),a("#url-alart-mgs").removeClass("text-success").addClass("text-danger").text(dokan.seller.notAvailable)):(a("#url-alart").removeClass("text-danger").addClass("text-success"),a("#url-alart-mgs").removeClass("text-danger").addClass("text-success").text(dokan.seller.available)),d.unblock()})}})}),function(a){a.validator.setDefaults({ignore:":hidden"});var b=function(b,c){var d=a(c).closest(".form-group");d.addClass("has-error").append(b)},c=function(b,c){a(c).closest(".form-group").removeClass("has-error")},d={init:function(){var b=this;return a("a.dokan-banner-drag").on("click",this.imageUpload),a("a.dokan-remove-banner-image").on("click",this.removeBanner),a("a.dokan-gravatar-drag").on("click",this.gragatarImageUpload),a("a.dokan-remove-gravatar-image").on("click",this.removeGravatar),this.validateForm(b),!1},imageUpload:function(){var b,c=a(this);return b?void b.open():(b=wp.media.frames.file_frame=wp.media({title:jQuery(this).data("uploader_title"),button:{text:jQuery(this).data("uploader_button_text")},multiple:!1}),b.on("select",function(){var d=b.state().get("selection").first().toJSON(),e=c.closest(".dokan-banner");e.find("input.dokan-file-field").val(d.id),e.find("img.dokan-banner-img").attr("src",d.url),a(".image-wrap",e).removeClass("dokan-hide"),a(".button-area").addClass("dokan-hide")}),void b.open())},gragatarImageUpload:function(){var b,c=a(this);return b?void b.open():(b=wp.media.frames.file_frame=wp.media({title:jQuery(this).data("uploader_title"),button:{text:jQuery(this).data("uploader_button_text")},multiple:!1}),b.on("select",function(){var d=b.state().get("selection").first().toJSON(),e=c.closest(".dokan-gravatar");e.find("input.dokan-file-field").val(d.id),e.find("img.dokan-gravatar-img").attr("src",d.url),a(".gravatar-wrap",e).removeClass("dokan-hide"),a(".gravatar-button-area").addClass("dokan-hide")}),void b.open())},submitSettings:function(){var b=a("form#settings-form"),c=b.serialize()+"&action=dokan_settings";b.find(".ajax_prev").append('<span class="dokan-loading"> </span>'),a.post(dokan.ajaxurl,c,function(c){b.find("span.dokan-loading").remove(),a("html,body").animate({scrollTop:100}),a(".dokan-ajax-response").html(c.success?a("<div/>",{"class":"dokan-alert dokan-alert-success",html:"<p>"+c.data+"</p>"}):a("<div/>",{"class":"dokan-alert dokan-alert-danger",html:"<p>"+c.data+"</p>"}))})},validateForm:function(d){a("form#settings-form").validate({submitHandler:function(){d.submitSettings()},errorElement:"span",errorClass:"error",errorPlacement:b,success:c})},removeBanner:function(b){b.preventDefault();var c=a(this),d=c.closest(".image-wrap"),e=d.siblings(".button-area");d.find("input.dokan-file-field").val("0"),d.addClass("dokan-hide"),e.removeClass("dokan-hide")},removeGravatar:function(b){b.preventDefault();var c=a(this),d=c.closest(".gravatar-wrap"),e=d.siblings(".gravatar-button-area");d.find("input.dokan-file-field").val("0"),d.addClass("dokan-hide"),e.removeClass("dokan-hide")}},e={init:function(){var a=this;this.withdrawValidate(a)},withdrawValidate:function(){a("form.withdraw").validate({errorElement:"span",errorClass:"error",errorPlacement:b,success:c})}},f={init:function(){var a=this;this.couponsValidation(a)},couponsValidation:function(){a("form.coupons").validate({errorElement:"span",errorClass:"error",errorPlacement:b,success:c})}},g={init:function(){this.validate(this)},validate:function(){a("form#dokan-form-contact-seller").validate({errorPlacement:b,success:c,submitHandler:function(b){a(b).block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}});var c=a(b).serialize();a.post(dokan.ajaxurl,c,function(c){a(b).unblock(),"undefined"!=typeof c.data&&a(b).find(".ajax-response").html(c.data),a(b).find("input[type=text], input[type=email], textarea").val("").removeClass("valid")})}})}},h={init:function(){this.validate(this)},validate:function(){a("form#register").validate({errorPlacement:b,success:c,submitHandler:function(a){a.submit()}})}};a(function(){d.init(),e.init(),f.init(),g.init(),h.init()})}(jQuery),jQuery(function(a){window.WeDevs_Admin={imageUpload:function(b){b.preventDefault();var c=a(this),d=c.siblings("input.image_url");tb_show("","media-upload.php?post_id=0&amp;type=image&amp;TB_iframe=true"),window.send_to_editor=function(b){var e=a(b).attr("href");a(b).find("img").length>0&&(e=a(b).find("img").attr("src")),d.val(e);var f='<img src="'+e+'" alt="image" />';f+='<a href="#" class="remove-image"><span>Remove</span></a>',c.siblings(".image_placeholder").empty().append(f),tb_remove()}},removeImage:function(b){b.preventDefault();var c=a(this);c.parent(".image_placeholder").siblings("input.image_url").val(""),c.parent(".image_placeholder").empty()}}}),jQuery(function(a){a(".tips").tooltip(),a("select.grant_access_id").chosen(),a("ul.order-status").on("click","a.dokan-edit-status",function(){return a(this).addClass("dokan-hide").closest("li").next("li").removeClass("dokan-hide"),!1}),a("ul.order-status").on("click","a.dokan-cancel-status",function(){return a(this).closest("li").addClass("dokan-hide").prev("li").find("a.dokan-edit-status").removeClass("dokan-hide"),!1}),a("form#dokan-order-status-form").on("submit",function(b){b.preventDefault();var c=a(this),d=c.closest("li");d.block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}}),a.post(dokan.ajaxurl,c.serialize(),function(a){d.unblock();var b=d.prev();d.addClass("dokan-hide"),b.find("label").replaceWith(a),b.find("a.dokan-edit-status").removeClass("dokan-hide")})}),a("form#add-order-note").on("submit",function(b){return b.preventDefault(),a("textarea#add-note-content").val()?(a("#dokan-order-notes").block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}}),a.post(dokan.ajaxurl,a(this).serialize(),function(b){a("ul.order_notes").prepend(b),a("#dokan-order-notes").unblock(),a("#add-note-content").val("")}),!1):void 0}),a("#dokan-order-notes").on("click","a.delete_note",function(){var b=a(this).closest("li.note");a("#dokan-order-notes").block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}});var c={action:"woocommerce_delete_order_note",note_id:a(b).attr("rel"),security:a("#delete-note-security").val()};return a.post(dokan.ajaxurl,c,function(){a(b).remove(),a("#dokan-order-notes").unblock()}),!1}),a(".order_download_permissions").on("click","button.grant_access",function(){var b=a(this),c=a("select.grant_access_id").val();if(c){a(".order_download_permissions").block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}});var d={action:"dokan_grant_access_to_download",product_ids:c,loop:a(".order_download_permissions .panel").size(),order_id:b.data("order-id"),security:b.data("nonce")};return a.post(dokan.ajaxurl,d,function(b){b?a("#accordion").append(b):alert("Could not grant access - the user may already have permission for this file or billing email is not set. Ensure the billing email is set, and the order has been saved."),a(".datepicker").datepicker(),a(".order_download_permissions").unblock()}),!1}}),a(".order_download_permissions").on("click","button.revoke_access",function(b){b.preventDefault();var c=confirm("Are you sure you want to revoke access to this download?");if(c){var d=a(this),e=d.closest(".panel"),f=d.attr("rel").split(",")[0],g=d.attr("rel").split(",")[1];if(f>0){a(e).block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}});var h={action:"woocommerce_revoke_access_to_download",product_id:f,download_id:g,order_id:d.data("order-id"),security:d.data("nonce")};a.post(dokan.ajaxurl,h,function(){a(e).fadeOut("300",function(){a(e).remove()})})}else a(e).fadeOut("300",function(){a(e).remove()})}return!1})}),function(a){var b,c,d=a("#variants-holder"),e=a("#product_image_gallery"),f=a("#product_images_container ul.product_images"),g={init:function(){product_type="simple",a(".product-edit-container").on("click","._discounted_price",this.showDiscount),a(".product-edit-container").on("click","a.sale-schedule",this.showDiscountSchedule),a(".product-edit-container").on("click","input[type=checkbox]#_downloadable",this.downloadable),a(".product-edit-container").on("change","#_product_type",this.onChangeProductType),a("#product-attributes").on("click",".add-variant-category",this.variants.addCategory),a("#variants-holder").on("click",".box-header .row-remove",this.variants.removeCategory),a("#variants-holder").on("click",".item-action a.row-add",this.variants.addItem),a("#variants-holder").on("click",".item-action a.row-remove",this.variants.removeItem),a("#variable_product_options").on("click",".sale_schedule",this.variants.saleSchedule),a("#variable_product_options").on("click",".cancel_sale_schedule",this.variants.cancelSchedule),a("#variable_product_options").on("woocommerce_variations_added",this.variants.onVariantAdded),this.variants.dates(),this.variants.initSaleSchedule(),a(".save_attributes").on("click",this.variants.save),a("#dokan-product-images").on("click","a.add-product-images",this.gallery.addImages),a("#dokan-product-images").on("click","a.delete",this.gallery.deleteImage),this.gallery.sortable(),a(".product-edit-container").on("click","a.dokan-feat-image-btn",this.featuredImage.addImage),a(".product-edit-container").on("click","a.dokan-remove-feat-image",this.featuredImage.removeImage),a(".product-edit-container").on("click","a.upload_file_button",this.fileDownloadable),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-edit",this.sidebarToggle.showStatus),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-save",this.sidebarToggle.saveStatus),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-cacnel",this.sidebarToggle.cancel),a(".product-edit-container").on("click","a.insert-file-row",function(){return a(this).closest("table").find("tbody").append(a(this).data("row")),!1}),a(".product-edit-container").on("click","a.delete",function(){return a(this).closest("tr").remove(),!1})},showDiscount:function(){var b=a(this),c=b.is(":checked"),d=a(".special-price-container");c?d.removeClass("dokan-hide"):d.addClass("dokan-hide")},showDiscountSchedule:function(b){b.preventDefault(),a(".sale-schedule-container").slideToggle("fast")},onChangeProductType:function(){var b=a("#_product_type").val();"simple"===b?(product_type="simple",a("aside.downloadable").removeClass("dokan-hide"),a(".show_if_variable").addClass("dokan-hide"),a(".show_if_simple").removeClass("dokan-hide")):(product_type="variable",a("aside.downloadable").addClass("dokan-hide"),a(".show_if_variable").removeClass("dokan-hide"),a(".show_if_simple").addClass("dokan-hide"))},downloadable:function(){a(this).prop("checked")?a(this).closest("aside").find(".dokan-side-body").removeClass("dokan-hide"):a(this).closest("aside").find(".dokan-side-body").addClass("dokan-hide")},variants:{addCategory:function(b){b.preventDefault();var c=a(".inputs-box").length,e=_.template(a("#tmpl-sc-category").html(),{row:c});d.append(e).children(":last").hide().fadeIn(),"simple"===product_type&&d.find(".show_if_variable").hide()},removeCategory:function(b){b.preventDefault(),confirm("Sure?")&&a(this).parents(".inputs-box").fadeOut(function(){a(this).remove()})},addItem:function(b){b.preventDefault();var c=a(this),d=c.closest(".inputs-box"),e=c.closest("ul.option-couplet"),f=e.find("li").length,g=d.data("count"),h=_.template(a("#tmpl-sc-category-item").html());c.closest("li").after(h({row:g,col:f}))},removeItem:function(b){b.preventDefault();var c=a(this).parents("ul").find("li");c.length>1&&a(this).parents("li").fadeOut(function(){a(this).remove()})},save:function(){var b={post_id:a(this).data("id"),data:a(".woocommerce_attributes").find("input, select, textarea").serialize(),action:"dokan_save_attributes"},c=window.location.toString();a("#variants-holder").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),a.post(ajaxurl,b,function(b){console.log(b),a("#variable_product_options").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),a("#variable_product_options").load(c+" #variable_product_options_inner",function(){a("#variable_product_options").unblock()
}),a("input.variable_is_downloadable, input.variable_is_virtual").trigger("change"),a("#variants-holder").unblock()})},initSaleSchedule:function(){a(".sale_price_dates_fields").each(function(){var b=a(this),c=!1,d=b.closest("div, table");b.find("input").each(function(){""!=a(this).val()&&(c=!0)}),c?(d.find(".sale_schedule").hide(),d.find(".sale_price_dates_fields").show()):(d.find(".sale_schedule").show(),d.find(".sale_price_dates_fields").hide())})},saleSchedule:function(){var b=a(this).closest("div, table");return a(this).hide(),b.find(".cancel_sale_schedule").show(),b.find(".sale_price_dates_fields").show(),!1},cancelSchedule:function(){var b=a(this).closest("div, table");return a(this).hide(),b.find(".sale_schedule").show(),b.find(".sale_price_dates_fields").hide(),b.find(".sale_price_dates_fields").find("input").val(""),!1},dates:function(){var b=a(".sale_price_dates_fields input").datepicker({defaultDate:"",dateFormat:"yy-mm-dd",numberOfMonths:1,onSelect:function(c){var d=a(this).is("#_sale_price_dates_from, .sale_price_dates_from")?"minDate":"maxDate",e=a(this).data("datepicker"),f=a.datepicker.parseDate(e.settings.dateFormat||a.datepicker._defaults.dateFormat,c,e.settings);b.not(this).datepicker("option",d,f)}})},onVariantAdded:function(){g.variants.dates()}},gallery:{addImages:function(a){a.preventDefault();var c=e.val();return b?void b.open():(b=wp.media.frames.downloadable_file=wp.media({title:"Add Images to Product Gallery",button:{text:"Add to gallery"},multiple:!0}),b.on("select",function(){var a=b.state().get("selection");a.map(function(a){a=a.toJSON(),a.id&&(c=c?c+","+a.id:a.id,f.append('                                <li class="image" data-attachment_id="'+a.id+'">                                    <img src="'+a.url+'" />                                    <ul class="actions">                                        <li><a href="#" class="delete" title="Delete image">Delete</a></li>                                    </ul>                                </li>'))}),e.val(c)}),void b.open())},deleteImage:function(b){b.preventDefault(),a(this).closest("li.image").remove();var c="";return a("#product_images_container ul li.image").css("cursor","default").each(function(){var b=a(this).attr("data-attachment_id");c=c+b+","}),e.val(c),!1},sortable:function(){f.sortable({items:"li.image",cursor:"move",scrollSensitivity:40,forcePlaceholderSize:!0,forceHelperSize:!1,helper:"clone",opacity:.65,placeholder:"dokan-sortable-placeholder",start:function(a,b){b.item.css("background-color","#f6f6f6")},stop:function(a,b){b.item.removeAttr("style")},update:function(){var b="";a("#product_images_container ul li.image").css("cursor","default").each(function(){var a=jQuery(this).attr("data-attachment_id");b=b+a+","}),e.val(b)}})}},featuredImage:{addImage:function(b){b.preventDefault();var d=a(this);return c?void c.open():(c=wp.media({title:"Upload featured image",button:{text:"Set featured image"}}),c.on("select",function(){var a=c.state().get("selection");a.map(function(a){a=a.toJSON(),console.log(a,d),d.siblings("input.dokan-feat-image-id").val(a.id);var b=d.closest(".instruction-inside"),c=b.siblings(".image-wrap");c.find("img").attr("src",a.url),b.addClass("dokan-hide"),c.removeClass("dokan-hide")})}),void c.open())},removeImage:function(b){b.preventDefault();var c=a(this),d=c.closest(".image-wrap"),e=d.siblings(".instruction-inside");e.find("input.dokan-feat-image-id").val("0"),d.addClass("dokan-hide"),e.removeClass("dokan-hide")}},fileDownloadable:function(b){b.preventDefault();var c,d=a(this);return c?void c.open():(c=wp.media({title:"Choose a file",button:{text:"Insert file URL"},multiple:!0}),c.on("select",function(){var a=c.state().get("selection");a.map(function(a){a=a.toJSON(),d.closest("tr").find("input.wc_file_url").val(a.url)})}),c.on("ready",function(){c.uploader.options.uploader.params={type:"downloadable_product"}}),void c.open())},sidebarToggle:{showStatus:function(){var b=a(this).siblings(".dokan-toggle-select-container");return b.is(":hidden")&&(b.slideDown("fast"),a(this).hide()),!1},saveStatus:function(){var b=a(this).closest(".dokan-toggle-select-container");b.slideUp("fast"),b.siblings("a.dokan-toggle-edit").show();var c=a("option:selected",b.find("select.dokan-toggle-select")).text();return b.siblings(".dokan-toggle-selected-display").html(c),!1},cancel:function(){var b=a(this).closest(".dokan-toggle-select-container");return b.slideUp("fast"),b.siblings("a.dokan-toggle-edit").show(),!1}}};a(function(){g.init(),a("#_product_type").trigger("change")})}(jQuery),function(a){var b={init:function(){a("#dokan-comments-table").on("click",".dokan-cmt-action",this.setCommentStatus),a("#dokan-comments-table").on("click","button.dokan-cmt-close-form",this.closeForm),a("#dokan-comments-table").on("click","button.dokan-cmt-submit-form",this.submitForm),a("#dokan-comments-table").on("click",".dokan-cmt-edit",this.populateForm),a(".dokan-check-all").on("click",this.toggleCheckbox)},toggleCheckbox:function(){a(".dokan-check-col").prop("checked",a(this).prop("checked"))},setCommentStatus:function(b){b.preventDefault();var c=a(this),d=c.data("comment_id"),e=c.data("cmt_status"),f=c.data("page_status"),g=c.data("post_type"),h=c.data("curr_page"),i=c.closest("tr"),j={action:"wpuf_comment_status",comment_id:d,comment_status:e,page_status:f,post_type:g,curr_page:h,nonce:dokan.nonce};a.post(dokan.ajaxurl,j,function(b){i.fadeOut(1!==f||1!==e&&0!==e?function(){a(this).remove()}:function(){i.replaceWith(b.data.content).fadeIn()}),null==b.data.pending&&(b.data.pending=0),null==b.data.spam&&(b.data.spam=0),null==b.data.trash&&(b.data.trash=0),a(".comments-menu-pending").text(b.data.pending),a(".comments-menu-spam").text(b.data.spam),a(".comments-menu-trash").text(b.data.trash)})},populateForm:function(b){b.preventDefault();var c=a(this).closest("tr");if(c.next().hasClass("dokan-comment-edit-row"))return void c.next().remove();var d=a("#dokan-edit-comment-row").html(),e={author:c.find(".dokan-cmt-hid-author").text(),email:c.find(".dokan-cmt-hid-email").text(),url:c.find(".dokan-cmt-hid-url").text(),body:c.find(".dokan-cmt-hid-body").text(),id:c.find(".dokan-cmt-hid-id").text(),status:c.find(".dokan-cmt-hid-status").text()};c.after(_.template(d,e))},closeForm:function(b){b.preventDefault(),a(this).closest("tr.dokan-comment-edit-row").remove()},submitForm:function(b){b.preventDefault();var c=a(this),d=c.closest("tr.dokan-comment-edit-row"),e={action:"dokan_update_comment",comment_id:d.find("input.dokan-cmt-id").val(),content:d.find("textarea.dokan-cmt-body").val(),author:d.find("input.dokan-cmt-author").val(),email:d.find("input.dokan-cmt-author-email").val(),url:d.find("input.dokan-cmt-author-url").val(),status:d.find("input.dokan-cmt-status").val(),nonce:dokan.nonce,post_type:d.find("input.dokan-cmt-post-type").val()};a.post(dokan.ajaxurl,e,function(a){a.success===!0?(d.prev().replaceWith(a.data),d.remove()):alert(a.data)})}};a(function(){b.init()})}(jQuery),jQuery(function(a){function b(a,b,c){jQuery('<div class="chart-tooltip">'+c+"</div>").css({top:b-16,left:a+20}).appendTo("body").fadeIn(200)}a("ul.dropdown-menu li.dropdown").hover(function(){a(this).addClass("open")},function(){a(this).removeClass("open")}),a(".datepicker").datepicker({dateFormat:"yy-mm-dd"}),a(".tips").tooltip();var c=a("ul.dokan-dashboard-menu"),d=a("#content article");d.height()>c.height()&&c.css({height:d.height()}),a(window).width()<767?a("#cat-drop-stack li.has-children").on("click","> a",function(b){b.preventDefault(),a(this).siblings(".sub-category").slideToggle("fast")}):a("#cat-drop-stack li.has-children > .sub-category").each(function(b,c){var d=a(c),e=d.find(".sub-block").length;3==e?d.css("width","260%"):e>3&&d.css("width","340%")});var e=null,f=null;jQuery(".chart-placeholder").bind("plothover",function(a,c,d){if(d){if((e!=d.dataIndex||f!=d.seriesIndex)&&(e=d.dataIndex,f=d.seriesIndex,jQuery(".chart-tooltip").remove(),d.series.points.show||d.series.enable_tooltip)){var g=d.series.data[d.dataIndex][1];tooltip_content="",d.series.prepend_label&&(tooltip_content=tooltip_content+d.series.label+": "),d.series.prepend_tooltip&&(tooltip_content+=d.series.prepend_tooltip),tooltip_content+=g,d.series.append_tooltip&&(tooltip_content+=d.series.append_tooltip),d.series.pie.show?b(c.pageX,c.pageY,tooltip_content):b(d.pageX,d.pageY,tooltip_content)}}else jQuery(".chart-tooltip").remove(),e=null}),a("body").on("added_to_cart",function(b,c){a("i.fa-shopping-cart").removeClass("fa-spin"),a(".dokan-cart-amount-top > .amount").fadeOut("fast",function(){a(".dokan-cart-amount-top > .amount").html(c.amount).fadeIn("fast")})}),a("body").on("adding_to_cart",function(b,c){a(c).children("i").addClass("fa-spin")})}),jQuery(function(a){a(".user-role input[type=radio]").on("change",function(){var b=a(this).val();"seller"===b?a(".show_if_seller").slideDown():a(".show_if_seller").slideUp()}),a("#company-name").on("focusout",function(){var b=a(this).val().toLowerCase().replace(/-+/g,"").replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"");a("#seller-url").val(b),a("#url-alart").text(b),a("#seller-url").focus()}),a("#seller-url").keydown(function(b){a(this).val(),-1!==a.inArray(b.keyCode,[46,8,9,27,13,91,109,110,173,189,190])||65==b.keyCode&&b.ctrlKey===!0||b.keyCode>=35&&b.keyCode<=39||(b.shiftKey||(b.keyCode<65||b.keyCode>90)&&(b.keyCode<48||b.keyCode>57))&&(b.keyCode<96||b.keyCode>105)&&b.preventDefault()}),a("#seller-url").keyup(function(){a("#url-alart").text(a(this).val())}),a("#shop-phone").keydown(function(b){-1!==a.inArray(b.keyCode,[46,8,9,27,13,91,107,109,110,187,189,190])||65==b.keyCode&&b.ctrlKey===!0||b.keyCode>=35&&b.keyCode<=39||(b.shiftKey||b.keyCode<48||b.keyCode>57)&&(b.keyCode<96||b.keyCode>105)&&b.preventDefault()}),a("#seller-url").on("focusout",function(){var b=a(this),c={action:"shop_url",url_slug:b.val(),_nonce:dokan.nonce};if(""!==b.val()){var d=b.closest(".form-row");d.block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}}),a.post(dokan.ajaxurl,c,function(b){0==b?(a("#url-alart").removeClass("text-success").addClass("text-danger"),a("#url-alart-mgs").removeClass("text-success").addClass("text-danger").text(dokan.seller.notAvailable)):(a("#url-alart").removeClass("text-danger").addClass("text-success"),a("#url-alart-mgs").removeClass("text-danger").addClass("text-success").text(dokan.seller.available)),d.unblock()})}})}),function(a){a.validator.setDefaults({ignore:":hidden"});var b=function(b,c){var d=a(c).closest(".form-group");d.addClass("has-error").append(b)},c=function(b,c){a(c).closest(".form-group").removeClass("has-error")},d={init:function(){var b=this;return a("a.dokan-banner-drag").on("click",this.imageUpload),a("a.dokan-remove-banner-image").on("click",this.removeBanner),a("a.dokan-gravatar-drag").on("click",this.gragatarImageUpload),a("a.dokan-remove-gravatar-image").on("click",this.removeGravatar),this.validateForm(b),!1},imageUpload:function(){var b,c=a(this);return b?void b.open():(b=wp.media.frames.file_frame=wp.media({title:jQuery(this).data("uploader_title"),button:{text:jQuery(this).data("uploader_button_text")},multiple:!1}),b.on("select",function(){var d=b.state().get("selection").first().toJSON(),e=c.closest(".dokan-banner");e.find("input.dokan-file-field").val(d.id),e.find("img.dokan-banner-img").attr("src",d.url),a(".image-wrap",e).removeClass("dokan-hide"),a(".button-area").addClass("dokan-hide")}),void b.open())},gragatarImageUpload:function(){var b,c=a(this);return b?void b.open():(b=wp.media.frames.file_frame=wp.media({title:jQuery(this).data("uploader_title"),button:{text:jQuery(this).data("uploader_button_text")},multiple:!1}),b.on("select",function(){var d=b.state().get("selection").first().toJSON(),e=c.closest(".dokan-gravatar");e.find("input.dokan-file-field").val(d.id),e.find("img.dokan-gravatar-img").attr("src",d.url),a(".gravatar-wrap",e).removeClass("dokan-hide"),a(".gravatar-button-area").addClass("dokan-hide")}),void b.open())},submitSettings:function(){var b=a("form#settings-form"),c=b.serialize()+"&action=dokan_settings";b.find(".ajax_prev").append('<span class="dokan-loading"> </span>'),a.post(dokan.ajaxurl,c,function(c){b.find("span.dokan-loading").remove(),a("html,body").animate({scrollTop:100}),a(".dokan-ajax-response").html(c.success?a("<div/>",{"class":"dokan-alert dokan-alert-success",html:"<p>"+c.data+"</p>"}):a("<div/>",{"class":"dokan-alert dokan-alert-danger",html:"<p>"+c.data+"</p>"}))})},validateForm:function(d){a("form#settings-form").validate({submitHandler:function(){d.submitSettings()},errorElement:"span",errorClass:"error",errorPlacement:b,success:c})},removeBanner:function(b){b.preventDefault();var c=a(this),d=c.closest(".image-wrap"),e=d.siblings(".button-area");d.find("input.dokan-file-field").val("0"),d.addClass("dokan-hide"),e.removeClass("dokan-hide")},removeGravatar:function(b){b.preventDefault();var c=a(this),d=c.closest(".gravatar-wrap"),e=d.siblings(".gravatar-button-area");d.find("input.dokan-file-field").val("0"),d.addClass("dokan-hide"),e.removeClass("dokan-hide")}},e={init:function(){var a=this;this.withdrawValidate(a)},withdrawValidate:function(){a("form.withdraw").validate({errorElement:"span",errorClass:"error",errorPlacement:b,success:c})}},f={init:function(){var a=this;this.couponsValidation(a)},couponsValidation:function(){a("form.coupons").validate({errorElement:"span",errorClass:"error",errorPlacement:b,success:c})}},g={init:function(){this.validate(this)},validate:function(){a("form#dokan-form-contact-seller").validate({errorPlacement:b,success:c,submitHandler:function(b){a(b).block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}});var c=a(b).serialize();a.post(dokan.ajaxurl,c,function(c){a(b).unblock(),"undefined"!=typeof c.data&&a(b).find(".ajax-response").html(c.data),a(b).find("input[type=text], input[type=email], textarea").val("").removeClass("valid")})}})}},h={init:function(){this.validate(this)},validate:function(){a("form#register").validate({errorPlacement:b,success:c,submitHandler:function(a){a.submit()}})}};a(function(){d.init(),e.init(),f.init(),g.init(),h.init()})}(jQuery),jQuery(function(a){window.WeDevs_Admin={imageUpload:function(b){b.preventDefault();var c=a(this),d=c.siblings("input.image_url");tb_show("","media-upload.php?post_id=0&amp;type=image&amp;TB_iframe=true"),window.send_to_editor=function(b){var e=a(b).attr("href");a(b).find("img").length>0&&(e=a(b).find("img").attr("src")),d.val(e);var f='<img src="'+e+'" alt="image" />';f+='<a href="#" class="remove-image"><span>Remove</span></a>',c.siblings(".image_placeholder").empty().append(f),tb_remove()}},removeImage:function(b){b.preventDefault();var c=a(this);c.parent(".image_placeholder").siblings("input.image_url").val(""),c.parent(".image_placeholder").empty()}}}),jQuery(function(a){a(".tips").tooltip(),a("select.grant_access_id").chosen(),a("ul.order-status").on("click","a.dokan-edit-status",function(){return a(this).addClass("dokan-hide").closest("li").next("li").removeClass("dokan-hide"),!1}),a("ul.order-status").on("click","a.dokan-cancel-status",function(){return a(this).closest("li").addClass("dokan-hide").prev("li").find("a.dokan-edit-status").removeClass("dokan-hide"),!1}),a("form#dokan-order-status-form").on("submit",function(b){b.preventDefault();var c=a(this),d=c.closest("li");d.block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}}),a.post(dokan.ajaxurl,c.serialize(),function(a){d.unblock();var b=d.prev();d.addClass("dokan-hide"),b.find("label").replaceWith(a),b.find("a.dokan-edit-status").removeClass("dokan-hide")})}),a("form#add-order-note").on("submit",function(b){return b.preventDefault(),a("textarea#add-note-content").val()?(a("#dokan-order-notes").block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}}),a.post(dokan.ajaxurl,a(this).serialize(),function(b){a("ul.order_notes").prepend(b),a("#dokan-order-notes").unblock(),a("#add-note-content").val("")}),!1):void 0}),a("#dokan-order-notes").on("click","a.delete_note",function(){var b=a(this).closest("li.note");a("#dokan-order-notes").block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}});var c={action:"woocommerce_delete_order_note",note_id:a(b).attr("rel"),security:a("#delete-note-security").val()};return a.post(dokan.ajaxurl,c,function(){a(b).remove(),a("#dokan-order-notes").unblock()}),!1}),a(".order_download_permissions").on("click","button.grant_access",function(){var b=a(this),c=a("select.grant_access_id").val();if(c){a(".order_download_permissions").block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}});var d={action:"dokan_grant_access_to_download",product_ids:c,loop:a(".order_download_permissions .panel").size(),order_id:b.data("order-id"),security:b.data("nonce")};return a.post(dokan.ajaxurl,d,function(b){b?a("#accordion").append(b):alert("Could not grant access - the user may already have permission for this file or billing email is not set. Ensure the billing email is set, and the order has been saved."),a(".datepicker").datepicker(),a(".order_download_permissions").unblock()}),!1}}),a(".order_download_permissions").on("click","button.revoke_access",function(b){b.preventDefault();var c=confirm("Are you sure you want to revoke access to this download?");if(c){var d=a(this),e=d.closest(".panel"),f=d.attr("rel").split(",")[0],g=d.attr("rel").split(",")[1];if(f>0){a(e).block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}});var h={action:"woocommerce_revoke_access_to_download",product_id:f,download_id:g,order_id:d.data("order-id"),security:d.data("nonce")};a.post(dokan.ajaxurl,h,function(){a(e).fadeOut("300",function(){a(e).remove()})})}else a(e).fadeOut("300",function(){a(e).remove()})}return!1})}),function(a){var b,c,d=a("#variants-holder"),e=a("#product_image_gallery"),f=a("#product_images_container ul.product_images"),g={init:function(){product_type="simple",a(".product-edit-container").on("click","._discounted_price",this.showDiscount),a(".product-edit-container").on("click","a.sale-schedule",this.showDiscountSchedule),a(".product-edit-container").on("click","input[type=checkbox]#_downloadable",this.downloadable),a(".product-edit-container").on("change","#_product_type",this.onChangeProductType),a("#product-attributes").on("click",".add-variant-category",this.variants.addCategory),a("#variants-holder").on("click",".box-header .row-remove",this.variants.removeCategory),a("#variants-holder").on("click",".item-action a.row-add",this.variants.addItem),a("#variants-holder").on("click",".item-action a.row-remove",this.variants.removeItem),a("#variable_product_options").on("click",".sale_schedule",this.variants.saleSchedule),a("#variable_product_options").on("click",".cancel_sale_schedule",this.variants.cancelSchedule),a("#variable_product_options").on("woocommerce_variations_added",this.variants.onVariantAdded),this.variants.dates(),this.variants.initSaleSchedule(),a(".save_attributes").on("click",this.variants.save),a("#dokan-product-images").on("click","a.add-product-images",this.gallery.addImages),a("#dokan-product-images").on("click","a.delete",this.gallery.deleteImage),this.gallery.sortable(),a(".product-edit-container").on("click","a.dokan-feat-image-btn",this.featuredImage.addImage),a(".product-edit-container").on("click","a.dokan-remove-feat-image",this.featuredImage.removeImage),a(".product-edit-container").on("click","a.upload_file_button",this.fileDownloadable),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-edit",this.sidebarToggle.showStatus),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-save",this.sidebarToggle.saveStatus),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-cacnel",this.sidebarToggle.cancel),a(".product-edit-container").on("click","a.insert-file-row",function(){return a(this).closest("table").find("tbody").append(a(this).data("row")),!1}),a(".product-edit-container").on("click","a.delete",function(){return a(this).closest("tr").remove(),!1})},showDiscount:function(){var b=a(this),c=b.is(":checked"),d=a(".special-price-container");c?d.removeClass("dokan-hide"):d.addClass("dokan-hide")},showDiscountSchedule:function(b){b.preventDefault(),a(".sale-schedule-container").slideToggle("fast")},onChangeProductType:function(){var b=a("#_product_type").val();"simple"===b?(product_type="simple",a("aside.downloadable").removeClass("dokan-hide"),a(".show_if_variable").addClass("dokan-hide"),a(".show_if_simple").removeClass("dokan-hide")):(product_type="variable",a("aside.downloadable").addClass("dokan-hide"),a(".show_if_variable").removeClass("dokan-hide"),a(".show_if_simple").addClass("dokan-hide"))},downloadable:function(){a(this).prop("checked")?a(this).closest("aside").find(".dokan-side-body").removeClass("dokan-hide"):a(this).closest("aside").find(".dokan-side-body").addClass("dokan-hide")},variants:{addCategory:function(b){b.preventDefault();var c=a(".inputs-box").length,e=_.template(a("#tmpl-sc-category").html(),{row:c});d.append(e).children(":last").hide().fadeIn(),"simple"===product_type&&d.find(".show_if_variable").hide()},removeCategory:function(b){b.preventDefault(),confirm("Sure?")&&a(this).parents(".inputs-box").fadeOut(function(){a(this).remove()})},addItem:function(b){b.preventDefault();var c=a(this),d=c.closest(".inputs-box"),e=c.closest("ul.option-couplet"),f=e.find("li").length,g=d.data("count"),h=_.template(a("#tmpl-sc-category-item").html());c.closest("li").after(h({row:g,col:f}))},removeItem:function(b){b.preventDefault();var c=a(this).parents("ul").find("li");c.length>1&&a(this).parents("li").fadeOut(function(){a(this).remove()})},save:function(){var b={post_id:a(this).data("id"),data:a(".woocommerce_attributes").find("input, select, textarea").serialize(),action:"dokan_save_attributes"},c=window.location.toString();a("#variants-holder").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),a.post(ajaxurl,b,function(b){console.log(b),a("#variable_product_options").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),a("#variable_product_options").load(c+" #variable_product_options_inner",function(){a("#variable_product_options").unblock()}),a("input.variable_is_downloadable, input.variable_is_virtual").trigger("change"),a("#variants-holder").unblock()})},initSaleSchedule:function(){a(".sale_price_dates_fields").each(function(){var b=a(this),c=!1,d=b.closest("div, table");b.find("input").each(function(){""!=a(this).val()&&(c=!0)}),c?(d.find(".sale_schedule").hide(),d.find(".sale_price_dates_fields").show()):(d.find(".sale_schedule").show(),d.find(".sale_price_dates_fields").hide())})},saleSchedule:function(){var b=a(this).closest("div, table");return a(this).hide(),b.find(".cancel_sale_schedule").show(),b.find(".sale_price_dates_fields").show(),!1},cancelSchedule:function(){var b=a(this).closest("div, table");return a(this).hide(),b.find(".sale_schedule").show(),b.find(".sale_price_dates_fields").hide(),b.find(".sale_price_dates_fields").find("input").val(""),!1},dates:function(){var b=a(".sale_price_dates_fields input").datepicker({defaultDate:"",dateFormat:"yy-mm-dd",numberOfMonths:1,onSelect:function(c){var d=a(this).is("#_sale_price_dates_from, .sale_price_dates_from")?"minDate":"maxDate",e=a(this).data("datepicker"),f=a.datepicker.parseDate(e.settings.dateFormat||a.datepicker._defaults.dateFormat,c,e.settings);b.not(this).datepicker("option",d,f)}})},onVariantAdded:function(){g.variants.dates()}},gallery:{addImages:function(a){a.preventDefault();var c=e.val();return b?void b.open():(b=wp.media.frames.downloadable_file=wp.media({title:"Add Images to Product Gallery",button:{text:"Add to gallery"},multiple:!0}),b.on("select",function(){var a=b.state().get("selection");a.map(function(a){a=a.toJSON(),a.id&&(c=c?c+","+a.id:a.id,f.append('                                <li class="image" data-attachment_id="'+a.id+'">                                    <img src="'+a.url+'" />                                    <ul class="actions">                                        <li><a href="#" class="delete" title="Delete image">Delete</a></li>                                    </ul>                                </li>'))}),e.val(c)}),void b.open())},deleteImage:function(b){b.preventDefault(),a(this).closest("li.image").remove();var c="";return a("#product_images_container ul li.image").css("cursor","default").each(function(){var b=a(this).attr("data-attachment_id");c=c+b+","}),e.val(c),!1},sortable:function(){f.sortable({items:"li.image",cursor:"move",scrollSensitivity:40,forcePlaceholderSize:!0,forceHelperSize:!1,helper:"clone",opacity:.65,placeholder:"dokan-sortable-placeholder",start:function(a,b){b.item.css("background-color","#f6f6f6")},stop:function(a,b){b.item.removeAttr("style")},update:function(){var b="";a("#product_images_container ul li.image").css("cursor","default").each(function(){var a=jQuery(this).attr("data-attachment_id");b=b+a+","}),e.val(b)}})}},featuredImage:{addImage:function(b){b.preventDefault();var d=a(this);return c?void c.open():(c=wp.media({title:"Upload featured image",button:{text:"Set featured image"}}),c.on("select",function(){var a=c.state().get("selection");a.map(function(a){a=a.toJSON(),console.log(a,d),d.siblings("input.dokan-feat-image-id").val(a.id);var b=d.closest(".instruction-inside"),c=b.siblings(".image-wrap");c.find("img").attr("src",a.url),b.addClass("dokan-hide"),c.removeClass("dokan-hide")})}),void c.open())},removeImage:function(b){b.preventDefault();var c=a(this),d=c.closest(".image-wrap"),e=d.siblings(".instruction-inside");e.find("input.dokan-feat-image-id").val("0"),d.addClass("dokan-hide"),e.removeClass("dokan-hide")}},fileDownloadable:function(b){b.preventDefault();var c,d=a(this);return c?void c.open():(c=wp.media({title:"Choose a file",button:{text:"Insert file URL"},multiple:!0}),c.on("select",function(){var a=c.state().get("selection");a.map(function(a){a=a.toJSON(),d.closest("tr").find("input.wc_file_url").val(a.url)})}),c.on("ready",function(){c.uploader.options.uploader.params={type:"downloadable_product"}}),void c.open())},sidebarToggle:{showStatus:function(){var b=a(this).siblings(".dokan-toggle-select-container");return b.is(":hidden")&&(b.slideDown("fast"),a(this).hide()),!1},saveStatus:function(){var b=a(this).closest(".dokan-toggle-select-container");b.slideUp("fast"),b.siblings("a.dokan-toggle-edit").show();var c=a("option:selected",b.find("select.dokan-toggle-select")).text();return b.siblings(".dokan-toggle-selected-display").html(c),!1},cancel:function(){var b=a(this).closest(".dokan-toggle-select-container");return b.slideUp("fast"),b.siblings("a.dokan-toggle-edit").show(),!1}}};a(function(){g.init(),a("#_product_type").trigger("change")})}(jQuery),function(a){var b={init:function(){a("#dokan-comments-table").on("click",".dokan-cmt-action",this.setCommentStatus),a("#dokan-comments-table").on("click","button.dokan-cmt-close-form",this.closeForm),a("#dokan-comments-table").on("click","button.dokan-cmt-submit-form",this.submitForm),a("#dokan-comments-table").on("click",".dokan-cmt-edit",this.populateForm),a(".dokan-check-all").on("click",this.toggleCheckbox)},toggleCheckbox:function(){a(".dokan-check-col").prop("checked",a(this).prop("checked"))},setCommentStatus:function(b){b.preventDefault();var c=a(this),d=c.data("comment_id"),e=c.data("cmt_status"),f=c.data("page_status"),g=c.data("post_type"),h=c.data("curr_page"),i=c.closest("tr"),j={action:"wpuf_comment_status",comment_id:d,comment_status:e,page_status:f,post_type:g,curr_page:h,nonce:dokan.nonce};a.post(dokan.ajaxurl,j,function(b){i.fadeOut(1!==f||1!==e&&0!==e?function(){a(this).remove()}:function(){i.replaceWith(b.data.content).fadeIn()}),null==b.data.pending&&(b.data.pending=0),null==b.data.spam&&(b.data.spam=0),null==b.data.trash&&(b.data.trash=0),a(".comments-menu-pending").text(b.data.pending),a(".comments-menu-spam").text(b.data.spam),a(".comments-menu-trash").text(b.data.trash)})},populateForm:function(b){b.preventDefault();var c=a(this).closest("tr");if(c.next().hasClass("dokan-comment-edit-row"))return void c.next().remove();var d=a("#dokan-edit-comment-row").html(),e={author:c.find(".dokan-cmt-hid-author").text(),email:c.find(".dokan-cmt-hid-email").text(),url:c.find(".dokan-cmt-hid-url").text(),body:c.find(".dokan-cmt-hid-body").text(),id:c.find(".dokan-cmt-hid-id").text(),status:c.find(".dokan-cmt-hid-status").text()};c.after(_.template(d,e))},closeForm:function(b){b.preventDefault(),a(this).closest("tr.dokan-comment-edit-row").remove()},submitForm:function(b){b.preventDefault();var c=a(this),d=c.closest("tr.dokan-comment-edit-row"),e={action:"dokan_update_comment",comment_id:d.find("input.dokan-cmt-id").val(),content:d.find("textarea.dokan-cmt-body").val(),author:d.find("input.dokan-cmt-author").val(),email:d.find("input.dokan-cmt-author-email").val(),url:d.find("input.dokan-cmt-author-url").val(),status:d.find("input.dokan-cmt-status").val(),nonce:dokan.nonce,post_type:d.find("input.dokan-cmt-post-type").val()};a.post(dokan.ajaxurl,e,function(a){a.success===!0?(d.prev().replaceWith(a.data),d.remove()):alert(a.data)})}};a(function(){b.init()})}(jQuery),jQuery(function(a){function b(a,b,c){jQuery('<div class="chart-tooltip">'+c+"</div>").css({top:b-16,left:a+20}).appendTo("body").fadeIn(200)}a("ul.dropdown-menu li.dropdown").hover(function(){a(this).addClass("open")},function(){a(this).removeClass("open")}),a(".datepicker").datepicker({dateFormat:"yy-mm-dd"}),a(".tips").tooltip();var c=a("ul.dokan-dashboard-menu"),d=a("#content article");d.height()>c.height()&&c.css({height:d.height()}),a(window).width()<767?a("#cat-drop-stack li.has-children").on("click","> a",function(b){b.preventDefault(),a(this).siblings(".sub-category").slideToggle("fast")}):a("#cat-drop-stack li.has-children > .sub-category").each(function(b,c){var d=a(c),e=d.find(".sub-block").length;3==e?d.css("width","260%"):e>3&&d.css("width","340%")});var e=null,f=null;jQuery(".chart-placeholder").bind("plothover",function(a,c,d){if(d){if((e!=d.dataIndex||f!=d.seriesIndex)&&(e=d.dataIndex,f=d.seriesIndex,jQuery(".chart-tooltip").remove(),d.series.points.show||d.series.enable_tooltip)){var g=d.series.data[d.dataIndex][1];tooltip_content="",d.series.prepend_label&&(tooltip_content=tooltip_content+d.series.label+": "),d.series.prepend_tooltip&&(tooltip_content+=d.series.prepend_tooltip),tooltip_content+=g,d.series.append_tooltip&&(tooltip_content+=d.series.append_tooltip),d.series.pie.show?b(c.pageX,c.pageY,tooltip_content):b(d.pageX,d.pageY,tooltip_content)}}else jQuery(".chart-tooltip").remove(),e=null}),a("body").on("added_to_cart",function(b,c){a("i.fa-shopping-cart").removeClass("fa-spin"),a(".dokan-cart-amount-top > .amount").fadeOut("fast",function(){a(".dokan-cart-amount-top > .amount").html(c.amount).fadeIn("fast")})}),a("body").on("adding_to_cart",function(b,c){a(c).children("i").addClass("fa-spin")})}),jQuery(function(a){a(".user-role input[type=radio]").on("change",function(){var b=a(this).val();"seller"===b?a(".show_if_seller").slideDown():a(".show_if_seller").slideUp()}),a("#company-name").on("focusout",function(){var b=a(this).val().toLowerCase().replace(/-+/g,"").replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"");a("#seller-url").val(b),a("#url-alart").text(b),a("#seller-url").focus()}),a("#seller-url").keydown(function(b){a(this).val(),-1!==a.inArray(b.keyCode,[46,8,9,27,13,91,109,110,173,189,190])||65==b.keyCode&&b.ctrlKey===!0||b.keyCode>=35&&b.keyCode<=39||(b.shiftKey||(b.keyCode<65||b.keyCode>90)&&(b.keyCode<48||b.keyCode>57))&&(b.keyCode<96||b.keyCode>105)&&b.preventDefault()}),a("#seller-url").keyup(function(){a("#url-alart").text(a(this).val())}),a("#shop-phone").keydown(function(b){-1!==a.inArray(b.keyCode,[46,8,9,27,13,91,107,109,110,187,189,190])||65==b.keyCode&&b.ctrlKey===!0||b.keyCode>=35&&b.keyCode<=39||(b.shiftKey||b.keyCode<48||b.keyCode>57)&&(b.keyCode<96||b.keyCode>105)&&b.preventDefault()
}),a("#seller-url").on("focusout",function(){var b=a(this),c={action:"shop_url",url_slug:b.val(),_nonce:dokan.nonce};if(""!==b.val()){var d=b.closest(".form-row");d.block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}}),a.post(dokan.ajaxurl,c,function(b){0==b?(a("#url-alart").removeClass("text-success").addClass("text-danger"),a("#url-alart-mgs").removeClass("text-success").addClass("text-danger").text(dokan.seller.notAvailable)):(a("#url-alart").removeClass("text-danger").addClass("text-success"),a("#url-alart-mgs").removeClass("text-danger").addClass("text-success").text(dokan.seller.available)),d.unblock()})}})}),function(a){a.validator.setDefaults({ignore:":hidden"});var b=function(b,c){var d=a(c).closest(".form-group");d.addClass("has-error").append(b)},c=function(b,c){a(c).closest(".form-group").removeClass("has-error")},d={init:function(){var b=this;return a("a.dokan-banner-drag").on("click",this.imageUpload),a("a.dokan-remove-banner-image").on("click",this.removeBanner),a("a.dokan-gravatar-drag").on("click",this.gragatarImageUpload),a("a.dokan-remove-gravatar-image").on("click",this.removeGravatar),this.validateForm(b),!1},imageUpload:function(){var b,c=a(this);return b?void b.open():(b=wp.media.frames.file_frame=wp.media({title:jQuery(this).data("uploader_title"),button:{text:jQuery(this).data("uploader_button_text")},multiple:!1}),b.on("select",function(){var d=b.state().get("selection").first().toJSON(),e=c.closest(".dokan-banner");e.find("input.dokan-file-field").val(d.id),e.find("img.dokan-banner-img").attr("src",d.url),a(".image-wrap",e).removeClass("dokan-hide"),a(".button-area").addClass("dokan-hide")}),void b.open())},gragatarImageUpload:function(){var b,c=a(this);return b?void b.open():(b=wp.media.frames.file_frame=wp.media({title:jQuery(this).data("uploader_title"),button:{text:jQuery(this).data("uploader_button_text")},multiple:!1}),b.on("select",function(){var d=b.state().get("selection").first().toJSON(),e=c.closest(".dokan-gravatar");e.find("input.dokan-file-field").val(d.id),e.find("img.dokan-gravatar-img").attr("src",d.url),a(".gravatar-wrap",e).removeClass("dokan-hide"),a(".gravatar-button-area").addClass("dokan-hide")}),void b.open())},submitSettings:function(){var b=a("form#settings-form"),c=b.serialize()+"&action=dokan_settings";b.find(".ajax_prev").append('<span class="dokan-loading"> </span>'),a.post(dokan.ajaxurl,c,function(c){b.find("span.dokan-loading").remove(),a("html,body").animate({scrollTop:100}),a(".dokan-ajax-response").html(c.success?a("<div/>",{"class":"dokan-alert dokan-alert-success",html:"<p>"+c.data+"</p>"}):a("<div/>",{"class":"dokan-alert dokan-alert-danger",html:"<p>"+c.data+"</p>"}))})},validateForm:function(d){a("form#settings-form").validate({submitHandler:function(){d.submitSettings()},errorElement:"span",errorClass:"error",errorPlacement:b,success:c})},removeBanner:function(b){b.preventDefault();var c=a(this),d=c.closest(".image-wrap"),e=d.siblings(".button-area");d.find("input.dokan-file-field").val("0"),d.addClass("dokan-hide"),e.removeClass("dokan-hide")},removeGravatar:function(b){b.preventDefault();var c=a(this),d=c.closest(".gravatar-wrap"),e=d.siblings(".gravatar-button-area");d.find("input.dokan-file-field").val("0"),d.addClass("dokan-hide"),e.removeClass("dokan-hide")}},e={init:function(){var a=this;this.withdrawValidate(a)},withdrawValidate:function(){a("form.withdraw").validate({errorElement:"span",errorClass:"error",errorPlacement:b,success:c})}},f={init:function(){var a=this;this.couponsValidation(a)},couponsValidation:function(){a("form.coupons").validate({errorElement:"span",errorClass:"error",errorPlacement:b,success:c})}},g={init:function(){this.validate(this)},validate:function(){a("form#dokan-form-contact-seller").validate({errorPlacement:b,success:c,submitHandler:function(b){a(b).block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}});var c=a(b).serialize();a.post(dokan.ajaxurl,c,function(c){a(b).unblock(),"undefined"!=typeof c.data&&a(b).find(".ajax-response").html(c.data),a(b).find("input[type=text], input[type=email], textarea").val("").removeClass("valid")})}})}},h={init:function(){this.validate(this)},validate:function(){a("form#register").validate({errorPlacement:b,success:c,submitHandler:function(a){a.submit()}})}};a(function(){d.init(),e.init(),f.init(),g.init(),h.init()})}(jQuery);