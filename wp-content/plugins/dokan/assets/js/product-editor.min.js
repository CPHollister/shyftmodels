!function(a){var b,c,d=a("#variants-holder"),e=a("#product_image_gallery"),f=a("#product_images_container ul.product_images"),g={init:function(){product_type="simple",a(".product-edit-container").on("click","._discounted_price",this.showDiscount),a(".product-edit-container").on("click","a.sale-schedule",this.showDiscountSchedule),a(".product-edit-container").on("click","input[type=checkbox]#_downloadable",this.downloadable),a(".product-edit-container").on("change","#_product_type",this.onChangeProductType),a("#product-attributes").on("click",".add-variant-category",this.variants.addCategory),a("#variants-holder").on("click",".box-header .row-remove",this.variants.removeCategory),a("#variants-holder").on("click",".item-action a.row-add",this.variants.addItem),a("#variants-holder").on("click",".item-action a.row-remove",this.variants.removeItem),a("#variable_product_options").on("click",".sale_schedule",this.variants.saleSchedule),a("#variable_product_options").on("click",".cancel_sale_schedule",this.variants.cancelSchedule),a("#variable_product_options").on("woocommerce_variations_added",this.variants.onVariantAdded),this.variants.dates(),this.variants.initSaleSchedule(),a(".save_attributes").on("click",this.variants.save),a("#dokan-product-images").on("click","a.add-product-images",this.gallery.addImages),a("#dokan-product-images").on("click","a.delete",this.gallery.deleteImage),this.gallery.sortable(),a(".product-edit-container").on("click","a.dokan-feat-image-btn",this.featuredImage.addImage),a(".product-edit-container").on("click","a.dokan-remove-feat-image",this.featuredImage.removeImage),a(".product-edit-container").on("click","a.upload_file_button",this.fileDownloadable),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-edit",this.sidebarToggle.showStatus),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-save",this.sidebarToggle.saveStatus),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-cacnel",this.sidebarToggle.cancel),a(".product-edit-container").on("click","a.insert-file-row",function(){return a(this).closest("table").find("tbody").append(a(this).data("row")),!1}),a(".product-edit-container").on("click","a.delete",function(){return a(this).closest("tr").remove(),!1})},showDiscount:function(){var b=a(this),c=b.is(":checked"),d=a(".special-price-container");c?d.removeClass("dokan-hide"):d.addClass("dokan-hide")},showDiscountSchedule:function(b){b.preventDefault(),a(".sale-schedule-container").slideToggle("fast")},onChangeProductType:function(){var b=a("#_product_type").val();"simple"===b?(product_type="simple",a("aside.downloadable").removeClass("dokan-hide"),a(".show_if_variable").addClass("dokan-hide"),a(".show_if_simple").removeClass("dokan-hide")):(product_type="variable",a("aside.downloadable").addClass("dokan-hide"),a(".show_if_variable").removeClass("dokan-hide"),a(".show_if_simple").addClass("dokan-hide"))},downloadable:function(){a(this).prop("checked")?a(this).closest("aside").find(".dokan-side-body").removeClass("dokan-hide"):a(this).closest("aside").find(".dokan-side-body").addClass("dokan-hide")},variants:{addCategory:function(b){b.preventDefault();var c=a(".inputs-box").length,e=_.template(a("#tmpl-sc-category").html(),{row:c});d.append(e).children(":last").hide().fadeIn(),"simple"===product_type&&d.find(".show_if_variable").hide()},removeCategory:function(b){b.preventDefault(),confirm("Sure?")&&a(this).parents(".inputs-box").fadeOut(function(){a(this).remove()})},addItem:function(b){b.preventDefault();var c=a(this),d=c.closest(".inputs-box"),e=c.closest("ul.option-couplet"),f=e.find("li").length,g=d.data("count"),h=_.template(a("#tmpl-sc-category-item").html());c.closest("li").after(h({row:g,col:f}))},removeItem:function(b){b.preventDefault();var c=a(this).parents("ul").find("li");c.length>1&&a(this).parents("li").fadeOut(function(){a(this).remove()})},save:function(){var b={post_id:a(this).data("id"),data:a(".woocommerce_attributes").find("input, select, textarea").serialize(),action:"dokan_save_attributes"},c=window.location.toString();a("#variants-holder").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),a.post(ajaxurl,b,function(b){console.log(b),a("#variable_product_options").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),a("#variable_product_options").load(c+" #variable_product_options_inner",function(){a("#variable_product_options").unblock()}),a("input.variable_is_downloadable, input.variable_is_virtual").trigger("change"),a("#variants-holder").unblock()})},initSaleSchedule:function(){a(".sale_price_dates_fields").each(function(){var b=a(this),c=!1,d=b.closest("div, table");b.find("input").each(function(){""!=a(this).val()&&(c=!0)}),c?(d.find(".sale_schedule").hide(),d.find(".sale_price_dates_fields").show()):(d.find(".sale_schedule").show(),d.find(".sale_price_dates_fields").hide())})},saleSchedule:function(){var b=a(this).closest("div, table");return a(this).hide(),b.find(".cancel_sale_schedule").show(),b.find(".sale_price_dates_fields").show(),!1},cancelSchedule:function(){var b=a(this).closest("div, table");return a(this).hide(),b.find(".sale_schedule").show(),b.find(".sale_price_dates_fields").hide(),b.find(".sale_price_dates_fields").find("input").val(""),!1},dates:function(){var b=a(".sale_price_dates_fields input").datepicker({defaultDate:"",dateFormat:"yy-mm-dd",numberOfMonths:1,onSelect:function(c){var d=a(this).is("#_sale_price_dates_from, .sale_price_dates_from")?"minDate":"maxDate",e=a(this).data("datepicker"),f=a.datepicker.parseDate(e.settings.dateFormat||a.datepicker._defaults.dateFormat,c,e.settings);b.not(this).datepicker("option",d,f)}})},onVariantAdded:function(){g.variants.dates()}},gallery:{addImages:function(a){a.preventDefault();var c=e.val();return b?void b.open():(b=wp.media.frames.downloadable_file=wp.media({title:"Add Images to Product Gallery",button:{text:"Add to gallery"},multiple:!0}),b.on("select",function(){var a=b.state().get("selection");a.map(function(a){a=a.toJSON(),a.id&&(c=c?c+","+a.id:a.id,f.append('                                <li class="image" data-attachment_id="'+a.id+'">                                    <img src="'+a.url+'" />                                    <ul class="actions">                                        <li><a href="#" class="delete" title="Delete image">Delete</a></li>                                    </ul>                                </li>'))}),e.val(c)}),void b.open())},deleteImage:function(b){b.preventDefault(),a(this).closest("li.image").remove();var c="";return a("#product_images_container ul li.image").css("cursor","default").each(function(){var b=a(this).attr("data-attachment_id");c=c+b+","}),e.val(c),!1},sortable:function(){f.sortable({items:"li.image",cursor:"move",scrollSensitivity:40,forcePlaceholderSize:!0,forceHelperSize:!1,helper:"clone",opacity:.65,placeholder:"dokan-sortable-placeholder",start:function(a,b){b.item.css("background-color","#f6f6f6")},stop:function(a,b){b.item.removeAttr("style")},update:function(){var b="";a("#product_images_container ul li.image").css("cursor","default").each(function(){var a=jQuery(this).attr("data-attachment_id");b=b+a+","}),e.val(b)}})}},featuredImage:{addImage:function(b){b.preventDefault();var d=a(this);return c?void c.open():(c=wp.media({title:"Upload featured image",button:{text:"Set featured image"}}),c.on("select",function(){var a=c.state().get("selection");a.map(function(a){a=a.toJSON(),console.log(a,d),d.siblings("input.dokan-feat-image-id").val(a.id);var b=d.closest(".instruction-inside"),c=b.siblings(".image-wrap");c.find("img").attr("src",a.url),b.addClass("dokan-hide"),c.removeClass("dokan-hide")})}),void c.open())},removeImage:function(b){b.preventDefault();var c=a(this),d=c.closest(".image-wrap"),e=d.siblings(".instruction-inside");e.find("input.dokan-feat-image-id").val("0"),d.addClass("dokan-hide"),e.removeClass("dokan-hide")}},fileDownloadable:function(b){b.preventDefault();var c,d=a(this);return c?void c.open():(c=wp.media({title:"Choose a file",button:{text:"Insert file URL"},multiple:!0}),c.on("select",function(){var a=c.state().get("selection");a.map(function(a){a=a.toJSON(),d.closest("tr").find("input.wc_file_url").val(a.url)})}),c.on("ready",function(){c.uploader.options.uploader.params={type:"downloadable_product"}}),void c.open())},sidebarToggle:{showStatus:function(){var b=a(this).siblings(".dokan-toggle-select-container");return b.is(":hidden")&&(b.slideDown("fast"),a(this).hide()),!1},saveStatus:function(){var b=a(this).closest(".dokan-toggle-select-container");b.slideUp("fast"),b.siblings("a.dokan-toggle-edit").show();var c=a("option:selected",b.find("select.dokan-toggle-select")).text();return b.siblings(".dokan-toggle-selected-display").html(c),!1},cancel:function(){var b=a(this).closest(".dokan-toggle-select-container");return b.slideUp("fast"),b.siblings("a.dokan-toggle-edit").show(),!1}}};a(function(){g.init(),a("#_product_type").trigger("change")})}(jQuery),!function(a){var b,c,d=a("#variants-holder"),e=a("#product_image_gallery"),f=a("#product_images_container ul.product_images"),g={init:function(){product_type="simple",a(".product-edit-container").on("click","._discounted_price",this.showDiscount),a(".product-edit-container").on("click","a.sale-schedule",this.showDiscountSchedule),a(".product-edit-container").on("click","input[type=checkbox]#_downloadable",this.downloadable),a(".product-edit-container").on("change","#_product_type",this.onChangeProductType),a("#product-attributes").on("click",".add-variant-category",this.variants.addCategory),a("#variants-holder").on("click",".box-header .row-remove",this.variants.removeCategory),a("#variants-holder").on("click",".item-action a.row-add",this.variants.addItem),a("#variants-holder").on("click",".item-action a.row-remove",this.variants.removeItem),a("#variable_product_options").on("click",".sale_schedule",this.variants.saleSchedule),a("#variable_product_options").on("click",".cancel_sale_schedule",this.variants.cancelSchedule),a("#variable_product_options").on("woocommerce_variations_added",this.variants.onVariantAdded),this.variants.dates(),this.variants.initSaleSchedule(),a(".save_attributes").on("click",this.variants.save),a("#dokan-product-images").on("click","a.add-product-images",this.gallery.addImages),a("#dokan-product-images").on("click","a.delete",this.gallery.deleteImage),this.gallery.sortable(),a(".product-edit-container").on("click","a.dokan-feat-image-btn",this.featuredImage.addImage),a(".product-edit-container").on("click","a.dokan-remove-feat-image",this.featuredImage.removeImage),a(".product-edit-container").on("click","a.upload_file_button",this.fileDownloadable),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-edit",this.sidebarToggle.showStatus),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-save",this.sidebarToggle.saveStatus),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-cacnel",this.sidebarToggle.cancel),a(".product-edit-container").on("click","a.insert-file-row",function(){return a(this).closest("table").find("tbody").append(a(this).data("row")),!1}),a(".product-edit-container").on("click","a.delete",function(){return a(this).closest("tr").remove(),!1})},showDiscount:function(){var b=a(this),c=b.is(":checked"),d=a(".special-price-container");c?d.removeClass("dokan-hide"):d.addClass("dokan-hide")},showDiscountSchedule:function(b){b.preventDefault(),a(".sale-schedule-container").slideToggle("fast")},onChangeProductType:function(){var b=a("#_product_type").val();"simple"===b?(product_type="simple",a("aside.downloadable").removeClass("dokan-hide"),a(".show_if_variable").addClass("dokan-hide"),a(".show_if_simple").removeClass("dokan-hide")):(product_type="variable",a("aside.downloadable").addClass("dokan-hide"),a(".show_if_variable").removeClass("dokan-hide"),a(".show_if_simple").addClass("dokan-hide"))},downloadable:function(){a(this).prop("checked")?a(this).closest("aside").find(".dokan-side-body").removeClass("dokan-hide"):a(this).closest("aside").find(".dokan-side-body").addClass("dokan-hide")},variants:{addCategory:function(b){b.preventDefault();var c=a(".inputs-box").length,e=_.template(a("#tmpl-sc-category").html(),{row:c});d.append(e).children(":last").hide().fadeIn(),"simple"===product_type&&d.find(".show_if_variable").hide()},removeCategory:function(b){b.preventDefault(),confirm("Sure?")&&a(this).parents(".inputs-box").fadeOut(function(){a(this).remove()})},addItem:function(b){b.preventDefault();var c=a(this),d=c.closest(".inputs-box"),e=c.closest("ul.option-couplet"),f=e.find("li").length,g=d.data("count"),h=_.template(a("#tmpl-sc-category-item").html());c.closest("li").after(h({row:g,col:f}))},removeItem:function(b){b.preventDefault();var c=a(this).parents("ul").find("li");c.length>1&&a(this).parents("li").fadeOut(function(){a(this).remove()})},save:function(){var b={post_id:a(this).data("id"),data:a(".woocommerce_attributes").find("input, select, textarea").serialize(),action:"dokan_save_attributes"},c=window.location.toString();a("#variants-holder").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),a.post(ajaxurl,b,function(b){console.log(b),a("#variable_product_options").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),a("#variable_product_options").load(c+" #variable_product_options_inner",function(){a("#variable_product_options").unblock()}),a("input.variable_is_downloadable, input.variable_is_virtual").trigger("change"),a("#variants-holder").unblock()})},initSaleSchedule:function(){a(".sale_price_dates_fields").each(function(){var b=a(this),c=!1,d=b.closest("div, table");b.find("input").each(function(){""!=a(this).val()&&(c=!0)}),c?(d.find(".sale_schedule").hide(),d.find(".sale_price_dates_fields").show()):(d.find(".sale_schedule").show(),d.find(".sale_price_dates_fields").hide())})},saleSchedule:function(){var b=a(this).closest("div, table");return a(this).hide(),b.find(".cancel_sale_schedule").show(),b.find(".sale_price_dates_fields").show(),!1},cancelSchedule:function(){var b=a(this).closest("div, table");return a(this).hide(),b.find(".sale_schedule").show(),b.find(".sale_price_dates_fields").hide(),b.find(".sale_price_dates_fields").find("input").val(""),!1},dates:function(){var b=a(".sale_price_dates_fields input").datepicker({defaultDate:"",dateFormat:"yy-mm-dd",numberOfMonths:1,onSelect:function(c){var d=a(this).is("#_sale_price_dates_from, .sale_price_dates_from")?"minDate":"maxDate",e=a(this).data("datepicker"),f=a.datepicker.parseDate(e.settings.dateFormat||a.datepicker._defaults.dateFormat,c,e.settings);b.not(this).datepicker("option",d,f)}})},onVariantAdded:function(){g.variants.dates()}},gallery:{addImages:function(a){a.preventDefault();var c=e.val();return b?void b.open():(b=wp.media.frames.downloadable_file=wp.media({title:"Add Images to Product Gallery",button:{text:"Add to gallery"},multiple:!0}),b.on("select",function(){var a=b.state().get("selection");a.map(function(a){a=a.toJSON(),a.id&&(c=c?c+","+a.id:a.id,f.append('                                <li class="image" data-attachment_id="'+a.id+'">                                    <img src="'+a.url+'" />                                    <ul class="actions">                                        <li><a href="#" class="delete" title="Delete image">Delete</a></li>                                    </ul>                                </li>'))}),e.val(c)}),void b.open())},deleteImage:function(b){b.preventDefault(),a(this).closest("li.image").remove();var c="";return a("#product_images_container ul li.image").css("cursor","default").each(function(){var b=a(this).attr("data-attachment_id");c=c+b+","}),e.val(c),!1},sortable:function(){f.sortable({items:"li.image",cursor:"move",scrollSensitivity:40,forcePlaceholderSize:!0,forceHelperSize:!1,helper:"clone",opacity:.65,placeholder:"dokan-sortable-placeholder",start:function(a,b){b.item.css("background-color","#f6f6f6")},stop:function(a,b){b.item.removeAttr("style")},update:function(){var b="";a("#product_images_container ul li.image").css("cursor","default").each(function(){var a=jQuery(this).attr("data-attachment_id");b=b+a+","}),e.val(b)}})}},featuredImage:{addImage:function(b){b.preventDefault();var d=a(this);return c?void c.open():(c=wp.media({title:"Upload featured image",button:{text:"Set featured image"}}),c.on("select",function(){var a=c.state().get("selection");a.map(function(a){a=a.toJSON(),console.log(a,d),d.siblings("input.dokan-feat-image-id").val(a.id);var b=d.closest(".instruction-inside"),c=b.siblings(".image-wrap");c.find("img").attr("src",a.url),b.addClass("dokan-hide"),c.removeClass("dokan-hide")})}),void c.open())},removeImage:function(b){b.preventDefault();var c=a(this),d=c.closest(".image-wrap"),e=d.siblings(".instruction-inside");e.find("input.dokan-feat-image-id").val("0"),d.addClass("dokan-hide"),e.removeClass("dokan-hide")}},fileDownloadable:function(b){b.preventDefault();var c,d=a(this);return c?void c.open():(c=wp.media({title:"Choose a file",button:{text:"Insert file URL"},multiple:!0}),c.on("select",function(){var a=c.state().get("selection");a.map(function(a){a=a.toJSON(),d.closest("tr").find("input.wc_file_url").val(a.url)})}),c.on("ready",function(){c.uploader.options.uploader.params={type:"downloadable_product"}}),void c.open())},sidebarToggle:{showStatus:function(){var b=a(this).siblings(".dokan-toggle-select-container");return b.is(":hidden")&&(b.slideDown("fast"),a(this).hide()),!1},saveStatus:function(){var b=a(this).closest(".dokan-toggle-select-container");b.slideUp("fast"),b.siblings("a.dokan-toggle-edit").show();var c=a("option:selected",b.find("select.dokan-toggle-select")).text();return b.siblings(".dokan-toggle-selected-display").html(c),!1},cancel:function(){var b=a(this).closest(".dokan-toggle-select-container");return b.slideUp("fast"),b.siblings("a.dokan-toggle-edit").show(),!1}}};a(function(){g.init(),a("#_product_type").trigger("change")})}(jQuery),!function(a){var b,c,d=a("#variants-holder"),e=a("#product_image_gallery"),f=a("#product_images_container ul.product_images"),g={init:function(){product_type="simple",a(".product-edit-container").on("click","._discounted_price",this.showDiscount),a(".product-edit-container").on("click","a.sale-schedule",this.showDiscountSchedule),a(".product-edit-container").on("click","input[type=checkbox]#_downloadable",this.downloadable),a(".product-edit-container").on("change","#_product_type",this.onChangeProductType),a("#product-attributes").on("click",".add-variant-category",this.variants.addCategory),a("#variants-holder").on("click",".box-header .row-remove",this.variants.removeCategory),a("#variants-holder").on("click",".item-action a.row-add",this.variants.addItem),a("#variants-holder").on("click",".item-action a.row-remove",this.variants.removeItem),a("#variable_product_options").on("click",".sale_schedule",this.variants.saleSchedule),a("#variable_product_options").on("click",".cancel_sale_schedule",this.variants.cancelSchedule),a("#variable_product_options").on("woocommerce_variations_added",this.variants.onVariantAdded),this.variants.dates(),this.variants.initSaleSchedule(),a(".save_attributes").on("click",this.variants.save),a("#dokan-product-images").on("click","a.add-product-images",this.gallery.addImages),a("#dokan-product-images").on("click","a.delete",this.gallery.deleteImage),this.gallery.sortable(),a(".product-edit-container").on("click","a.dokan-feat-image-btn",this.featuredImage.addImage),a(".product-edit-container").on("click","a.dokan-remove-feat-image",this.featuredImage.removeImage),a(".product-edit-container").on("click","a.upload_file_button",this.fileDownloadable),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-edit",this.sidebarToggle.showStatus),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-save",this.sidebarToggle.saveStatus),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-cacnel",this.sidebarToggle.cancel),a(".product-edit-container").on("click","a.insert-file-row",function(){return a(this).closest("table").find("tbody").append(a(this).data("row")),!1}),a(".product-edit-container").on("click","a.delete",function(){return a(this).closest("tr").remove(),!1})},showDiscount:function(){var b=a(this),c=b.is(":checked"),d=a(".special-price-container");c?d.removeClass("dokan-hide"):d.addClass("dokan-hide")},showDiscountSchedule:function(b){b.preventDefault(),a(".sale-schedule-container").slideToggle("fast")},onChangeProductType:function(){var b=a("#_product_type").val();"simple"===b?(product_type="simple",a("aside.downloadable").removeClass("dokan-hide"),a(".show_if_variable").addClass("dokan-hide"),a(".show_if_simple").removeClass("dokan-hide")):(product_type="variable",a("aside.downloadable").addClass("dokan-hide"),a(".show_if_variable").removeClass("dokan-hide"),a(".show_if_simple").addClass("dokan-hide"))},downloadable:function(){a(this).prop("checked")?a(this).closest("aside").find(".dokan-side-body").removeClass("dokan-hide"):a(this).closest("aside").find(".dokan-side-body").addClass("dokan-hide")},variants:{addCategory:function(b){b.preventDefault();var c=a(".inputs-box").length,e=_.template(a("#tmpl-sc-category").html(),{row:c});d.append(e).children(":last").hide().fadeIn(),"simple"===product_type&&d.find(".show_if_variable").hide()},removeCategory:function(b){b.preventDefault(),confirm("Sure?")&&a(this).parents(".inputs-box").fadeOut(function(){a(this).remove()})},addItem:function(b){b.preventDefault();var c=a(this),d=c.closest(".inputs-box"),e=c.closest("ul.option-couplet"),f=e.find("li").length,g=d.data("count"),h=_.template(a("#tmpl-sc-category-item").html());c.closest("li").after(h({row:g,col:f}))},removeItem:function(b){b.preventDefault();var c=a(this).parents("ul").find("li");c.length>1&&a(this).parents("li").fadeOut(function(){a(this).remove()})},save:function(){var b={post_id:a(this).data("id"),data:a(".woocommerce_attributes").find("input, select, textarea").serialize(),action:"dokan_save_attributes"},c=window.location.toString();a("#variants-holder").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),a.post(ajaxurl,b,function(b){console.log(b),a("#variable_product_options").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),a("#variable_product_options").load(c+" #variable_product_options_inner",function(){a("#variable_product_options").unblock()}),a("input.variable_is_downloadable, input.variable_is_virtual").trigger("change"),a("#variants-holder").unblock()})},initSaleSchedule:function(){a(".sale_price_dates_fields").each(function(){var b=a(this),c=!1,d=b.closest("div, table");b.find("input").each(function(){""!=a(this).val()&&(c=!0)}),c?(d.find(".sale_schedule").hide(),d.find(".sale_price_dates_fields").show()):(d.find(".sale_schedule").show(),d.find(".sale_price_dates_fields").hide())})},saleSchedule:function(){var b=a(this).closest("div, table");return a(this).hide(),b.find(".cancel_sale_schedule").show(),b.find(".sale_price_dates_fields").show(),!1},cancelSchedule:function(){var b=a(this).closest("div, table");return a(this).hide(),b.find(".sale_schedule").show(),b.find(".sale_price_dates_fields").hide(),b.find(".sale_price_dates_fields").find("input").val(""),!1},dates:function(){var b=a(".sale_price_dates_fields input").datepicker({defaultDate:"",dateFormat:"yy-mm-dd",numberOfMonths:1,onSelect:function(c){var d=a(this).is("#_sale_price_dates_from, .sale_price_dates_from")?"minDate":"maxDate",e=a(this).data("datepicker"),f=a.datepicker.parseDate(e.settings.dateFormat||a.datepicker._defaults.dateFormat,c,e.settings);b.not(this).datepicker("option",d,f)}})},onVariantAdded:function(){g.variants.dates()}},gallery:{addImages:function(a){a.preventDefault();var c=e.val();return b?void b.open():(b=wp.media.frames.downloadable_file=wp.media({title:"Add Images to Product Gallery",button:{text:"Add to gallery"},multiple:!0}),b.on("select",function(){var a=b.state().get("selection");a.map(function(a){a=a.toJSON(),a.id&&(c=c?c+","+a.id:a.id,f.append('                                <li class="image" data-attachment_id="'+a.id+'">                                    <img src="'+a.url+'" />                                    <ul class="actions">                                        <li><a href="#" class="delete" title="Delete image">Delete</a></li>                                    </ul>                                </li>'))}),e.val(c)}),void b.open())},deleteImage:function(b){b.preventDefault(),a(this).closest("li.image").remove();var c="";return a("#product_images_container ul li.image").css("cursor","default").each(function(){var b=a(this).attr("data-attachment_id");c=c+b+","}),e.val(c),!1},sortable:function(){f.sortable({items:"li.image",cursor:"move",scrollSensitivity:40,forcePlaceholderSize:!0,forceHelperSize:!1,helper:"clone",opacity:.65,placeholder:"dokan-sortable-placeholder",start:function(a,b){b.item.css("background-color","#f6f6f6")},stop:function(a,b){b.item.removeAttr("style")},update:function(){var b="";a("#product_images_container ul li.image").css("cursor","default").each(function(){var a=jQuery(this).attr("data-attachment_id");b=b+a+","}),e.val(b)}})}},featuredImage:{addImage:function(b){b.preventDefault();var d=a(this);return c?void c.open():(c=wp.media({title:"Upload featured image",button:{text:"Set featured image"}}),c.on("select",function(){var a=c.state().get("selection");a.map(function(a){a=a.toJSON(),console.log(a,d),d.siblings("input.dokan-feat-image-id").val(a.id);var b=d.closest(".instruction-inside"),c=b.siblings(".image-wrap");c.find("img").attr("src",a.url),b.addClass("dokan-hide"),c.removeClass("dokan-hide")})}),void c.open())},removeImage:function(b){b.preventDefault();var c=a(this),d=c.closest(".image-wrap"),e=d.siblings(".instruction-inside");e.find("input.dokan-feat-image-id").val("0"),d.addClass("dokan-hide"),e.removeClass("dokan-hide")}},fileDownloadable:function(b){b.preventDefault();var c,d=a(this);return c?void c.open():(c=wp.media({title:"Choose a file",button:{text:"Insert file URL"},multiple:!0}),c.on("select",function(){var a=c.state().get("selection");a.map(function(a){a=a.toJSON(),d.closest("tr").find("input.wc_file_url").val(a.url)})}),c.on("ready",function(){c.uploader.options.uploader.params={type:"downloadable_product"}}),void c.open())},sidebarToggle:{showStatus:function(){var b=a(this).siblings(".dokan-toggle-select-container");return b.is(":hidden")&&(b.slideDown("fast"),a(this).hide()),!1},saveStatus:function(){var b=a(this).closest(".dokan-toggle-select-container");b.slideUp("fast"),b.siblings("a.dokan-toggle-edit").show();var c=a("option:selected",b.find("select.dokan-toggle-select")).text();return b.siblings(".dokan-toggle-selected-display").html(c),!1},cancel:function(){var b=a(this).closest(".dokan-toggle-select-container");return b.slideUp("fast"),b.siblings("a.dokan-toggle-edit").show(),!1}}};a(function(){g.init(),a("#_product_type").trigger("change")})}(jQuery),!function(a){var b,c,d=a("#variants-holder"),e=a("#product_image_gallery"),f=a("#product_images_container ul.product_images"),g={init:function(){product_type="simple",a(".product-edit-container").on("click","._discounted_price",this.showDiscount),a(".product-edit-container").on("click","a.sale-schedule",this.showDiscountSchedule),a(".product-edit-container").on("click","input[type=checkbox]#_downloadable",this.downloadable),a(".product-edit-container").on("change","#_product_type",this.onChangeProductType),a("#product-attributes").on("click",".add-variant-category",this.variants.addCategory),a("#variants-holder").on("click",".box-header .row-remove",this.variants.removeCategory),a("#variants-holder").on("click",".item-action a.row-add",this.variants.addItem),a("#variants-holder").on("click",".item-action a.row-remove",this.variants.removeItem),a("#variable_product_options").on("click",".sale_schedule",this.variants.saleSchedule),a("#variable_product_options").on("click",".cancel_sale_schedule",this.variants.cancelSchedule),a("#variable_product_options").on("woocommerce_variations_added",this.variants.onVariantAdded),this.variants.dates(),this.variants.initSaleSchedule(),a(".save_attributes").on("click",this.variants.save),a("#dokan-product-images").on("click","a.add-product-images",this.gallery.addImages),a("#dokan-product-images").on("click","a.delete",this.gallery.deleteImage),this.gallery.sortable(),a(".product-edit-container").on("click","a.dokan-feat-image-btn",this.featuredImage.addImage),a(".product-edit-container").on("click","a.dokan-remove-feat-image",this.featuredImage.removeImage),a(".product-edit-container").on("click","a.upload_file_button",this.fileDownloadable),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-edit",this.sidebarToggle.showStatus),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-save",this.sidebarToggle.saveStatus),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-cacnel",this.sidebarToggle.cancel),a(".product-edit-container").on("click","a.insert-file-row",function(){return a(this).closest("table").find("tbody").append(a(this).data("row")),!1}),a(".product-edit-container").on("click","a.delete",function(){return a(this).closest("tr").remove(),!1})},showDiscount:function(){var b=a(this),c=b.is(":checked"),d=a(".special-price-container");c?d.removeClass("dokan-hide"):d.addClass("dokan-hide")},showDiscountSchedule:function(b){b.preventDefault(),a(".sale-schedule-container").slideToggle("fast")},onChangeProductType:function(){var b=a("#_product_type").val();"simple"===b?(product_type="simple",a("aside.downloadable").removeClass("dokan-hide"),a(".show_if_variable").addClass("dokan-hide"),a(".show_if_simple").removeClass("dokan-hide")):(product_type="variable",a("aside.downloadable").addClass("dokan-hide"),a(".show_if_variable").removeClass("dokan-hide"),a(".show_if_simple").addClass("dokan-hide"))},downloadable:function(){a(this).prop("checked")?a(this).closest("aside").find(".dokan-side-body").removeClass("dokan-hide"):a(this).closest("aside").find(".dokan-side-body").addClass("dokan-hide")},variants:{addCategory:function(b){b.preventDefault();var c=a(".inputs-box").length,e=_.template(a("#tmpl-sc-category").html(),{row:c});d.append(e).children(":last").hide().fadeIn(),"simple"===product_type&&d.find(".show_if_variable").hide()},removeCategory:function(b){b.preventDefault(),confirm("Sure?")&&a(this).parents(".inputs-box").fadeOut(function(){a(this).remove()})},addItem:function(b){b.preventDefault();var c=a(this),d=c.closest(".inputs-box"),e=c.closest("ul.option-couplet"),f=e.find("li").length,g=d.data("count"),h=_.template(a("#tmpl-sc-category-item").html());c.closest("li").after(h({row:g,col:f}))},removeItem:function(b){b.preventDefault();var c=a(this).parents("ul").find("li");c.length>1&&a(this).parents("li").fadeOut(function(){a(this).remove()})},save:function(){var b={post_id:a(this).data("id"),data:a(".woocommerce_attributes").find("input, select, textarea").serialize(),action:"dokan_save_attributes"},c=window.location.toString();a("#variants-holder").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),a.post(ajaxurl,b,function(b){console.log(b),a("#variable_product_options").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),a("#variable_product_options").load(c+" #variable_product_options_inner",function(){a("#variable_product_options").unblock()}),a("input.variable_is_downloadable, input.variable_is_virtual").trigger("change"),a("#variants-holder").unblock()})},initSaleSchedule:function(){a(".sale_price_dates_fields").each(function(){var b=a(this),c=!1,d=b.closest("div, table");b.find("input").each(function(){""!=a(this).val()&&(c=!0)}),c?(d.find(".sale_schedule").hide(),d.find(".sale_price_dates_fields").show()):(d.find(".sale_schedule").show(),d.find(".sale_price_dates_fields").hide())})},saleSchedule:function(){var b=a(this).closest("div, table");return a(this).hide(),b.find(".cancel_sale_schedule").show(),b.find(".sale_price_dates_fields").show(),!1},cancelSchedule:function(){var b=a(this).closest("div, table");return a(this).hide(),b.find(".sale_schedule").show(),b.find(".sale_price_dates_fields").hide(),b.find(".sale_price_dates_fields").find("input").val(""),!1
},dates:function(){var b=a(".sale_price_dates_fields input").datepicker({defaultDate:"",dateFormat:"yy-mm-dd",numberOfMonths:1,onSelect:function(c){var d=a(this).is("#_sale_price_dates_from, .sale_price_dates_from")?"minDate":"maxDate",e=a(this).data("datepicker"),f=a.datepicker.parseDate(e.settings.dateFormat||a.datepicker._defaults.dateFormat,c,e.settings);b.not(this).datepicker("option",d,f)}})},onVariantAdded:function(){g.variants.dates()}},gallery:{addImages:function(a){a.preventDefault();var c=e.val();return b?void b.open():(b=wp.media.frames.downloadable_file=wp.media({title:"Add Images to Product Gallery",button:{text:"Add to gallery"},multiple:!0}),b.on("select",function(){var a=b.state().get("selection");a.map(function(a){a=a.toJSON(),a.id&&(c=c?c+","+a.id:a.id,f.append('                                <li class="image" data-attachment_id="'+a.id+'">                                    <img src="'+a.url+'" />                                    <ul class="actions">                                        <li><a href="#" class="delete" title="Delete image">Delete</a></li>                                    </ul>                                </li>'))}),e.val(c)}),void b.open())},deleteImage:function(b){b.preventDefault(),a(this).closest("li.image").remove();var c="";return a("#product_images_container ul li.image").css("cursor","default").each(function(){var b=a(this).attr("data-attachment_id");c=c+b+","}),e.val(c),!1},sortable:function(){f.sortable({items:"li.image",cursor:"move",scrollSensitivity:40,forcePlaceholderSize:!0,forceHelperSize:!1,helper:"clone",opacity:.65,placeholder:"dokan-sortable-placeholder",start:function(a,b){b.item.css("background-color","#f6f6f6")},stop:function(a,b){b.item.removeAttr("style")},update:function(){var b="";a("#product_images_container ul li.image").css("cursor","default").each(function(){var a=jQuery(this).attr("data-attachment_id");b=b+a+","}),e.val(b)}})}},featuredImage:{addImage:function(b){b.preventDefault();var d=a(this);return c?void c.open():(c=wp.media({title:"Upload featured image",button:{text:"Set featured image"}}),c.on("select",function(){var a=c.state().get("selection");a.map(function(a){a=a.toJSON(),console.log(a,d),d.siblings("input.dokan-feat-image-id").val(a.id);var b=d.closest(".instruction-inside"),c=b.siblings(".image-wrap");c.find("img").attr("src",a.url),b.addClass("dokan-hide"),c.removeClass("dokan-hide")})}),void c.open())},removeImage:function(b){b.preventDefault();var c=a(this),d=c.closest(".image-wrap"),e=d.siblings(".instruction-inside");e.find("input.dokan-feat-image-id").val("0"),d.addClass("dokan-hide"),e.removeClass("dokan-hide")}},fileDownloadable:function(b){b.preventDefault();var c,d=a(this);return c?void c.open():(c=wp.media({title:"Choose a file",button:{text:"Insert file URL"},multiple:!0}),c.on("select",function(){var a=c.state().get("selection");a.map(function(a){a=a.toJSON(),d.closest("tr").find("input.wc_file_url").val(a.url)})}),c.on("ready",function(){c.uploader.options.uploader.params={type:"downloadable_product"}}),void c.open())},sidebarToggle:{showStatus:function(){var b=a(this).siblings(".dokan-toggle-select-container");return b.is(":hidden")&&(b.slideDown("fast"),a(this).hide()),!1},saveStatus:function(){var b=a(this).closest(".dokan-toggle-select-container");b.slideUp("fast"),b.siblings("a.dokan-toggle-edit").show();var c=a("option:selected",b.find("select.dokan-toggle-select")).text();return b.siblings(".dokan-toggle-selected-display").html(c),!1},cancel:function(){var b=a(this).closest(".dokan-toggle-select-container");return b.slideUp("fast"),b.siblings("a.dokan-toggle-edit").show(),!1}}};a(function(){g.init(),a("#_product_type").trigger("change")})}(jQuery),!function(a){var b,c,d=a("#variants-holder"),e=a("#product_image_gallery"),f=a("#product_images_container ul.product_images"),g={init:function(){product_type="simple",a(".product-edit-container").on("click","._discounted_price",this.showDiscount),a(".product-edit-container").on("click","a.sale-schedule",this.showDiscountSchedule),a(".product-edit-container").on("click","input[type=checkbox]#_downloadable",this.downloadable),a(".product-edit-container").on("change","#_product_type",this.onChangeProductType),a("#product-attributes").on("click",".add-variant-category",this.variants.addCategory),a("#variants-holder").on("click",".box-header .row-remove",this.variants.removeCategory),a("#variants-holder").on("click",".item-action a.row-add",this.variants.addItem),a("#variants-holder").on("click",".item-action a.row-remove",this.variants.removeItem),a("#variable_product_options").on("click",".sale_schedule",this.variants.saleSchedule),a("#variable_product_options").on("click",".cancel_sale_schedule",this.variants.cancelSchedule),a("#variable_product_options").on("woocommerce_variations_added",this.variants.onVariantAdded),this.variants.dates(),this.variants.initSaleSchedule(),a(".save_attributes").on("click",this.variants.save),a("#dokan-product-images").on("click","a.add-product-images",this.gallery.addImages),a("#dokan-product-images").on("click","a.delete",this.gallery.deleteImage),this.gallery.sortable(),a(".product-edit-container").on("click","a.dokan-feat-image-btn",this.featuredImage.addImage),a(".product-edit-container").on("click","a.dokan-remove-feat-image",this.featuredImage.removeImage),a(".product-edit-container").on("click","a.upload_file_button",this.fileDownloadable),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-edit",this.sidebarToggle.showStatus),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-save",this.sidebarToggle.saveStatus),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-cacnel",this.sidebarToggle.cancel),a(".product-edit-container").on("click","a.insert-file-row",function(){return a(this).closest("table").find("tbody").append(a(this).data("row")),!1}),a(".product-edit-container").on("click","a.delete",function(){return a(this).closest("tr").remove(),!1})},showDiscount:function(){var b=a(this),c=b.is(":checked"),d=a(".special-price-container");c?d.removeClass("dokan-hide"):d.addClass("dokan-hide")},showDiscountSchedule:function(b){b.preventDefault(),a(".sale-schedule-container").slideToggle("fast")},onChangeProductType:function(){var b=a("#_product_type").val();"simple"===b?(product_type="simple",a("aside.downloadable").removeClass("dokan-hide"),a(".show_if_variable").addClass("dokan-hide"),a(".show_if_simple").removeClass("dokan-hide")):(product_type="variable",a("aside.downloadable").addClass("dokan-hide"),a(".show_if_variable").removeClass("dokan-hide"),a(".show_if_simple").addClass("dokan-hide"))},downloadable:function(){a(this).prop("checked")?a(this).closest("aside").find(".dokan-side-body").removeClass("dokan-hide"):a(this).closest("aside").find(".dokan-side-body").addClass("dokan-hide")},variants:{addCategory:function(b){b.preventDefault();var c=a(".inputs-box").length,e=_.template(a("#tmpl-sc-category").html(),{row:c});d.append(e).children(":last").hide().fadeIn(),"simple"===product_type&&d.find(".show_if_variable").hide()},removeCategory:function(b){b.preventDefault(),confirm("Sure?")&&a(this).parents(".inputs-box").fadeOut(function(){a(this).remove()})},addItem:function(b){b.preventDefault();var c=a(this),d=c.closest(".inputs-box"),e=c.closest("ul.option-couplet"),f=e.find("li").length,g=d.data("count"),h=_.template(a("#tmpl-sc-category-item").html());c.closest("li").after(h({row:g,col:f}))},removeItem:function(b){b.preventDefault();var c=a(this).parents("ul").find("li");c.length>1&&a(this).parents("li").fadeOut(function(){a(this).remove()})},save:function(){var b={post_id:a(this).data("id"),data:a(".woocommerce_attributes").find("input, select, textarea").serialize(),action:"dokan_save_attributes"},c=window.location.toString();a("#variants-holder").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),a.post(ajaxurl,b,function(b){console.log(b),a("#variable_product_options").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),a("#variable_product_options").load(c+" #variable_product_options_inner",function(){a("#variable_product_options").unblock()}),a("input.variable_is_downloadable, input.variable_is_virtual").trigger("change"),a("#variants-holder").unblock()})},initSaleSchedule:function(){a(".sale_price_dates_fields").each(function(){var b=a(this),c=!1,d=b.closest("div, table");b.find("input").each(function(){""!=a(this).val()&&(c=!0)}),c?(d.find(".sale_schedule").hide(),d.find(".sale_price_dates_fields").show()):(d.find(".sale_schedule").show(),d.find(".sale_price_dates_fields").hide())})},saleSchedule:function(){var b=a(this).closest("div, table");return a(this).hide(),b.find(".cancel_sale_schedule").show(),b.find(".sale_price_dates_fields").show(),!1},cancelSchedule:function(){var b=a(this).closest("div, table");return a(this).hide(),b.find(".sale_schedule").show(),b.find(".sale_price_dates_fields").hide(),b.find(".sale_price_dates_fields").find("input").val(""),!1},dates:function(){var b=a(".sale_price_dates_fields input").datepicker({defaultDate:"",dateFormat:"yy-mm-dd",numberOfMonths:1,onSelect:function(c){var d=a(this).is("#_sale_price_dates_from, .sale_price_dates_from")?"minDate":"maxDate",e=a(this).data("datepicker"),f=a.datepicker.parseDate(e.settings.dateFormat||a.datepicker._defaults.dateFormat,c,e.settings);b.not(this).datepicker("option",d,f)}})},onVariantAdded:function(){g.variants.dates()}},gallery:{addImages:function(a){a.preventDefault();var c=e.val();return b?void b.open():(b=wp.media.frames.downloadable_file=wp.media({title:"Add Images to Product Gallery",button:{text:"Add to gallery"},multiple:!0}),b.on("select",function(){var a=b.state().get("selection");a.map(function(a){a=a.toJSON(),a.id&&(c=c?c+","+a.id:a.id,f.append('                                <li class="image" data-attachment_id="'+a.id+'">                                    <img src="'+a.url+'" />                                    <ul class="actions">                                        <li><a href="#" class="delete" title="Delete image">Delete</a></li>                                    </ul>                                </li>'))}),e.val(c)}),void b.open())},deleteImage:function(b){b.preventDefault(),a(this).closest("li.image").remove();var c="";return a("#product_images_container ul li.image").css("cursor","default").each(function(){var b=a(this).attr("data-attachment_id");c=c+b+","}),e.val(c),!1},sortable:function(){f.sortable({items:"li.image",cursor:"move",scrollSensitivity:40,forcePlaceholderSize:!0,forceHelperSize:!1,helper:"clone",opacity:.65,placeholder:"dokan-sortable-placeholder",start:function(a,b){b.item.css("background-color","#f6f6f6")},stop:function(a,b){b.item.removeAttr("style")},update:function(){var b="";a("#product_images_container ul li.image").css("cursor","default").each(function(){var a=jQuery(this).attr("data-attachment_id");b=b+a+","}),e.val(b)}})}},featuredImage:{addImage:function(b){b.preventDefault();var d=a(this);return c?void c.open():(c=wp.media({title:"Upload featured image",button:{text:"Set featured image"}}),c.on("select",function(){var a=c.state().get("selection");a.map(function(a){a=a.toJSON(),console.log(a,d),d.siblings("input.dokan-feat-image-id").val(a.id);var b=d.closest(".instruction-inside"),c=b.siblings(".image-wrap");c.find("img").attr("src",a.url),b.addClass("dokan-hide"),c.removeClass("dokan-hide")})}),void c.open())},removeImage:function(b){b.preventDefault();var c=a(this),d=c.closest(".image-wrap"),e=d.siblings(".instruction-inside");e.find("input.dokan-feat-image-id").val("0"),d.addClass("dokan-hide"),e.removeClass("dokan-hide")}},fileDownloadable:function(b){b.preventDefault();var c,d=a(this);return c?void c.open():(c=wp.media({title:"Choose a file",button:{text:"Insert file URL"},multiple:!0}),c.on("select",function(){var a=c.state().get("selection");a.map(function(a){a=a.toJSON(),d.closest("tr").find("input.wc_file_url").val(a.url)})}),c.on("ready",function(){c.uploader.options.uploader.params={type:"downloadable_product"}}),void c.open())},sidebarToggle:{showStatus:function(){var b=a(this).siblings(".dokan-toggle-select-container");return b.is(":hidden")&&(b.slideDown("fast"),a(this).hide()),!1},saveStatus:function(){var b=a(this).closest(".dokan-toggle-select-container");b.slideUp("fast"),b.siblings("a.dokan-toggle-edit").show();var c=a("option:selected",b.find("select.dokan-toggle-select")).text();return b.siblings(".dokan-toggle-selected-display").html(c),!1},cancel:function(){var b=a(this).closest(".dokan-toggle-select-container");return b.slideUp("fast"),b.siblings("a.dokan-toggle-edit").show(),!1}}};a(function(){g.init(),a("#_product_type").trigger("change")})}(jQuery),!function(a){var b,c,d=a("#variants-holder"),e=a("#product_image_gallery"),f=a("#product_images_container ul.product_images"),g={init:function(){product_type="simple",a(".product-edit-container").on("click","._discounted_price",this.showDiscount),a(".product-edit-container").on("click","a.sale-schedule",this.showDiscountSchedule),a(".product-edit-container").on("click","input[type=checkbox]#_downloadable",this.downloadable),a(".product-edit-container").on("change","#_product_type",this.onChangeProductType),a("#product-attributes").on("click",".add-variant-category",this.variants.addCategory),a("#variants-holder").on("click",".box-header .row-remove",this.variants.removeCategory),a("#variants-holder").on("click",".item-action a.row-add",this.variants.addItem),a("#variants-holder").on("click",".item-action a.row-remove",this.variants.removeItem),a("#variable_product_options").on("click",".sale_schedule",this.variants.saleSchedule),a("#variable_product_options").on("click",".cancel_sale_schedule",this.variants.cancelSchedule),a("#variable_product_options").on("woocommerce_variations_added",this.variants.onVariantAdded),this.variants.dates(),this.variants.initSaleSchedule(),a(".save_attributes").on("click",this.variants.save),a("#dokan-product-images").on("click","a.add-product-images",this.gallery.addImages),a("#dokan-product-images").on("click","a.delete",this.gallery.deleteImage),this.gallery.sortable(),a(".product-edit-container").on("click","a.dokan-feat-image-btn",this.featuredImage.addImage),a(".product-edit-container").on("click","a.dokan-remove-feat-image",this.featuredImage.removeImage),a(".product-edit-container").on("click","a.upload_file_button",this.fileDownloadable),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-edit",this.sidebarToggle.showStatus),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-save",this.sidebarToggle.saveStatus),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-cacnel",this.sidebarToggle.cancel),a(".product-edit-container").on("click","a.insert-file-row",function(){return a(this).closest("table").find("tbody").append(a(this).data("row")),!1}),a(".product-edit-container").on("click","a.delete",function(){return a(this).closest("tr").remove(),!1})},showDiscount:function(){var b=a(this),c=b.is(":checked"),d=a(".special-price-container");c?d.removeClass("dokan-hide"):d.addClass("dokan-hide")},showDiscountSchedule:function(b){b.preventDefault(),a(".sale-schedule-container").slideToggle("fast")},onChangeProductType:function(){var b=a("#_product_type").val();"simple"===b?(product_type="simple",a("aside.downloadable").removeClass("dokan-hide"),a(".show_if_variable").addClass("dokan-hide"),a(".show_if_simple").removeClass("dokan-hide")):(product_type="variable",a("aside.downloadable").addClass("dokan-hide"),a(".show_if_variable").removeClass("dokan-hide"),a(".show_if_simple").addClass("dokan-hide"))},downloadable:function(){a(this).prop("checked")?a(this).closest("aside").find(".dokan-side-body").removeClass("dokan-hide"):a(this).closest("aside").find(".dokan-side-body").addClass("dokan-hide")},variants:{addCategory:function(b){b.preventDefault();var c=a(".inputs-box").length,e=_.template(a("#tmpl-sc-category").html(),{row:c});d.append(e).children(":last").hide().fadeIn(),"simple"===product_type&&d.find(".show_if_variable").hide()},removeCategory:function(b){b.preventDefault(),confirm("Sure?")&&a(this).parents(".inputs-box").fadeOut(function(){a(this).remove()})},addItem:function(b){b.preventDefault();var c=a(this),d=c.closest(".inputs-box"),e=c.closest("ul.option-couplet"),f=e.find("li").length,g=d.data("count"),h=_.template(a("#tmpl-sc-category-item").html());c.closest("li").after(h({row:g,col:f}))},removeItem:function(b){b.preventDefault();var c=a(this).parents("ul").find("li");c.length>1&&a(this).parents("li").fadeOut(function(){a(this).remove()})},save:function(){var b={post_id:a(this).data("id"),data:a(".woocommerce_attributes").find("input, select, textarea").serialize(),action:"dokan_save_attributes"},c=window.location.toString();a("#variants-holder").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),a.post(ajaxurl,b,function(b){console.log(b),a("#variable_product_options").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),a("#variable_product_options").load(c+" #variable_product_options_inner",function(){a("#variable_product_options").unblock()}),a("input.variable_is_downloadable, input.variable_is_virtual").trigger("change"),a("#variants-holder").unblock()})},initSaleSchedule:function(){a(".sale_price_dates_fields").each(function(){var b=a(this),c=!1,d=b.closest("div, table");b.find("input").each(function(){""!=a(this).val()&&(c=!0)}),c?(d.find(".sale_schedule").hide(),d.find(".sale_price_dates_fields").show()):(d.find(".sale_schedule").show(),d.find(".sale_price_dates_fields").hide())})},saleSchedule:function(){var b=a(this).closest("div, table");return a(this).hide(),b.find(".cancel_sale_schedule").show(),b.find(".sale_price_dates_fields").show(),!1},cancelSchedule:function(){var b=a(this).closest("div, table");return a(this).hide(),b.find(".sale_schedule").show(),b.find(".sale_price_dates_fields").hide(),b.find(".sale_price_dates_fields").find("input").val(""),!1},dates:function(){var b=a(".sale_price_dates_fields input").datepicker({defaultDate:"",dateFormat:"yy-mm-dd",numberOfMonths:1,onSelect:function(c){var d=a(this).is("#_sale_price_dates_from, .sale_price_dates_from")?"minDate":"maxDate",e=a(this).data("datepicker"),f=a.datepicker.parseDate(e.settings.dateFormat||a.datepicker._defaults.dateFormat,c,e.settings);b.not(this).datepicker("option",d,f)}})},onVariantAdded:function(){g.variants.dates()}},gallery:{addImages:function(a){a.preventDefault();var c=e.val();return b?void b.open():(b=wp.media.frames.downloadable_file=wp.media({title:"Add Images to Product Gallery",button:{text:"Add to gallery"},multiple:!0}),b.on("select",function(){var a=b.state().get("selection");a.map(function(a){a=a.toJSON(),a.id&&(c=c?c+","+a.id:a.id,f.append('                                <li class="image" data-attachment_id="'+a.id+'">                                    <img src="'+a.url+'" />                                    <ul class="actions">                                        <li><a href="#" class="delete" title="Delete image">Delete</a></li>                                    </ul>                                </li>'))}),e.val(c)}),void b.open())},deleteImage:function(b){b.preventDefault(),a(this).closest("li.image").remove();var c="";return a("#product_images_container ul li.image").css("cursor","default").each(function(){var b=a(this).attr("data-attachment_id");c=c+b+","}),e.val(c),!1},sortable:function(){f.sortable({items:"li.image",cursor:"move",scrollSensitivity:40,forcePlaceholderSize:!0,forceHelperSize:!1,helper:"clone",opacity:.65,placeholder:"dokan-sortable-placeholder",start:function(a,b){b.item.css("background-color","#f6f6f6")},stop:function(a,b){b.item.removeAttr("style")},update:function(){var b="";a("#product_images_container ul li.image").css("cursor","default").each(function(){var a=jQuery(this).attr("data-attachment_id");b=b+a+","}),e.val(b)}})}},featuredImage:{addImage:function(b){b.preventDefault();var d=a(this);return c?void c.open():(c=wp.media({title:"Upload featured image",button:{text:"Set featured image"}}),c.on("select",function(){var a=c.state().get("selection");a.map(function(a){a=a.toJSON(),console.log(a,d),d.siblings("input.dokan-feat-image-id").val(a.id);var b=d.closest(".instruction-inside"),c=b.siblings(".image-wrap");c.find("img").attr("src",a.url),b.addClass("dokan-hide"),c.removeClass("dokan-hide")})}),void c.open())},removeImage:function(b){b.preventDefault();var c=a(this),d=c.closest(".image-wrap"),e=d.siblings(".instruction-inside");e.find("input.dokan-feat-image-id").val("0"),d.addClass("dokan-hide"),e.removeClass("dokan-hide")}},fileDownloadable:function(b){b.preventDefault();var c,d=a(this);return c?void c.open():(c=wp.media({title:"Choose a file",button:{text:"Insert file URL"},multiple:!0}),c.on("select",function(){var a=c.state().get("selection");a.map(function(a){a=a.toJSON(),d.closest("tr").find("input.wc_file_url").val(a.url)})}),c.on("ready",function(){c.uploader.options.uploader.params={type:"downloadable_product"}}),void c.open())},sidebarToggle:{showStatus:function(){var b=a(this).siblings(".dokan-toggle-select-container");return b.is(":hidden")&&(b.slideDown("fast"),a(this).hide()),!1},saveStatus:function(){var b=a(this).closest(".dokan-toggle-select-container");b.slideUp("fast"),b.siblings("a.dokan-toggle-edit").show();var c=a("option:selected",b.find("select.dokan-toggle-select")).text();return b.siblings(".dokan-toggle-selected-display").html(c),!1},cancel:function(){var b=a(this).closest(".dokan-toggle-select-container");return b.slideUp("fast"),b.siblings("a.dokan-toggle-edit").show(),!1}}};a(function(){g.init(),a("#_product_type").trigger("change")})}(jQuery),!function(a){var b,c,d=a("#variants-holder"),e=a("#product_image_gallery"),f=a("#product_images_container ul.product_images"),g={init:function(){product_type="simple",a(".product-edit-container").on("click","._discounted_price",this.showDiscount),a(".product-edit-container").on("click","a.sale-schedule",this.showDiscountSchedule),a(".product-edit-container").on("click","input[type=checkbox]#_downloadable",this.downloadable),a(".product-edit-container").on("change","#_product_type",this.onChangeProductType),a("#product-attributes").on("click",".add-variant-category",this.variants.addCategory),a("#variants-holder").on("click",".box-header .row-remove",this.variants.removeCategory),a("#variants-holder").on("click",".item-action a.row-add",this.variants.addItem),a("#variants-holder").on("click",".item-action a.row-remove",this.variants.removeItem),a("#variable_product_options").on("click",".sale_schedule",this.variants.saleSchedule),a("#variable_product_options").on("click",".cancel_sale_schedule",this.variants.cancelSchedule),a("#variable_product_options").on("woocommerce_variations_added",this.variants.onVariantAdded),this.variants.dates(),this.variants.initSaleSchedule(),a(".save_attributes").on("click",this.variants.save),a("#dokan-product-images").on("click","a.add-product-images",this.gallery.addImages),a("#dokan-product-images").on("click","a.delete",this.gallery.deleteImage),this.gallery.sortable(),a(".product-edit-container").on("click","a.dokan-feat-image-btn",this.featuredImage.addImage),a(".product-edit-container").on("click","a.dokan-remove-feat-image",this.featuredImage.removeImage),a(".product-edit-container").on("click","a.upload_file_button",this.fileDownloadable),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-edit",this.sidebarToggle.showStatus),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-save",this.sidebarToggle.saveStatus),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-cacnel",this.sidebarToggle.cancel),a(".product-edit-container").on("click","a.insert-file-row",function(){return a(this).closest("table").find("tbody").append(a(this).data("row")),!1}),a(".product-edit-container").on("click","a.delete",function(){return a(this).closest("tr").remove(),!1})},showDiscount:function(){var b=a(this),c=b.is(":checked"),d=a(".special-price-container");c?d.removeClass("dokan-hide"):d.addClass("dokan-hide")},showDiscountSchedule:function(b){b.preventDefault(),a(".sale-schedule-container").slideToggle("fast")},onChangeProductType:function(){var b=a("#_product_type").val();"simple"===b?(product_type="simple",a("aside.downloadable").removeClass("dokan-hide"),a(".show_if_variable").addClass("dokan-hide"),a(".show_if_simple").removeClass("dokan-hide")):(product_type="variable",a("aside.downloadable").addClass("dokan-hide"),a(".show_if_variable").removeClass("dokan-hide"),a(".show_if_simple").addClass("dokan-hide"))},downloadable:function(){a(this).prop("checked")?a(this).closest("aside").find(".dokan-side-body").removeClass("dokan-hide"):a(this).closest("aside").find(".dokan-side-body").addClass("dokan-hide")},variants:{addCategory:function(b){b.preventDefault();var c=a(".inputs-box").length,e=_.template(a("#tmpl-sc-category").html(),{row:c});d.append(e).children(":last").hide().fadeIn(),"simple"===product_type&&d.find(".show_if_variable").hide()},removeCategory:function(b){b.preventDefault(),confirm("Sure?")&&a(this).parents(".inputs-box").fadeOut(function(){a(this).remove()})},addItem:function(b){b.preventDefault();var c=a(this),d=c.closest(".inputs-box"),e=c.closest("ul.option-couplet"),f=e.find("li").length,g=d.data("count"),h=_.template(a("#tmpl-sc-category-item").html());c.closest("li").after(h({row:g,col:f}))},removeItem:function(b){b.preventDefault();var c=a(this).parents("ul").find("li");c.length>1&&a(this).parents("li").fadeOut(function(){a(this).remove()})},save:function(){var b={post_id:a(this).data("id"),data:a(".woocommerce_attributes").find("input, select, textarea").serialize(),action:"dokan_save_attributes"},c=window.location.toString();a("#variants-holder").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),a.post(ajaxurl,b,function(b){console.log(b),a("#variable_product_options").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),a("#variable_product_options").load(c+" #variable_product_options_inner",function(){a("#variable_product_options").unblock()}),a("input.variable_is_downloadable, input.variable_is_virtual").trigger("change"),a("#variants-holder").unblock()})},initSaleSchedule:function(){a(".sale_price_dates_fields").each(function(){var b=a(this),c=!1,d=b.closest("div, table");b.find("input").each(function(){""!=a(this).val()&&(c=!0)}),c?(d.find(".sale_schedule").hide(),d.find(".sale_price_dates_fields").show()):(d.find(".sale_schedule").show(),d.find(".sale_price_dates_fields").hide())})},saleSchedule:function(){var b=a(this).closest("div, table");return a(this).hide(),b.find(".cancel_sale_schedule").show(),b.find(".sale_price_dates_fields").show(),!1},cancelSchedule:function(){var b=a(this).closest("div, table");return a(this).hide(),b.find(".sale_schedule").show(),b.find(".sale_price_dates_fields").hide(),b.find(".sale_price_dates_fields").find("input").val(""),!1},dates:function(){var b=a(".sale_price_dates_fields input").datepicker({defaultDate:"",dateFormat:"yy-mm-dd",numberOfMonths:1,onSelect:function(c){var d=a(this).is("#_sale_price_dates_from, .sale_price_dates_from")?"minDate":"maxDate",e=a(this).data("datepicker"),f=a.datepicker.parseDate(e.settings.dateFormat||a.datepicker._defaults.dateFormat,c,e.settings);b.not(this).datepicker("option",d,f)}})},onVariantAdded:function(){g.variants.dates()}},gallery:{addImages:function(a){a.preventDefault();var c=e.val();return b?void b.open():(b=wp.media.frames.downloadable_file=wp.media({title:"Add Images to Product Gallery",button:{text:"Add to gallery"},multiple:!0}),b.on("select",function(){var a=b.state().get("selection");a.map(function(a){a=a.toJSON(),a.id&&(c=c?c+","+a.id:a.id,f.append('                                <li class="image" data-attachment_id="'+a.id+'">                                    <img src="'+a.url+'" />                                    <ul class="actions">                                        <li><a href="#" class="delete" title="Delete image">Delete</a></li>                                    </ul>                                </li>'))}),e.val(c)}),void b.open())},deleteImage:function(b){b.preventDefault(),a(this).closest("li.image").remove();var c="";return a("#product_images_container ul li.image").css("cursor","default").each(function(){var b=a(this).attr("data-attachment_id");c=c+b+","}),e.val(c),!1},sortable:function(){f.sortable({items:"li.image",cursor:"move",scrollSensitivity:40,forcePlaceholderSize:!0,forceHelperSize:!1,helper:"clone",opacity:.65,placeholder:"dokan-sortable-placeholder",start:function(a,b){b.item.css("background-color","#f6f6f6")},stop:function(a,b){b.item.removeAttr("style")},update:function(){var b="";a("#product_images_container ul li.image").css("cursor","default").each(function(){var a=jQuery(this).attr("data-attachment_id");b=b+a+","}),e.val(b)}})}},featuredImage:{addImage:function(b){b.preventDefault();var d=a(this);return c?void c.open():(c=wp.media({title:"Upload featured image",button:{text:"Set featured image"}}),c.on("select",function(){var a=c.state().get("selection");a.map(function(a){a=a.toJSON(),console.log(a,d),d.siblings("input.dokan-feat-image-id").val(a.id);var b=d.closest(".instruction-inside"),c=b.siblings(".image-wrap");c.find("img").attr("src",a.url),b.addClass("dokan-hide"),c.removeClass("dokan-hide")})}),void c.open())},removeImage:function(b){b.preventDefault();var c=a(this),d=c.closest(".image-wrap"),e=d.siblings(".instruction-inside");e.find("input.dokan-feat-image-id").val("0"),d.addClass("dokan-hide"),e.removeClass("dokan-hide")}},fileDownloadable:function(b){b.preventDefault();var c,d=a(this);return c?void c.open():(c=wp.media({title:"Choose a file",button:{text:"Insert file URL"},multiple:!0}),c.on("select",function(){var a=c.state().get("selection");a.map(function(a){a=a.toJSON(),d.closest("tr").find("input.wc_file_url").val(a.url)})}),c.on("ready",function(){c.uploader.options.uploader.params={type:"downloadable_product"}}),void c.open())},sidebarToggle:{showStatus:function(){var b=a(this).siblings(".dokan-toggle-select-container");return b.is(":hidden")&&(b.slideDown("fast"),a(this).hide()),!1},saveStatus:function(){var b=a(this).closest(".dokan-toggle-select-container");b.slideUp("fast"),b.siblings("a.dokan-toggle-edit").show();var c=a("option:selected",b.find("select.dokan-toggle-select")).text();return b.siblings(".dokan-toggle-selected-display").html(c),!1},cancel:function(){var b=a(this).closest(".dokan-toggle-select-container");return b.slideUp("fast"),b.siblings("a.dokan-toggle-edit").show(),!1}}};a(function(){g.init(),a("#_product_type").trigger("change")})}(jQuery),!function(a){var b,c,d=a("#variants-holder"),e=a("#product_image_gallery"),f=a("#product_images_container ul.product_images"),g={init:function(){product_type="simple",a(".product-edit-container").on("click","._discounted_price",this.showDiscount),a(".product-edit-container").on("click","a.sale-schedule",this.showDiscountSchedule),a(".product-edit-container").on("click","input[type=checkbox]#_downloadable",this.downloadable),a(".product-edit-container").on("change","#_product_type",this.onChangeProductType),a("#product-attributes").on("click",".add-variant-category",this.variants.addCategory),a("#variants-holder").on("click",".box-header .row-remove",this.variants.removeCategory),a("#variants-holder").on("click",".item-action a.row-add",this.variants.addItem),a("#variants-holder").on("click",".item-action a.row-remove",this.variants.removeItem),a("#variable_product_options").on("click",".sale_schedule",this.variants.saleSchedule),a("#variable_product_options").on("click",".cancel_sale_schedule",this.variants.cancelSchedule),a("#variable_product_options").on("woocommerce_variations_added",this.variants.onVariantAdded),this.variants.dates(),this.variants.initSaleSchedule(),a(".save_attributes").on("click",this.variants.save),a("#dokan-product-images").on("click","a.add-product-images",this.gallery.addImages),a("#dokan-product-images").on("click","a.delete",this.gallery.deleteImage),this.gallery.sortable(),a(".product-edit-container").on("click","a.dokan-feat-image-btn",this.featuredImage.addImage),a(".product-edit-container").on("click","a.dokan-remove-feat-image",this.featuredImage.removeImage),a(".product-edit-container").on("click","a.upload_file_button",this.fileDownloadable),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-edit",this.sidebarToggle.showStatus),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-save",this.sidebarToggle.saveStatus),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-cacnel",this.sidebarToggle.cancel),a(".product-edit-container").on("click","a.insert-file-row",function(){return a(this).closest("table").find("tbody").append(a(this).data("row")),!1
}),a(".product-edit-container").on("click","a.delete",function(){return a(this).closest("tr").remove(),!1})},showDiscount:function(){var b=a(this),c=b.is(":checked"),d=a(".special-price-container");c?d.removeClass("dokan-hide"):d.addClass("dokan-hide")},showDiscountSchedule:function(b){b.preventDefault(),a(".sale-schedule-container").slideToggle("fast")},onChangeProductType:function(){var b=a("#_product_type").val();"simple"===b?(product_type="simple",a("aside.downloadable").removeClass("dokan-hide"),a(".show_if_variable").addClass("dokan-hide"),a(".show_if_simple").removeClass("dokan-hide")):(product_type="variable",a("aside.downloadable").addClass("dokan-hide"),a(".show_if_variable").removeClass("dokan-hide"),a(".show_if_simple").addClass("dokan-hide"))},downloadable:function(){a(this).prop("checked")?a(this).closest("aside").find(".dokan-side-body").removeClass("dokan-hide"):a(this).closest("aside").find(".dokan-side-body").addClass("dokan-hide")},variants:{addCategory:function(b){b.preventDefault();var c=a(".inputs-box").length,e=_.template(a("#tmpl-sc-category").html(),{row:c});d.append(e).children(":last").hide().fadeIn(),"simple"===product_type&&d.find(".show_if_variable").hide()},removeCategory:function(b){b.preventDefault(),confirm("Sure?")&&a(this).parents(".inputs-box").fadeOut(function(){a(this).remove()})},addItem:function(b){b.preventDefault();var c=a(this),d=c.closest(".inputs-box"),e=c.closest("ul.option-couplet"),f=e.find("li").length,g=d.data("count"),h=_.template(a("#tmpl-sc-category-item").html());c.closest("li").after(h({row:g,col:f}))},removeItem:function(b){b.preventDefault();var c=a(this).parents("ul").find("li");c.length>1&&a(this).parents("li").fadeOut(function(){a(this).remove()})},save:function(){var b={post_id:a(this).data("id"),data:a(".woocommerce_attributes").find("input, select, textarea").serialize(),action:"dokan_save_attributes"},c=window.location.toString();a("#variants-holder").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),a.post(ajaxurl,b,function(b){console.log(b),a("#variable_product_options").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),a("#variable_product_options").load(c+" #variable_product_options_inner",function(){a("#variable_product_options").unblock()}),a("input.variable_is_downloadable, input.variable_is_virtual").trigger("change"),a("#variants-holder").unblock()})},initSaleSchedule:function(){a(".sale_price_dates_fields").each(function(){var b=a(this),c=!1,d=b.closest("div, table");b.find("input").each(function(){""!=a(this).val()&&(c=!0)}),c?(d.find(".sale_schedule").hide(),d.find(".sale_price_dates_fields").show()):(d.find(".sale_schedule").show(),d.find(".sale_price_dates_fields").hide())})},saleSchedule:function(){var b=a(this).closest("div, table");return a(this).hide(),b.find(".cancel_sale_schedule").show(),b.find(".sale_price_dates_fields").show(),!1},cancelSchedule:function(){var b=a(this).closest("div, table");return a(this).hide(),b.find(".sale_schedule").show(),b.find(".sale_price_dates_fields").hide(),b.find(".sale_price_dates_fields").find("input").val(""),!1},dates:function(){var b=a(".sale_price_dates_fields input").datepicker({defaultDate:"",dateFormat:"yy-mm-dd",numberOfMonths:1,onSelect:function(c){var d=a(this).is("#_sale_price_dates_from, .sale_price_dates_from")?"minDate":"maxDate",e=a(this).data("datepicker"),f=a.datepicker.parseDate(e.settings.dateFormat||a.datepicker._defaults.dateFormat,c,e.settings);b.not(this).datepicker("option",d,f)}})},onVariantAdded:function(){g.variants.dates()}},gallery:{addImages:function(a){a.preventDefault();var c=e.val();return b?void b.open():(b=wp.media.frames.downloadable_file=wp.media({title:"Add Images to Product Gallery",button:{text:"Add to gallery"},multiple:!0}),b.on("select",function(){var a=b.state().get("selection");a.map(function(a){a=a.toJSON(),a.id&&(c=c?c+","+a.id:a.id,f.append('                                <li class="image" data-attachment_id="'+a.id+'">                                    <img src="'+a.url+'" />                                    <ul class="actions">                                        <li><a href="#" class="delete" title="Delete image">Delete</a></li>                                    </ul>                                </li>'))}),e.val(c)}),void b.open())},deleteImage:function(b){b.preventDefault(),a(this).closest("li.image").remove();var c="";return a("#product_images_container ul li.image").css("cursor","default").each(function(){var b=a(this).attr("data-attachment_id");c=c+b+","}),e.val(c),!1},sortable:function(){f.sortable({items:"li.image",cursor:"move",scrollSensitivity:40,forcePlaceholderSize:!0,forceHelperSize:!1,helper:"clone",opacity:.65,placeholder:"dokan-sortable-placeholder",start:function(a,b){b.item.css("background-color","#f6f6f6")},stop:function(a,b){b.item.removeAttr("style")},update:function(){var b="";a("#product_images_container ul li.image").css("cursor","default").each(function(){var a=jQuery(this).attr("data-attachment_id");b=b+a+","}),e.val(b)}})}},featuredImage:{addImage:function(b){b.preventDefault();var d=a(this);return c?void c.open():(c=wp.media({title:"Upload featured image",button:{text:"Set featured image"}}),c.on("select",function(){var a=c.state().get("selection");a.map(function(a){a=a.toJSON(),console.log(a,d),d.siblings("input.dokan-feat-image-id").val(a.id);var b=d.closest(".instruction-inside"),c=b.siblings(".image-wrap");c.find("img").attr("src",a.url),b.addClass("dokan-hide"),c.removeClass("dokan-hide")})}),void c.open())},removeImage:function(b){b.preventDefault();var c=a(this),d=c.closest(".image-wrap"),e=d.siblings(".instruction-inside");e.find("input.dokan-feat-image-id").val("0"),d.addClass("dokan-hide"),e.removeClass("dokan-hide")}},fileDownloadable:function(b){b.preventDefault();var c,d=a(this);return c?void c.open():(c=wp.media({title:"Choose a file",button:{text:"Insert file URL"},multiple:!0}),c.on("select",function(){var a=c.state().get("selection");a.map(function(a){a=a.toJSON(),d.closest("tr").find("input.wc_file_url").val(a.url)})}),c.on("ready",function(){c.uploader.options.uploader.params={type:"downloadable_product"}}),void c.open())},sidebarToggle:{showStatus:function(){var b=a(this).siblings(".dokan-toggle-select-container");return b.is(":hidden")&&(b.slideDown("fast"),a(this).hide()),!1},saveStatus:function(){var b=a(this).closest(".dokan-toggle-select-container");b.slideUp("fast"),b.siblings("a.dokan-toggle-edit").show();var c=a("option:selected",b.find("select.dokan-toggle-select")).text();return b.siblings(".dokan-toggle-selected-display").html(c),!1},cancel:function(){var b=a(this).closest(".dokan-toggle-select-container");return b.slideUp("fast"),b.siblings("a.dokan-toggle-edit").show(),!1}}};a(function(){g.init(),a("#_product_type").trigger("change")})}(jQuery),!function(a){var b,c,d=a("#variants-holder"),e=a("#product_image_gallery"),f=a("#product_images_container ul.product_images"),g={init:function(){product_type="simple",a(".product-edit-container").on("click","._discounted_price",this.showDiscount),a(".product-edit-container").on("click","a.sale-schedule",this.showDiscountSchedule),a(".product-edit-container").on("click","input[type=checkbox]#_downloadable",this.downloadable),a(".product-edit-container").on("change","#_product_type",this.onChangeProductType),a("#product-attributes").on("click",".add-variant-category",this.variants.addCategory),a("#variants-holder").on("click",".box-header .row-remove",this.variants.removeCategory),a("#variants-holder").on("click",".item-action a.row-add",this.variants.addItem),a("#variants-holder").on("click",".item-action a.row-remove",this.variants.removeItem),a("#variable_product_options").on("click",".sale_schedule",this.variants.saleSchedule),a("#variable_product_options").on("click",".cancel_sale_schedule",this.variants.cancelSchedule),a("#variable_product_options").on("woocommerce_variations_added",this.variants.onVariantAdded),this.variants.dates(),this.variants.initSaleSchedule(),a(".save_attributes").on("click",this.variants.save),a("#dokan-product-images").on("click","a.add-product-images",this.gallery.addImages),a("#dokan-product-images").on("click","a.delete",this.gallery.deleteImage),this.gallery.sortable(),a(".product-edit-container").on("click","a.dokan-feat-image-btn",this.featuredImage.addImage),a(".product-edit-container").on("click","a.dokan-remove-feat-image",this.featuredImage.removeImage),a(".product-edit-container").on("click","a.upload_file_button",this.fileDownloadable),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-edit",this.sidebarToggle.showStatus),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-save",this.sidebarToggle.saveStatus),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-cacnel",this.sidebarToggle.cancel),a(".product-edit-container").on("click","a.insert-file-row",function(){return a(this).closest("table").find("tbody").append(a(this).data("row")),!1}),a(".product-edit-container").on("click","a.delete",function(){return a(this).closest("tr").remove(),!1})},showDiscount:function(){var b=a(this),c=b.is(":checked"),d=a(".special-price-container");c?d.removeClass("dokan-hide"):d.addClass("dokan-hide")},showDiscountSchedule:function(b){b.preventDefault(),a(".sale-schedule-container").slideToggle("fast")},onChangeProductType:function(){var b=a("#_product_type").val();"simple"===b?(product_type="simple",a("aside.downloadable").removeClass("dokan-hide"),a(".show_if_variable").addClass("dokan-hide"),a(".show_if_simple").removeClass("dokan-hide")):(product_type="variable",a("aside.downloadable").addClass("dokan-hide"),a(".show_if_variable").removeClass("dokan-hide"),a(".show_if_simple").addClass("dokan-hide"))},downloadable:function(){a(this).prop("checked")?a(this).closest("aside").find(".dokan-side-body").removeClass("dokan-hide"):a(this).closest("aside").find(".dokan-side-body").addClass("dokan-hide")},variants:{addCategory:function(b){b.preventDefault();var c=a(".inputs-box").length,e=_.template(a("#tmpl-sc-category").html(),{row:c});d.append(e).children(":last").hide().fadeIn(),"simple"===product_type&&d.find(".show_if_variable").hide()},removeCategory:function(b){b.preventDefault(),confirm("Sure?")&&a(this).parents(".inputs-box").fadeOut(function(){a(this).remove()})},addItem:function(b){b.preventDefault();var c=a(this),d=c.closest(".inputs-box"),e=c.closest("ul.option-couplet"),f=e.find("li").length,g=d.data("count"),h=_.template(a("#tmpl-sc-category-item").html());c.closest("li").after(h({row:g,col:f}))},removeItem:function(b){b.preventDefault();var c=a(this).parents("ul").find("li");c.length>1&&a(this).parents("li").fadeOut(function(){a(this).remove()})},save:function(){var b={post_id:a(this).data("id"),data:a(".woocommerce_attributes").find("input, select, textarea").serialize(),action:"dokan_save_attributes"},c=window.location.toString();a("#variants-holder").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),a.post(ajaxurl,b,function(b){console.log(b),a("#variable_product_options").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),a("#variable_product_options").load(c+" #variable_product_options_inner",function(){a("#variable_product_options").unblock()}),a("input.variable_is_downloadable, input.variable_is_virtual").trigger("change"),a("#variants-holder").unblock()})},initSaleSchedule:function(){a(".sale_price_dates_fields").each(function(){var b=a(this),c=!1,d=b.closest("div, table");b.find("input").each(function(){""!=a(this).val()&&(c=!0)}),c?(d.find(".sale_schedule").hide(),d.find(".sale_price_dates_fields").show()):(d.find(".sale_schedule").show(),d.find(".sale_price_dates_fields").hide())})},saleSchedule:function(){var b=a(this).closest("div, table");return a(this).hide(),b.find(".cancel_sale_schedule").show(),b.find(".sale_price_dates_fields").show(),!1},cancelSchedule:function(){var b=a(this).closest("div, table");return a(this).hide(),b.find(".sale_schedule").show(),b.find(".sale_price_dates_fields").hide(),b.find(".sale_price_dates_fields").find("input").val(""),!1},dates:function(){var b=a(".sale_price_dates_fields input").datepicker({defaultDate:"",dateFormat:"yy-mm-dd",numberOfMonths:1,onSelect:function(c){var d=a(this).is("#_sale_price_dates_from, .sale_price_dates_from")?"minDate":"maxDate",e=a(this).data("datepicker"),f=a.datepicker.parseDate(e.settings.dateFormat||a.datepicker._defaults.dateFormat,c,e.settings);b.not(this).datepicker("option",d,f)}})},onVariantAdded:function(){g.variants.dates()}},gallery:{addImages:function(a){a.preventDefault();var c=e.val();return b?void b.open():(b=wp.media.frames.downloadable_file=wp.media({title:"Add Images to Product Gallery",button:{text:"Add to gallery"},multiple:!0}),b.on("select",function(){var a=b.state().get("selection");a.map(function(a){a=a.toJSON(),a.id&&(c=c?c+","+a.id:a.id,f.append('                                <li class="image" data-attachment_id="'+a.id+'">                                    <img src="'+a.url+'" />                                    <ul class="actions">                                        <li><a href="#" class="delete" title="Delete image">Delete</a></li>                                    </ul>                                </li>'))}),e.val(c)}),void b.open())},deleteImage:function(b){b.preventDefault(),a(this).closest("li.image").remove();var c="";return a("#product_images_container ul li.image").css("cursor","default").each(function(){var b=a(this).attr("data-attachment_id");c=c+b+","}),e.val(c),!1},sortable:function(){f.sortable({items:"li.image",cursor:"move",scrollSensitivity:40,forcePlaceholderSize:!0,forceHelperSize:!1,helper:"clone",opacity:.65,placeholder:"dokan-sortable-placeholder",start:function(a,b){b.item.css("background-color","#f6f6f6")},stop:function(a,b){b.item.removeAttr("style")},update:function(){var b="";a("#product_images_container ul li.image").css("cursor","default").each(function(){var a=jQuery(this).attr("data-attachment_id");b=b+a+","}),e.val(b)}})}},featuredImage:{addImage:function(b){b.preventDefault();var d=a(this);return c?void c.open():(c=wp.media({title:"Upload featured image",button:{text:"Set featured image"}}),c.on("select",function(){var a=c.state().get("selection");a.map(function(a){a=a.toJSON(),console.log(a,d),d.siblings("input.dokan-feat-image-id").val(a.id);var b=d.closest(".instruction-inside"),c=b.siblings(".image-wrap");c.find("img").attr("src",a.url),b.addClass("dokan-hide"),c.removeClass("dokan-hide")})}),void c.open())},removeImage:function(b){b.preventDefault();var c=a(this),d=c.closest(".image-wrap"),e=d.siblings(".instruction-inside");e.find("input.dokan-feat-image-id").val("0"),d.addClass("dokan-hide"),e.removeClass("dokan-hide")}},fileDownloadable:function(b){b.preventDefault();var c,d=a(this);return c?void c.open():(c=wp.media({title:"Choose a file",button:{text:"Insert file URL"},multiple:!0}),c.on("select",function(){var a=c.state().get("selection");a.map(function(a){a=a.toJSON(),d.closest("tr").find("input.wc_file_url").val(a.url)})}),c.on("ready",function(){c.uploader.options.uploader.params={type:"downloadable_product"}}),void c.open())},sidebarToggle:{showStatus:function(){var b=a(this).siblings(".dokan-toggle-select-container");return b.is(":hidden")&&(b.slideDown("fast"),a(this).hide()),!1},saveStatus:function(){var b=a(this).closest(".dokan-toggle-select-container");b.slideUp("fast"),b.siblings("a.dokan-toggle-edit").show();var c=a("option:selected",b.find("select.dokan-toggle-select")).text();return b.siblings(".dokan-toggle-selected-display").html(c),!1},cancel:function(){var b=a(this).closest(".dokan-toggle-select-container");return b.slideUp("fast"),b.siblings("a.dokan-toggle-edit").show(),!1}}};a(function(){g.init(),a("#_product_type").trigger("change")})}(jQuery),!function(a){var b,c,d=a("#variants-holder"),e=a("#product_image_gallery"),f=a("#product_images_container ul.product_images"),g={init:function(){product_type="simple",a(".product-edit-container").on("click","._discounted_price",this.showDiscount),a(".product-edit-container").on("click","a.sale-schedule",this.showDiscountSchedule),a(".product-edit-container").on("click","input[type=checkbox]#_downloadable",this.downloadable),a(".product-edit-container").on("change","#_product_type",this.onChangeProductType),a("#product-attributes").on("click",".add-variant-category",this.variants.addCategory),a("#variants-holder").on("click",".box-header .row-remove",this.variants.removeCategory),a("#variants-holder").on("click",".item-action a.row-add",this.variants.addItem),a("#variants-holder").on("click",".item-action a.row-remove",this.variants.removeItem),a("#variable_product_options").on("click",".sale_schedule",this.variants.saleSchedule),a("#variable_product_options").on("click",".cancel_sale_schedule",this.variants.cancelSchedule),a("#variable_product_options").on("woocommerce_variations_added",this.variants.onVariantAdded),this.variants.dates(),this.variants.initSaleSchedule(),a(".save_attributes").on("click",this.variants.save),a("#dokan-product-images").on("click","a.add-product-images",this.gallery.addImages),a("#dokan-product-images").on("click","a.delete",this.gallery.deleteImage),this.gallery.sortable(),a(".product-edit-container").on("click","a.dokan-feat-image-btn",this.featuredImage.addImage),a(".product-edit-container").on("click","a.dokan-remove-feat-image",this.featuredImage.removeImage),a(".product-edit-container").on("click","a.upload_file_button",this.fileDownloadable),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-edit",this.sidebarToggle.showStatus),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-save",this.sidebarToggle.saveStatus),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-cacnel",this.sidebarToggle.cancel),a(".product-edit-container").on("click","a.insert-file-row",function(){return a(this).closest("table").find("tbody").append(a(this).data("row")),!1}),a(".product-edit-container").on("click","a.delete",function(){return a(this).closest("tr").remove(),!1})},showDiscount:function(){var b=a(this),c=b.is(":checked"),d=a(".special-price-container");c?d.removeClass("dokan-hide"):d.addClass("dokan-hide")},showDiscountSchedule:function(b){b.preventDefault(),a(".sale-schedule-container").slideToggle("fast")},onChangeProductType:function(){var b=a("#_product_type").val();"simple"===b?(product_type="simple",a("aside.downloadable").removeClass("dokan-hide"),a(".show_if_variable").addClass("dokan-hide"),a(".show_if_simple").removeClass("dokan-hide")):(product_type="variable",a("aside.downloadable").addClass("dokan-hide"),a(".show_if_variable").removeClass("dokan-hide"),a(".show_if_simple").addClass("dokan-hide"))},downloadable:function(){a(this).prop("checked")?a(this).closest("aside").find(".dokan-side-body").removeClass("dokan-hide"):a(this).closest("aside").find(".dokan-side-body").addClass("dokan-hide")},variants:{addCategory:function(b){b.preventDefault();var c=a(".inputs-box").length,e=_.template(a("#tmpl-sc-category").html(),{row:c});d.append(e).children(":last").hide().fadeIn(),"simple"===product_type&&d.find(".show_if_variable").hide()},removeCategory:function(b){b.preventDefault(),confirm("Sure?")&&a(this).parents(".inputs-box").fadeOut(function(){a(this).remove()})},addItem:function(b){b.preventDefault();var c=a(this),d=c.closest(".inputs-box"),e=c.closest("ul.option-couplet"),f=e.find("li").length,g=d.data("count"),h=_.template(a("#tmpl-sc-category-item").html());c.closest("li").after(h({row:g,col:f}))},removeItem:function(b){b.preventDefault();var c=a(this).parents("ul").find("li");c.length>1&&a(this).parents("li").fadeOut(function(){a(this).remove()})},save:function(){var b={post_id:a(this).data("id"),data:a(".woocommerce_attributes").find("input, select, textarea").serialize(),action:"dokan_save_attributes"},c=window.location.toString();a("#variants-holder").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),a.post(ajaxurl,b,function(b){console.log(b),a("#variable_product_options").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),a("#variable_product_options").load(c+" #variable_product_options_inner",function(){a("#variable_product_options").unblock()}),a("input.variable_is_downloadable, input.variable_is_virtual").trigger("change"),a("#variants-holder").unblock()})},initSaleSchedule:function(){a(".sale_price_dates_fields").each(function(){var b=a(this),c=!1,d=b.closest("div, table");b.find("input").each(function(){""!=a(this).val()&&(c=!0)}),c?(d.find(".sale_schedule").hide(),d.find(".sale_price_dates_fields").show()):(d.find(".sale_schedule").show(),d.find(".sale_price_dates_fields").hide())})},saleSchedule:function(){var b=a(this).closest("div, table");return a(this).hide(),b.find(".cancel_sale_schedule").show(),b.find(".sale_price_dates_fields").show(),!1},cancelSchedule:function(){var b=a(this).closest("div, table");return a(this).hide(),b.find(".sale_schedule").show(),b.find(".sale_price_dates_fields").hide(),b.find(".sale_price_dates_fields").find("input").val(""),!1},dates:function(){var b=a(".sale_price_dates_fields input").datepicker({defaultDate:"",dateFormat:"yy-mm-dd",numberOfMonths:1,onSelect:function(c){var d=a(this).is("#_sale_price_dates_from, .sale_price_dates_from")?"minDate":"maxDate",e=a(this).data("datepicker"),f=a.datepicker.parseDate(e.settings.dateFormat||a.datepicker._defaults.dateFormat,c,e.settings);b.not(this).datepicker("option",d,f)}})},onVariantAdded:function(){g.variants.dates()}},gallery:{addImages:function(a){a.preventDefault();var c=e.val();return b?void b.open():(b=wp.media.frames.downloadable_file=wp.media({title:"Add Images to Product Gallery",button:{text:"Add to gallery"},multiple:!0}),b.on("select",function(){var a=b.state().get("selection");a.map(function(a){a=a.toJSON(),a.id&&(c=c?c+","+a.id:a.id,f.append('                                <li class="image" data-attachment_id="'+a.id+'">                                    <img src="'+a.url+'" />                                    <ul class="actions">                                        <li><a href="#" class="delete" title="Delete image">Delete</a></li>                                    </ul>                                </li>'))}),e.val(c)}),void b.open())},deleteImage:function(b){b.preventDefault(),a(this).closest("li.image").remove();var c="";return a("#product_images_container ul li.image").css("cursor","default").each(function(){var b=a(this).attr("data-attachment_id");c=c+b+","}),e.val(c),!1},sortable:function(){f.sortable({items:"li.image",cursor:"move",scrollSensitivity:40,forcePlaceholderSize:!0,forceHelperSize:!1,helper:"clone",opacity:.65,placeholder:"dokan-sortable-placeholder",start:function(a,b){b.item.css("background-color","#f6f6f6")},stop:function(a,b){b.item.removeAttr("style")},update:function(){var b="";a("#product_images_container ul li.image").css("cursor","default").each(function(){var a=jQuery(this).attr("data-attachment_id");b=b+a+","}),e.val(b)}})}},featuredImage:{addImage:function(b){b.preventDefault();var d=a(this);return c?void c.open():(c=wp.media({title:"Upload featured image",button:{text:"Set featured image"}}),c.on("select",function(){var a=c.state().get("selection");a.map(function(a){a=a.toJSON(),console.log(a,d),d.siblings("input.dokan-feat-image-id").val(a.id);var b=d.closest(".instruction-inside"),c=b.siblings(".image-wrap");c.find("img").attr("src",a.url),b.addClass("dokan-hide"),c.removeClass("dokan-hide")})}),void c.open())},removeImage:function(b){b.preventDefault();var c=a(this),d=c.closest(".image-wrap"),e=d.siblings(".instruction-inside");e.find("input.dokan-feat-image-id").val("0"),d.addClass("dokan-hide"),e.removeClass("dokan-hide")}},fileDownloadable:function(b){b.preventDefault();var c,d=a(this);return c?void c.open():(c=wp.media({title:"Choose a file",button:{text:"Insert file URL"},multiple:!0}),c.on("select",function(){var a=c.state().get("selection");a.map(function(a){a=a.toJSON(),d.closest("tr").find("input.wc_file_url").val(a.url)})}),c.on("ready",function(){c.uploader.options.uploader.params={type:"downloadable_product"}}),void c.open())},sidebarToggle:{showStatus:function(){var b=a(this).siblings(".dokan-toggle-select-container");return b.is(":hidden")&&(b.slideDown("fast"),a(this).hide()),!1},saveStatus:function(){var b=a(this).closest(".dokan-toggle-select-container");b.slideUp("fast"),b.siblings("a.dokan-toggle-edit").show();var c=a("option:selected",b.find("select.dokan-toggle-select")).text();return b.siblings(".dokan-toggle-selected-display").html(c),!1},cancel:function(){var b=a(this).closest(".dokan-toggle-select-container");return b.slideUp("fast"),b.siblings("a.dokan-toggle-edit").show(),!1}}};a(function(){g.init(),a("#_product_type").trigger("change")})}(jQuery),!function(a){var b,c,d=a("#variants-holder"),e=a("#product_image_gallery"),f=a("#product_images_container ul.product_images"),g={init:function(){product_type="simple",a(".product-edit-container").on("click","._discounted_price",this.showDiscount),a(".product-edit-container").on("click","a.sale-schedule",this.showDiscountSchedule),a(".product-edit-container").on("click","input[type=checkbox]#_downloadable",this.downloadable),a(".product-edit-container").on("change","#_product_type",this.onChangeProductType),a("#product-attributes").on("click",".add-variant-category",this.variants.addCategory),a("#variants-holder").on("click",".box-header .row-remove",this.variants.removeCategory),a("#variants-holder").on("click",".item-action a.row-add",this.variants.addItem),a("#variants-holder").on("click",".item-action a.row-remove",this.variants.removeItem),a("#variable_product_options").on("click",".sale_schedule",this.variants.saleSchedule),a("#variable_product_options").on("click",".cancel_sale_schedule",this.variants.cancelSchedule),a("#variable_product_options").on("woocommerce_variations_added",this.variants.onVariantAdded),this.variants.dates(),this.variants.initSaleSchedule(),a(".save_attributes").on("click",this.variants.save),a("#dokan-product-images").on("click","a.add-product-images",this.gallery.addImages),a("#dokan-product-images").on("click","a.delete",this.gallery.deleteImage),this.gallery.sortable(),a(".product-edit-container").on("click","a.dokan-feat-image-btn",this.featuredImage.addImage),a(".product-edit-container").on("click","a.dokan-remove-feat-image",this.featuredImage.removeImage),a(".product-edit-container").on("click","a.upload_file_button",this.fileDownloadable),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-edit",this.sidebarToggle.showStatus),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-save",this.sidebarToggle.saveStatus),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-cacnel",this.sidebarToggle.cancel),a(".product-edit-container").on("click","a.insert-file-row",function(){return a(this).closest("table").find("tbody").append(a(this).data("row")),!1}),a(".product-edit-container").on("click","a.delete",function(){return a(this).closest("tr").remove(),!1})},showDiscount:function(){var b=a(this),c=b.is(":checked"),d=a(".special-price-container");c?d.removeClass("dokan-hide"):d.addClass("dokan-hide")},showDiscountSchedule:function(b){b.preventDefault(),a(".sale-schedule-container").slideToggle("fast")},onChangeProductType:function(){var b=a("#_product_type").val();"simple"===b?(product_type="simple",a("aside.downloadable").removeClass("dokan-hide"),a(".show_if_variable").addClass("dokan-hide"),a(".show_if_simple").removeClass("dokan-hide")):(product_type="variable",a("aside.downloadable").addClass("dokan-hide"),a(".show_if_variable").removeClass("dokan-hide"),a(".show_if_simple").addClass("dokan-hide"))},downloadable:function(){a(this).prop("checked")?a(this).closest("aside").find(".dokan-side-body").removeClass("dokan-hide"):a(this).closest("aside").find(".dokan-side-body").addClass("dokan-hide")},variants:{addCategory:function(b){b.preventDefault();var c=a(".inputs-box").length,e=_.template(a("#tmpl-sc-category").html(),{row:c});d.append(e).children(":last").hide().fadeIn(),"simple"===product_type&&d.find(".show_if_variable").hide()},removeCategory:function(b){b.preventDefault(),confirm("Sure?")&&a(this).parents(".inputs-box").fadeOut(function(){a(this).remove()})},addItem:function(b){b.preventDefault();var c=a(this),d=c.closest(".inputs-box"),e=c.closest("ul.option-couplet"),f=e.find("li").length,g=d.data("count"),h=_.template(a("#tmpl-sc-category-item").html());c.closest("li").after(h({row:g,col:f}))},removeItem:function(b){b.preventDefault();var c=a(this).parents("ul").find("li");c.length>1&&a(this).parents("li").fadeOut(function(){a(this).remove()})},save:function(){var b={post_id:a(this).data("id"),data:a(".woocommerce_attributes").find("input, select, textarea").serialize(),action:"dokan_save_attributes"},c=window.location.toString();a("#variants-holder").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),a.post(ajaxurl,b,function(b){console.log(b),a("#variable_product_options").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),a("#variable_product_options").load(c+" #variable_product_options_inner",function(){a("#variable_product_options").unblock()}),a("input.variable_is_downloadable, input.variable_is_virtual").trigger("change"),a("#variants-holder").unblock()})},initSaleSchedule:function(){a(".sale_price_dates_fields").each(function(){var b=a(this),c=!1,d=b.closest("div, table");b.find("input").each(function(){""!=a(this).val()&&(c=!0)}),c?(d.find(".sale_schedule").hide(),d.find(".sale_price_dates_fields").show()):(d.find(".sale_schedule").show(),d.find(".sale_price_dates_fields").hide())})},saleSchedule:function(){var b=a(this).closest("div, table");return a(this).hide(),b.find(".cancel_sale_schedule").show(),b.find(".sale_price_dates_fields").show(),!1},cancelSchedule:function(){var b=a(this).closest("div, table");return a(this).hide(),b.find(".sale_schedule").show(),b.find(".sale_price_dates_fields").hide(),b.find(".sale_price_dates_fields").find("input").val(""),!1},dates:function(){var b=a(".sale_price_dates_fields input").datepicker({defaultDate:"",dateFormat:"yy-mm-dd",numberOfMonths:1,onSelect:function(c){var d=a(this).is("#_sale_price_dates_from, .sale_price_dates_from")?"minDate":"maxDate",e=a(this).data("datepicker"),f=a.datepicker.parseDate(e.settings.dateFormat||a.datepicker._defaults.dateFormat,c,e.settings);b.not(this).datepicker("option",d,f)}})},onVariantAdded:function(){g.variants.dates()}},gallery:{addImages:function(a){a.preventDefault();var c=e.val();return b?void b.open():(b=wp.media.frames.downloadable_file=wp.media({title:"Add Images to Product Gallery",button:{text:"Add to gallery"},multiple:!0}),b.on("select",function(){var a=b.state().get("selection");a.map(function(a){a=a.toJSON(),a.id&&(c=c?c+","+a.id:a.id,f.append('                                <li class="image" data-attachment_id="'+a.id+'">                                    <img src="'+a.url+'" />                                    <ul class="actions">                                        <li><a href="#" class="delete" title="Delete image">Delete</a></li>                                    </ul>                                </li>'))}),e.val(c)}),void b.open())},deleteImage:function(b){b.preventDefault(),a(this).closest("li.image").remove();var c="";return a("#product_images_container ul li.image").css("cursor","default").each(function(){var b=a(this).attr("data-attachment_id");c=c+b+","}),e.val(c),!1},sortable:function(){f.sortable({items:"li.image",cursor:"move",scrollSensitivity:40,forcePlaceholderSize:!0,forceHelperSize:!1,helper:"clone",opacity:.65,placeholder:"dokan-sortable-placeholder",start:function(a,b){b.item.css("background-color","#f6f6f6")},stop:function(a,b){b.item.removeAttr("style")},update:function(){var b="";a("#product_images_container ul li.image").css("cursor","default").each(function(){var a=jQuery(this).attr("data-attachment_id");b=b+a+","}),e.val(b)}})}},featuredImage:{addImage:function(b){b.preventDefault();var d=a(this);
return c?void c.open():(c=wp.media({title:"Upload featured image",button:{text:"Set featured image"}}),c.on("select",function(){var a=c.state().get("selection");a.map(function(a){a=a.toJSON(),console.log(a,d),d.siblings("input.dokan-feat-image-id").val(a.id);var b=d.closest(".instruction-inside"),c=b.siblings(".image-wrap");c.find("img").attr("src",a.url),b.addClass("dokan-hide"),c.removeClass("dokan-hide")})}),void c.open())},removeImage:function(b){b.preventDefault();var c=a(this),d=c.closest(".image-wrap"),e=d.siblings(".instruction-inside");e.find("input.dokan-feat-image-id").val("0"),d.addClass("dokan-hide"),e.removeClass("dokan-hide")}},fileDownloadable:function(b){b.preventDefault();var c,d=a(this);return c?void c.open():(c=wp.media({title:"Choose a file",button:{text:"Insert file URL"},multiple:!0}),c.on("select",function(){var a=c.state().get("selection");a.map(function(a){a=a.toJSON(),d.closest("tr").find("input.wc_file_url").val(a.url)})}),c.on("ready",function(){c.uploader.options.uploader.params={type:"downloadable_product"}}),void c.open())},sidebarToggle:{showStatus:function(){var b=a(this).siblings(".dokan-toggle-select-container");return b.is(":hidden")&&(b.slideDown("fast"),a(this).hide()),!1},saveStatus:function(){var b=a(this).closest(".dokan-toggle-select-container");b.slideUp("fast"),b.siblings("a.dokan-toggle-edit").show();var c=a("option:selected",b.find("select.dokan-toggle-select")).text();return b.siblings(".dokan-toggle-selected-display").html(c),!1},cancel:function(){var b=a(this).closest(".dokan-toggle-select-container");return b.slideUp("fast"),b.siblings("a.dokan-toggle-edit").show(),!1}}};a(function(){g.init(),a("#_product_type").trigger("change")})}(jQuery),!function(a){var b,c,d=a("#variants-holder"),e=a("#product_image_gallery"),f=a("#product_images_container ul.product_images"),g={init:function(){product_type="simple",a(".product-edit-container").on("click","._discounted_price",this.showDiscount),a(".product-edit-container").on("click","a.sale-schedule",this.showDiscountSchedule),a(".product-edit-container").on("click","input[type=checkbox]#_downloadable",this.downloadable),a(".product-edit-container").on("change","#_product_type",this.onChangeProductType),a("#product-attributes").on("click",".add-variant-category",this.variants.addCategory),a("#variants-holder").on("click",".box-header .row-remove",this.variants.removeCategory),a("#variants-holder").on("click",".item-action a.row-add",this.variants.addItem),a("#variants-holder").on("click",".item-action a.row-remove",this.variants.removeItem),a("#variable_product_options").on("click",".sale_schedule",this.variants.saleSchedule),a("#variable_product_options").on("click",".cancel_sale_schedule",this.variants.cancelSchedule),a("#variable_product_options").on("woocommerce_variations_added",this.variants.onVariantAdded),this.variants.dates(),this.variants.initSaleSchedule(),a(".save_attributes").on("click",this.variants.save),a("#dokan-product-images").on("click","a.add-product-images",this.gallery.addImages),a("#dokan-product-images").on("click","a.delete",this.gallery.deleteImage),this.gallery.sortable(),a(".product-edit-container").on("click","a.dokan-feat-image-btn",this.featuredImage.addImage),a(".product-edit-container").on("click","a.dokan-remove-feat-image",this.featuredImage.removeImage),a(".product-edit-container").on("click","a.upload_file_button",this.fileDownloadable),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-edit",this.sidebarToggle.showStatus),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-save",this.sidebarToggle.saveStatus),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-cacnel",this.sidebarToggle.cancel),a(".product-edit-container").on("click","a.insert-file-row",function(){return a(this).closest("table").find("tbody").append(a(this).data("row")),!1}),a(".product-edit-container").on("click","a.delete",function(){return a(this).closest("tr").remove(),!1})},showDiscount:function(){var b=a(this),c=b.is(":checked"),d=a(".special-price-container");c?d.removeClass("dokan-hide"):d.addClass("dokan-hide")},showDiscountSchedule:function(b){b.preventDefault(),a(".sale-schedule-container").slideToggle("fast")},onChangeProductType:function(){var b=a("#_product_type").val();"simple"===b?(product_type="simple",a("aside.downloadable").removeClass("dokan-hide"),a(".show_if_variable").addClass("dokan-hide"),a(".show_if_simple").removeClass("dokan-hide")):(product_type="variable",a("aside.downloadable").addClass("dokan-hide"),a(".show_if_variable").removeClass("dokan-hide"),a(".show_if_simple").addClass("dokan-hide"))},downloadable:function(){a(this).prop("checked")?a(this).closest("aside").find(".dokan-side-body").removeClass("dokan-hide"):a(this).closest("aside").find(".dokan-side-body").addClass("dokan-hide")},variants:{addCategory:function(b){b.preventDefault();var c=a(".inputs-box").length,e=_.template(a("#tmpl-sc-category").html(),{row:c});d.append(e).children(":last").hide().fadeIn(),"simple"===product_type&&d.find(".show_if_variable").hide()},removeCategory:function(b){b.preventDefault(),confirm("Sure?")&&a(this).parents(".inputs-box").fadeOut(function(){a(this).remove()})},addItem:function(b){b.preventDefault();var c=a(this),d=c.closest(".inputs-box"),e=c.closest("ul.option-couplet"),f=e.find("li").length,g=d.data("count"),h=_.template(a("#tmpl-sc-category-item").html());c.closest("li").after(h({row:g,col:f}))},removeItem:function(b){b.preventDefault();var c=a(this).parents("ul").find("li");c.length>1&&a(this).parents("li").fadeOut(function(){a(this).remove()})},save:function(){var b={post_id:a(this).data("id"),data:a(".woocommerce_attributes").find("input, select, textarea").serialize(),action:"dokan_save_attributes"},c=window.location.toString();a("#variants-holder").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),a.post(ajaxurl,b,function(b){console.log(b),a("#variable_product_options").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),a("#variable_product_options").load(c+" #variable_product_options_inner",function(){a("#variable_product_options").unblock()}),a("input.variable_is_downloadable, input.variable_is_virtual").trigger("change"),a("#variants-holder").unblock()})},initSaleSchedule:function(){a(".sale_price_dates_fields").each(function(){var b=a(this),c=!1,d=b.closest("div, table");b.find("input").each(function(){""!=a(this).val()&&(c=!0)}),c?(d.find(".sale_schedule").hide(),d.find(".sale_price_dates_fields").show()):(d.find(".sale_schedule").show(),d.find(".sale_price_dates_fields").hide())})},saleSchedule:function(){var b=a(this).closest("div, table");return a(this).hide(),b.find(".cancel_sale_schedule").show(),b.find(".sale_price_dates_fields").show(),!1},cancelSchedule:function(){var b=a(this).closest("div, table");return a(this).hide(),b.find(".sale_schedule").show(),b.find(".sale_price_dates_fields").hide(),b.find(".sale_price_dates_fields").find("input").val(""),!1},dates:function(){var b=a(".sale_price_dates_fields input").datepicker({defaultDate:"",dateFormat:"yy-mm-dd",numberOfMonths:1,onSelect:function(c){var d=a(this).is("#_sale_price_dates_from, .sale_price_dates_from")?"minDate":"maxDate",e=a(this).data("datepicker"),f=a.datepicker.parseDate(e.settings.dateFormat||a.datepicker._defaults.dateFormat,c,e.settings);b.not(this).datepicker("option",d,f)}})},onVariantAdded:function(){g.variants.dates()}},gallery:{addImages:function(a){a.preventDefault();var c=e.val();return b?void b.open():(b=wp.media.frames.downloadable_file=wp.media({title:"Add Images to Product Gallery",button:{text:"Add to gallery"},multiple:!0}),b.on("select",function(){var a=b.state().get("selection");a.map(function(a){a=a.toJSON(),a.id&&(c=c?c+","+a.id:a.id,f.append('                                <li class="image" data-attachment_id="'+a.id+'">                                    <img src="'+a.url+'" />                                    <ul class="actions">                                        <li><a href="#" class="delete" title="Delete image">Delete</a></li>                                    </ul>                                </li>'))}),e.val(c)}),void b.open())},deleteImage:function(b){b.preventDefault(),a(this).closest("li.image").remove();var c="";return a("#product_images_container ul li.image").css("cursor","default").each(function(){var b=a(this).attr("data-attachment_id");c=c+b+","}),e.val(c),!1},sortable:function(){f.sortable({items:"li.image",cursor:"move",scrollSensitivity:40,forcePlaceholderSize:!0,forceHelperSize:!1,helper:"clone",opacity:.65,placeholder:"dokan-sortable-placeholder",start:function(a,b){b.item.css("background-color","#f6f6f6")},stop:function(a,b){b.item.removeAttr("style")},update:function(){var b="";a("#product_images_container ul li.image").css("cursor","default").each(function(){var a=jQuery(this).attr("data-attachment_id");b=b+a+","}),e.val(b)}})}},featuredImage:{addImage:function(b){b.preventDefault();var d=a(this);return c?void c.open():(c=wp.media({title:"Upload featured image",button:{text:"Set featured image"}}),c.on("select",function(){var a=c.state().get("selection");a.map(function(a){a=a.toJSON(),console.log(a,d),d.siblings("input.dokan-feat-image-id").val(a.id);var b=d.closest(".instruction-inside"),c=b.siblings(".image-wrap");c.find("img").attr("src",a.url),b.addClass("dokan-hide"),c.removeClass("dokan-hide")})}),void c.open())},removeImage:function(b){b.preventDefault();var c=a(this),d=c.closest(".image-wrap"),e=d.siblings(".instruction-inside");e.find("input.dokan-feat-image-id").val("0"),d.addClass("dokan-hide"),e.removeClass("dokan-hide")}},fileDownloadable:function(b){b.preventDefault();var c,d=a(this);return c?void c.open():(c=wp.media({title:"Choose a file",button:{text:"Insert file URL"},multiple:!0}),c.on("select",function(){var a=c.state().get("selection");a.map(function(a){a=a.toJSON(),d.closest("tr").find("input.wc_file_url").val(a.url)})}),c.on("ready",function(){c.uploader.options.uploader.params={type:"downloadable_product"}}),void c.open())},sidebarToggle:{showStatus:function(){var b=a(this).siblings(".dokan-toggle-select-container");return b.is(":hidden")&&(b.slideDown("fast"),a(this).hide()),!1},saveStatus:function(){var b=a(this).closest(".dokan-toggle-select-container");b.slideUp("fast"),b.siblings("a.dokan-toggle-edit").show();var c=a("option:selected",b.find("select.dokan-toggle-select")).text();return b.siblings(".dokan-toggle-selected-display").html(c),!1},cancel:function(){var b=a(this).closest(".dokan-toggle-select-container");return b.slideUp("fast"),b.siblings("a.dokan-toggle-edit").show(),!1}}};a(function(){g.init(),a("#_product_type").trigger("change")})}(jQuery),!function(a){var b,c,d=a("#variants-holder"),e=a("#product_image_gallery"),f=a("#product_images_container ul.product_images"),g={init:function(){product_type="simple",a(".product-edit-container").on("click","._discounted_price",this.showDiscount),a(".product-edit-container").on("click","a.sale-schedule",this.showDiscountSchedule),a(".product-edit-container").on("click","input[type=checkbox]#_downloadable",this.downloadable),a(".product-edit-container").on("change","#_product_type",this.onChangeProductType),a("#product-attributes").on("click",".add-variant-category",this.variants.addCategory),a("#variants-holder").on("click",".box-header .row-remove",this.variants.removeCategory),a("#variants-holder").on("click",".item-action a.row-add",this.variants.addItem),a("#variants-holder").on("click",".item-action a.row-remove",this.variants.removeItem),a("#variable_product_options").on("click",".sale_schedule",this.variants.saleSchedule),a("#variable_product_options").on("click",".cancel_sale_schedule",this.variants.cancelSchedule),a("#variable_product_options").on("woocommerce_variations_added",this.variants.onVariantAdded),this.variants.dates(),this.variants.initSaleSchedule(),a(".save_attributes").on("click",this.variants.save),a("#dokan-product-images").on("click","a.add-product-images",this.gallery.addImages),a("#dokan-product-images").on("click","a.delete",this.gallery.deleteImage),this.gallery.sortable(),a(".product-edit-container").on("click","a.dokan-feat-image-btn",this.featuredImage.addImage),a(".product-edit-container").on("click","a.dokan-remove-feat-image",this.featuredImage.removeImage),a(".product-edit-container").on("click","a.upload_file_button",this.fileDownloadable),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-edit",this.sidebarToggle.showStatus),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-save",this.sidebarToggle.saveStatus),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-cacnel",this.sidebarToggle.cancel),a(".product-edit-container").on("click","a.insert-file-row",function(){return a(this).closest("table").find("tbody").append(a(this).data("row")),!1}),a(".product-edit-container").on("click","a.delete",function(){return a(this).closest("tr").remove(),!1})},showDiscount:function(){var b=a(this),c=b.is(":checked"),d=a(".special-price-container");c?d.removeClass("dokan-hide"):d.addClass("dokan-hide")},showDiscountSchedule:function(b){b.preventDefault(),a(".sale-schedule-container").slideToggle("fast")},onChangeProductType:function(){var b=a("#_product_type").val();"simple"===b?(product_type="simple",a("aside.downloadable").removeClass("dokan-hide"),a(".show_if_variable").addClass("dokan-hide"),a(".show_if_simple").removeClass("dokan-hide")):(product_type="variable",a("aside.downloadable").addClass("dokan-hide"),a(".show_if_variable").removeClass("dokan-hide"),a(".show_if_simple").addClass("dokan-hide"))},downloadable:function(){a(this).prop("checked")?a(this).closest("aside").find(".dokan-side-body").removeClass("dokan-hide"):a(this).closest("aside").find(".dokan-side-body").addClass("dokan-hide")},variants:{addCategory:function(b){b.preventDefault();var c=a(".inputs-box").length,e=_.template(a("#tmpl-sc-category").html(),{row:c});d.append(e).children(":last").hide().fadeIn(),"simple"===product_type&&d.find(".show_if_variable").hide()},removeCategory:function(b){b.preventDefault(),confirm("Sure?")&&a(this).parents(".inputs-box").fadeOut(function(){a(this).remove()})},addItem:function(b){b.preventDefault();var c=a(this),d=c.closest(".inputs-box"),e=c.closest("ul.option-couplet"),f=e.find("li").length,g=d.data("count"),h=_.template(a("#tmpl-sc-category-item").html());c.closest("li").after(h({row:g,col:f}))},removeItem:function(b){b.preventDefault();var c=a(this).parents("ul").find("li");c.length>1&&a(this).parents("li").fadeOut(function(){a(this).remove()})},save:function(){var b={post_id:a(this).data("id"),data:a(".woocommerce_attributes").find("input, select, textarea").serialize(),action:"dokan_save_attributes"},c=window.location.toString();a("#variants-holder").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),a.post(ajaxurl,b,function(b){console.log(b),a("#variable_product_options").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),a("#variable_product_options").load(c+" #variable_product_options_inner",function(){a("#variable_product_options").unblock()}),a("input.variable_is_downloadable, input.variable_is_virtual").trigger("change"),a("#variants-holder").unblock()})},initSaleSchedule:function(){a(".sale_price_dates_fields").each(function(){var b=a(this),c=!1,d=b.closest("div, table");b.find("input").each(function(){""!=a(this).val()&&(c=!0)}),c?(d.find(".sale_schedule").hide(),d.find(".sale_price_dates_fields").show()):(d.find(".sale_schedule").show(),d.find(".sale_price_dates_fields").hide())})},saleSchedule:function(){var b=a(this).closest("div, table");return a(this).hide(),b.find(".cancel_sale_schedule").show(),b.find(".sale_price_dates_fields").show(),!1},cancelSchedule:function(){var b=a(this).closest("div, table");return a(this).hide(),b.find(".sale_schedule").show(),b.find(".sale_price_dates_fields").hide(),b.find(".sale_price_dates_fields").find("input").val(""),!1},dates:function(){var b=a(".sale_price_dates_fields input").datepicker({defaultDate:"",dateFormat:"yy-mm-dd",numberOfMonths:1,onSelect:function(c){var d=a(this).is("#_sale_price_dates_from, .sale_price_dates_from")?"minDate":"maxDate",e=a(this).data("datepicker"),f=a.datepicker.parseDate(e.settings.dateFormat||a.datepicker._defaults.dateFormat,c,e.settings);b.not(this).datepicker("option",d,f)}})},onVariantAdded:function(){g.variants.dates()}},gallery:{addImages:function(a){a.preventDefault();var c=e.val();return b?void b.open():(b=wp.media.frames.downloadable_file=wp.media({title:"Add Images to Product Gallery",button:{text:"Add to gallery"},multiple:!0}),b.on("select",function(){var a=b.state().get("selection");a.map(function(a){a=a.toJSON(),a.id&&(c=c?c+","+a.id:a.id,f.append('                                <li class="image" data-attachment_id="'+a.id+'">                                    <img src="'+a.url+'" />                                    <ul class="actions">                                        <li><a href="#" class="delete" title="Delete image">Delete</a></li>                                    </ul>                                </li>'))}),e.val(c)}),void b.open())},deleteImage:function(b){b.preventDefault(),a(this).closest("li.image").remove();var c="";return a("#product_images_container ul li.image").css("cursor","default").each(function(){var b=a(this).attr("data-attachment_id");c=c+b+","}),e.val(c),!1},sortable:function(){f.sortable({items:"li.image",cursor:"move",scrollSensitivity:40,forcePlaceholderSize:!0,forceHelperSize:!1,helper:"clone",opacity:.65,placeholder:"dokan-sortable-placeholder",start:function(a,b){b.item.css("background-color","#f6f6f6")},stop:function(a,b){b.item.removeAttr("style")},update:function(){var b="";a("#product_images_container ul li.image").css("cursor","default").each(function(){var a=jQuery(this).attr("data-attachment_id");b=b+a+","}),e.val(b)}})}},featuredImage:{addImage:function(b){b.preventDefault();var d=a(this);return c?void c.open():(c=wp.media({title:"Upload featured image",button:{text:"Set featured image"}}),c.on("select",function(){var a=c.state().get("selection");a.map(function(a){a=a.toJSON(),console.log(a,d),d.siblings("input.dokan-feat-image-id").val(a.id);var b=d.closest(".instruction-inside"),c=b.siblings(".image-wrap");c.find("img").attr("src",a.url),b.addClass("dokan-hide"),c.removeClass("dokan-hide")})}),void c.open())},removeImage:function(b){b.preventDefault();var c=a(this),d=c.closest(".image-wrap"),e=d.siblings(".instruction-inside");e.find("input.dokan-feat-image-id").val("0"),d.addClass("dokan-hide"),e.removeClass("dokan-hide")}},fileDownloadable:function(b){b.preventDefault();var c,d=a(this);return c?void c.open():(c=wp.media({title:"Choose a file",button:{text:"Insert file URL"},multiple:!0}),c.on("select",function(){var a=c.state().get("selection");a.map(function(a){a=a.toJSON(),d.closest("tr").find("input.wc_file_url").val(a.url)})}),c.on("ready",function(){c.uploader.options.uploader.params={type:"downloadable_product"}}),void c.open())},sidebarToggle:{showStatus:function(){var b=a(this).siblings(".dokan-toggle-select-container");return b.is(":hidden")&&(b.slideDown("fast"),a(this).hide()),!1},saveStatus:function(){var b=a(this).closest(".dokan-toggle-select-container");b.slideUp("fast"),b.siblings("a.dokan-toggle-edit").show();var c=a("option:selected",b.find("select.dokan-toggle-select")).text();return b.siblings(".dokan-toggle-selected-display").html(c),!1},cancel:function(){var b=a(this).closest(".dokan-toggle-select-container");return b.slideUp("fast"),b.siblings("a.dokan-toggle-edit").show(),!1}}};a(function(){g.init(),a("#_product_type").trigger("change")})}(jQuery),!function(a){var b,c,d=a("#variants-holder"),e=a("#product_image_gallery"),f=a("#product_images_container ul.product_images"),g={init:function(){product_type="simple",a(".product-edit-container").on("click","._discounted_price",this.showDiscount),a(".product-edit-container").on("click","a.sale-schedule",this.showDiscountSchedule),a(".product-edit-container").on("click","input[type=checkbox]#_downloadable",this.downloadable),a(".product-edit-container").on("change","#_product_type",this.onChangeProductType),a("#product-attributes").on("click",".add-variant-category",this.variants.addCategory),a("#variants-holder").on("click",".box-header .row-remove",this.variants.removeCategory),a("#variants-holder").on("click",".item-action a.row-add",this.variants.addItem),a("#variants-holder").on("click",".item-action a.row-remove",this.variants.removeItem),a("#variable_product_options").on("click",".sale_schedule",this.variants.saleSchedule),a("#variable_product_options").on("click",".cancel_sale_schedule",this.variants.cancelSchedule),a("#variable_product_options").on("woocommerce_variations_added",this.variants.onVariantAdded),this.variants.dates(),this.variants.initSaleSchedule(),a(".save_attributes").on("click",this.variants.save),a("#dokan-product-images").on("click","a.add-product-images",this.gallery.addImages),a("#dokan-product-images").on("click","a.delete",this.gallery.deleteImage),this.gallery.sortable(),a(".product-edit-container").on("click","a.dokan-feat-image-btn",this.featuredImage.addImage),a(".product-edit-container").on("click","a.dokan-remove-feat-image",this.featuredImage.removeImage),a(".product-edit-container").on("click","a.upload_file_button",this.fileDownloadable),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-edit",this.sidebarToggle.showStatus),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-save",this.sidebarToggle.saveStatus),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-cacnel",this.sidebarToggle.cancel),a(".product-edit-container").on("click","a.insert-file-row",function(){return a(this).closest("table").find("tbody").append(a(this).data("row")),!1}),a(".product-edit-container").on("click","a.delete",function(){return a(this).closest("tr").remove(),!1})},showDiscount:function(){var b=a(this),c=b.is(":checked"),d=a(".special-price-container");c?d.removeClass("dokan-hide"):d.addClass("dokan-hide")},showDiscountSchedule:function(b){b.preventDefault(),a(".sale-schedule-container").slideToggle("fast")},onChangeProductType:function(){var b=a("#_product_type").val();"simple"===b?(product_type="simple",a("aside.downloadable").removeClass("dokan-hide"),a(".show_if_variable").addClass("dokan-hide"),a(".show_if_simple").removeClass("dokan-hide")):(product_type="variable",a("aside.downloadable").addClass("dokan-hide"),a(".show_if_variable").removeClass("dokan-hide"),a(".show_if_simple").addClass("dokan-hide"))},downloadable:function(){a(this).prop("checked")?a(this).closest("aside").find(".dokan-side-body").removeClass("dokan-hide"):a(this).closest("aside").find(".dokan-side-body").addClass("dokan-hide")},variants:{addCategory:function(b){b.preventDefault();var c=a(".inputs-box").length,e=_.template(a("#tmpl-sc-category").html(),{row:c});d.append(e).children(":last").hide().fadeIn(),"simple"===product_type&&d.find(".show_if_variable").hide()},removeCategory:function(b){b.preventDefault(),confirm("Sure?")&&a(this).parents(".inputs-box").fadeOut(function(){a(this).remove()})},addItem:function(b){b.preventDefault();var c=a(this),d=c.closest(".inputs-box"),e=c.closest("ul.option-couplet"),f=e.find("li").length,g=d.data("count"),h=_.template(a("#tmpl-sc-category-item").html());c.closest("li").after(h({row:g,col:f}))},removeItem:function(b){b.preventDefault();var c=a(this).parents("ul").find("li");c.length>1&&a(this).parents("li").fadeOut(function(){a(this).remove()})},save:function(){var b={post_id:a(this).data("id"),data:a(".woocommerce_attributes").find("input, select, textarea").serialize(),action:"dokan_save_attributes"},c=window.location.toString();a("#variants-holder").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),a.post(ajaxurl,b,function(b){console.log(b),a("#variable_product_options").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),a("#variable_product_options").load(c+" #variable_product_options_inner",function(){a("#variable_product_options").unblock()}),a("input.variable_is_downloadable, input.variable_is_virtual").trigger("change"),a("#variants-holder").unblock()})},initSaleSchedule:function(){a(".sale_price_dates_fields").each(function(){var b=a(this),c=!1,d=b.closest("div, table");b.find("input").each(function(){""!=a(this).val()&&(c=!0)}),c?(d.find(".sale_schedule").hide(),d.find(".sale_price_dates_fields").show()):(d.find(".sale_schedule").show(),d.find(".sale_price_dates_fields").hide())})},saleSchedule:function(){var b=a(this).closest("div, table");return a(this).hide(),b.find(".cancel_sale_schedule").show(),b.find(".sale_price_dates_fields").show(),!1},cancelSchedule:function(){var b=a(this).closest("div, table");return a(this).hide(),b.find(".sale_schedule").show(),b.find(".sale_price_dates_fields").hide(),b.find(".sale_price_dates_fields").find("input").val(""),!1},dates:function(){var b=a(".sale_price_dates_fields input").datepicker({defaultDate:"",dateFormat:"yy-mm-dd",numberOfMonths:1,onSelect:function(c){var d=a(this).is("#_sale_price_dates_from, .sale_price_dates_from")?"minDate":"maxDate",e=a(this).data("datepicker"),f=a.datepicker.parseDate(e.settings.dateFormat||a.datepicker._defaults.dateFormat,c,e.settings);b.not(this).datepicker("option",d,f)}})},onVariantAdded:function(){g.variants.dates()}},gallery:{addImages:function(a){a.preventDefault();var c=e.val();return b?void b.open():(b=wp.media.frames.downloadable_file=wp.media({title:"Add Images to Product Gallery",button:{text:"Add to gallery"},multiple:!0}),b.on("select",function(){var a=b.state().get("selection");a.map(function(a){a=a.toJSON(),a.id&&(c=c?c+","+a.id:a.id,f.append('                                <li class="image" data-attachment_id="'+a.id+'">                                    <img src="'+a.url+'" />                                    <ul class="actions">                                        <li><a href="#" class="delete" title="Delete image">Delete</a></li>                                    </ul>                                </li>'))}),e.val(c)}),void b.open())},deleteImage:function(b){b.preventDefault(),a(this).closest("li.image").remove();var c="";return a("#product_images_container ul li.image").css("cursor","default").each(function(){var b=a(this).attr("data-attachment_id");c=c+b+","}),e.val(c),!1},sortable:function(){f.sortable({items:"li.image",cursor:"move",scrollSensitivity:40,forcePlaceholderSize:!0,forceHelperSize:!1,helper:"clone",opacity:.65,placeholder:"dokan-sortable-placeholder",start:function(a,b){b.item.css("background-color","#f6f6f6")},stop:function(a,b){b.item.removeAttr("style")},update:function(){var b="";a("#product_images_container ul li.image").css("cursor","default").each(function(){var a=jQuery(this).attr("data-attachment_id");b=b+a+","}),e.val(b)}})}},featuredImage:{addImage:function(b){b.preventDefault();var d=a(this);return c?void c.open():(c=wp.media({title:"Upload featured image",button:{text:"Set featured image"}}),c.on("select",function(){var a=c.state().get("selection");a.map(function(a){a=a.toJSON(),console.log(a,d),d.siblings("input.dokan-feat-image-id").val(a.id);var b=d.closest(".instruction-inside"),c=b.siblings(".image-wrap");c.find("img").attr("src",a.url),b.addClass("dokan-hide"),c.removeClass("dokan-hide")})}),void c.open())},removeImage:function(b){b.preventDefault();var c=a(this),d=c.closest(".image-wrap"),e=d.siblings(".instruction-inside");e.find("input.dokan-feat-image-id").val("0"),d.addClass("dokan-hide"),e.removeClass("dokan-hide")}},fileDownloadable:function(b){b.preventDefault();var c,d=a(this);return c?void c.open():(c=wp.media({title:"Choose a file",button:{text:"Insert file URL"},multiple:!0}),c.on("select",function(){var a=c.state().get("selection");a.map(function(a){a=a.toJSON(),d.closest("tr").find("input.wc_file_url").val(a.url)})}),c.on("ready",function(){c.uploader.options.uploader.params={type:"downloadable_product"}}),void c.open())},sidebarToggle:{showStatus:function(){var b=a(this).siblings(".dokan-toggle-select-container");return b.is(":hidden")&&(b.slideDown("fast"),a(this).hide()),!1},saveStatus:function(){var b=a(this).closest(".dokan-toggle-select-container");b.slideUp("fast"),b.siblings("a.dokan-toggle-edit").show();var c=a("option:selected",b.find("select.dokan-toggle-select")).text();return b.siblings(".dokan-toggle-selected-display").html(c),!1},cancel:function(){var b=a(this).closest(".dokan-toggle-select-container");return b.slideUp("fast"),b.siblings("a.dokan-toggle-edit").show(),!1}}};a(function(){g.init(),a("#_product_type").trigger("change")})}(jQuery),!function(a){var b,c,d=a("#variants-holder"),e=a("#product_image_gallery"),f=a("#product_images_container ul.product_images"),g={init:function(){product_type="simple",a(".product-edit-container").on("click","._discounted_price",this.showDiscount),a(".product-edit-container").on("click","a.sale-schedule",this.showDiscountSchedule),a(".product-edit-container").on("click","input[type=checkbox]#_downloadable",this.downloadable),a(".product-edit-container").on("change","#_product_type",this.onChangeProductType),a("#product-attributes").on("click",".add-variant-category",this.variants.addCategory),a("#variants-holder").on("click",".box-header .row-remove",this.variants.removeCategory),a("#variants-holder").on("click",".item-action a.row-add",this.variants.addItem),a("#variants-holder").on("click",".item-action a.row-remove",this.variants.removeItem),a("#variable_product_options").on("click",".sale_schedule",this.variants.saleSchedule),a("#variable_product_options").on("click",".cancel_sale_schedule",this.variants.cancelSchedule),a("#variable_product_options").on("woocommerce_variations_added",this.variants.onVariantAdded),this.variants.dates(),this.variants.initSaleSchedule(),a(".save_attributes").on("click",this.variants.save),a("#dokan-product-images").on("click","a.add-product-images",this.gallery.addImages),a("#dokan-product-images").on("click","a.delete",this.gallery.deleteImage),this.gallery.sortable(),a(".product-edit-container").on("click","a.dokan-feat-image-btn",this.featuredImage.addImage),a(".product-edit-container").on("click","a.dokan-remove-feat-image",this.featuredImage.removeImage),a(".product-edit-container").on("click","a.upload_file_button",this.fileDownloadable),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-edit",this.sidebarToggle.showStatus),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-save",this.sidebarToggle.saveStatus),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-cacnel",this.sidebarToggle.cancel),a(".product-edit-container").on("click","a.insert-file-row",function(){return a(this).closest("table").find("tbody").append(a(this).data("row")),!1}),a(".product-edit-container").on("click","a.delete",function(){return a(this).closest("tr").remove(),!1})},showDiscount:function(){var b=a(this),c=b.is(":checked"),d=a(".special-price-container");c?d.removeClass("dokan-hide"):d.addClass("dokan-hide")},showDiscountSchedule:function(b){b.preventDefault(),a(".sale-schedule-container").slideToggle("fast")},onChangeProductType:function(){var b=a("#_product_type").val();"simple"===b?(product_type="simple",a("aside.downloadable").removeClass("dokan-hide"),a(".show_if_variable").addClass("dokan-hide"),a(".show_if_simple").removeClass("dokan-hide")):(product_type="variable",a("aside.downloadable").addClass("dokan-hide"),a(".show_if_variable").removeClass("dokan-hide"),a(".show_if_simple").addClass("dokan-hide"))},downloadable:function(){a(this).prop("checked")?a(this).closest("aside").find(".dokan-side-body").removeClass("dokan-hide"):a(this).closest("aside").find(".dokan-side-body").addClass("dokan-hide")},variants:{addCategory:function(b){b.preventDefault();var c=a(".inputs-box").length,e=_.template(a("#tmpl-sc-category").html(),{row:c});d.append(e).children(":last").hide().fadeIn(),"simple"===product_type&&d.find(".show_if_variable").hide()},removeCategory:function(b){b.preventDefault(),confirm("Sure?")&&a(this).parents(".inputs-box").fadeOut(function(){a(this).remove()
})},addItem:function(b){b.preventDefault();var c=a(this),d=c.closest(".inputs-box"),e=c.closest("ul.option-couplet"),f=e.find("li").length,g=d.data("count"),h=_.template(a("#tmpl-sc-category-item").html());c.closest("li").after(h({row:g,col:f}))},removeItem:function(b){b.preventDefault();var c=a(this).parents("ul").find("li");c.length>1&&a(this).parents("li").fadeOut(function(){a(this).remove()})},save:function(){var b={post_id:a(this).data("id"),data:a(".woocommerce_attributes").find("input, select, textarea").serialize(),action:"dokan_save_attributes"},c=window.location.toString();a("#variants-holder").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),a.post(ajaxurl,b,function(b){console.log(b),a("#variable_product_options").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),a("#variable_product_options").load(c+" #variable_product_options_inner",function(){a("#variable_product_options").unblock()}),a("input.variable_is_downloadable, input.variable_is_virtual").trigger("change"),a("#variants-holder").unblock()})},initSaleSchedule:function(){a(".sale_price_dates_fields").each(function(){var b=a(this),c=!1,d=b.closest("div, table");b.find("input").each(function(){""!=a(this).val()&&(c=!0)}),c?(d.find(".sale_schedule").hide(),d.find(".sale_price_dates_fields").show()):(d.find(".sale_schedule").show(),d.find(".sale_price_dates_fields").hide())})},saleSchedule:function(){var b=a(this).closest("div, table");return a(this).hide(),b.find(".cancel_sale_schedule").show(),b.find(".sale_price_dates_fields").show(),!1},cancelSchedule:function(){var b=a(this).closest("div, table");return a(this).hide(),b.find(".sale_schedule").show(),b.find(".sale_price_dates_fields").hide(),b.find(".sale_price_dates_fields").find("input").val(""),!1},dates:function(){var b=a(".sale_price_dates_fields input").datepicker({defaultDate:"",dateFormat:"yy-mm-dd",numberOfMonths:1,onSelect:function(c){var d=a(this).is("#_sale_price_dates_from, .sale_price_dates_from")?"minDate":"maxDate",e=a(this).data("datepicker"),f=a.datepicker.parseDate(e.settings.dateFormat||a.datepicker._defaults.dateFormat,c,e.settings);b.not(this).datepicker("option",d,f)}})},onVariantAdded:function(){g.variants.dates()}},gallery:{addImages:function(a){a.preventDefault();var c=e.val();return b?void b.open():(b=wp.media.frames.downloadable_file=wp.media({title:"Add Images to Product Gallery",button:{text:"Add to gallery"},multiple:!0}),b.on("select",function(){var a=b.state().get("selection");a.map(function(a){a=a.toJSON(),a.id&&(c=c?c+","+a.id:a.id,f.append('                                <li class="image" data-attachment_id="'+a.id+'">                                    <img src="'+a.url+'" />                                    <ul class="actions">                                        <li><a href="#" class="delete" title="Delete image">Delete</a></li>                                    </ul>                                </li>'))}),e.val(c)}),void b.open())},deleteImage:function(b){b.preventDefault(),a(this).closest("li.image").remove();var c="";return a("#product_images_container ul li.image").css("cursor","default").each(function(){var b=a(this).attr("data-attachment_id");c=c+b+","}),e.val(c),!1},sortable:function(){f.sortable({items:"li.image",cursor:"move",scrollSensitivity:40,forcePlaceholderSize:!0,forceHelperSize:!1,helper:"clone",opacity:.65,placeholder:"dokan-sortable-placeholder",start:function(a,b){b.item.css("background-color","#f6f6f6")},stop:function(a,b){b.item.removeAttr("style")},update:function(){var b="";a("#product_images_container ul li.image").css("cursor","default").each(function(){var a=jQuery(this).attr("data-attachment_id");b=b+a+","}),e.val(b)}})}},featuredImage:{addImage:function(b){b.preventDefault();var d=a(this);return c?void c.open():(c=wp.media({title:"Upload featured image",button:{text:"Set featured image"}}),c.on("select",function(){var a=c.state().get("selection");a.map(function(a){a=a.toJSON(),console.log(a,d),d.siblings("input.dokan-feat-image-id").val(a.id);var b=d.closest(".instruction-inside"),c=b.siblings(".image-wrap");c.find("img").attr("src",a.url),b.addClass("dokan-hide"),c.removeClass("dokan-hide")})}),void c.open())},removeImage:function(b){b.preventDefault();var c=a(this),d=c.closest(".image-wrap"),e=d.siblings(".instruction-inside");e.find("input.dokan-feat-image-id").val("0"),d.addClass("dokan-hide"),e.removeClass("dokan-hide")}},fileDownloadable:function(b){b.preventDefault();var c,d=a(this);return c?void c.open():(c=wp.media({title:"Choose a file",button:{text:"Insert file URL"},multiple:!0}),c.on("select",function(){var a=c.state().get("selection");a.map(function(a){a=a.toJSON(),d.closest("tr").find("input.wc_file_url").val(a.url)})}),c.on("ready",function(){c.uploader.options.uploader.params={type:"downloadable_product"}}),void c.open())},sidebarToggle:{showStatus:function(){var b=a(this).siblings(".dokan-toggle-select-container");return b.is(":hidden")&&(b.slideDown("fast"),a(this).hide()),!1},saveStatus:function(){var b=a(this).closest(".dokan-toggle-select-container");b.slideUp("fast"),b.siblings("a.dokan-toggle-edit").show();var c=a("option:selected",b.find("select.dokan-toggle-select")).text();return b.siblings(".dokan-toggle-selected-display").html(c),!1},cancel:function(){var b=a(this).closest(".dokan-toggle-select-container");return b.slideUp("fast"),b.siblings("a.dokan-toggle-edit").show(),!1}}};a(function(){g.init(),a("#_product_type").trigger("change")})}(jQuery),!function(a){var b,c,d=a("#variants-holder"),e=a("#product_image_gallery"),f=a("#product_images_container ul.product_images"),g={init:function(){product_type="simple",a(".product-edit-container").on("click","._discounted_price",this.showDiscount),a(".product-edit-container").on("click","a.sale-schedule",this.showDiscountSchedule),a(".product-edit-container").on("click","input[type=checkbox]#_downloadable",this.downloadable),a(".product-edit-container").on("change","#_product_type",this.onChangeProductType),a("#product-attributes").on("click",".add-variant-category",this.variants.addCategory),a("#variants-holder").on("click",".box-header .row-remove",this.variants.removeCategory),a("#variants-holder").on("click",".item-action a.row-add",this.variants.addItem),a("#variants-holder").on("click",".item-action a.row-remove",this.variants.removeItem),a("#variable_product_options").on("click",".sale_schedule",this.variants.saleSchedule),a("#variable_product_options").on("click",".cancel_sale_schedule",this.variants.cancelSchedule),a("#variable_product_options").on("woocommerce_variations_added",this.variants.onVariantAdded),this.variants.dates(),this.variants.initSaleSchedule(),a(".save_attributes").on("click",this.variants.save),a("#dokan-product-images").on("click","a.add-product-images",this.gallery.addImages),a("#dokan-product-images").on("click","a.delete",this.gallery.deleteImage),this.gallery.sortable(),a(".product-edit-container").on("click","a.dokan-feat-image-btn",this.featuredImage.addImage),a(".product-edit-container").on("click","a.dokan-remove-feat-image",this.featuredImage.removeImage),a(".product-edit-container").on("click","a.upload_file_button",this.fileDownloadable),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-edit",this.sidebarToggle.showStatus),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-save",this.sidebarToggle.saveStatus),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-cacnel",this.sidebarToggle.cancel),a(".product-edit-container").on("click","a.insert-file-row",function(){return a(this).closest("table").find("tbody").append(a(this).data("row")),!1}),a(".product-edit-container").on("click","a.delete",function(){return a(this).closest("tr").remove(),!1})},showDiscount:function(){var b=a(this),c=b.is(":checked"),d=a(".special-price-container");c?d.removeClass("dokan-hide"):d.addClass("dokan-hide")},showDiscountSchedule:function(b){b.preventDefault(),a(".sale-schedule-container").slideToggle("fast")},onChangeProductType:function(){var b=a("#_product_type").val();"simple"===b?(product_type="simple",a("aside.downloadable").removeClass("dokan-hide"),a(".show_if_variable").addClass("dokan-hide"),a(".show_if_simple").removeClass("dokan-hide")):(product_type="variable",a("aside.downloadable").addClass("dokan-hide"),a(".show_if_variable").removeClass("dokan-hide"),a(".show_if_simple").addClass("dokan-hide"))},downloadable:function(){a(this).prop("checked")?a(this).closest("aside").find(".dokan-side-body").removeClass("dokan-hide"):a(this).closest("aside").find(".dokan-side-body").addClass("dokan-hide")},variants:{addCategory:function(b){b.preventDefault();var c=a(".inputs-box").length,e=_.template(a("#tmpl-sc-category").html(),{row:c});d.append(e).children(":last").hide().fadeIn(),"simple"===product_type&&d.find(".show_if_variable").hide()},removeCategory:function(b){b.preventDefault(),confirm("Sure?")&&a(this).parents(".inputs-box").fadeOut(function(){a(this).remove()})},addItem:function(b){b.preventDefault();var c=a(this),d=c.closest(".inputs-box"),e=c.closest("ul.option-couplet"),f=e.find("li").length,g=d.data("count"),h=_.template(a("#tmpl-sc-category-item").html());c.closest("li").after(h({row:g,col:f}))},removeItem:function(b){b.preventDefault();var c=a(this).parents("ul").find("li");c.length>1&&a(this).parents("li").fadeOut(function(){a(this).remove()})},save:function(){var b={post_id:a(this).data("id"),data:a(".woocommerce_attributes").find("input, select, textarea").serialize(),action:"dokan_save_attributes"},c=window.location.toString();a("#variants-holder").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),a.post(ajaxurl,b,function(b){console.log(b),a("#variable_product_options").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),a("#variable_product_options").load(c+" #variable_product_options_inner",function(){a("#variable_product_options").unblock()}),a("input.variable_is_downloadable, input.variable_is_virtual").trigger("change"),a("#variants-holder").unblock()})},initSaleSchedule:function(){a(".sale_price_dates_fields").each(function(){var b=a(this),c=!1,d=b.closest("div, table");b.find("input").each(function(){""!=a(this).val()&&(c=!0)}),c?(d.find(".sale_schedule").hide(),d.find(".sale_price_dates_fields").show()):(d.find(".sale_schedule").show(),d.find(".sale_price_dates_fields").hide())})},saleSchedule:function(){var b=a(this).closest("div, table");return a(this).hide(),b.find(".cancel_sale_schedule").show(),b.find(".sale_price_dates_fields").show(),!1},cancelSchedule:function(){var b=a(this).closest("div, table");return a(this).hide(),b.find(".sale_schedule").show(),b.find(".sale_price_dates_fields").hide(),b.find(".sale_price_dates_fields").find("input").val(""),!1},dates:function(){var b=a(".sale_price_dates_fields input").datepicker({defaultDate:"",dateFormat:"yy-mm-dd",numberOfMonths:1,onSelect:function(c){var d=a(this).is("#_sale_price_dates_from, .sale_price_dates_from")?"minDate":"maxDate",e=a(this).data("datepicker"),f=a.datepicker.parseDate(e.settings.dateFormat||a.datepicker._defaults.dateFormat,c,e.settings);b.not(this).datepicker("option",d,f)}})},onVariantAdded:function(){g.variants.dates()}},gallery:{addImages:function(a){a.preventDefault();var c=e.val();return b?void b.open():(b=wp.media.frames.downloadable_file=wp.media({title:"Add Images to Product Gallery",button:{text:"Add to gallery"},multiple:!0}),b.on("select",function(){var a=b.state().get("selection");a.map(function(a){a=a.toJSON(),a.id&&(c=c?c+","+a.id:a.id,f.append('                                <li class="image" data-attachment_id="'+a.id+'">                                    <img src="'+a.url+'" />                                    <ul class="actions">                                        <li><a href="#" class="delete" title="Delete image">Delete</a></li>                                    </ul>                                </li>'))}),e.val(c)}),void b.open())},deleteImage:function(b){b.preventDefault(),a(this).closest("li.image").remove();var c="";return a("#product_images_container ul li.image").css("cursor","default").each(function(){var b=a(this).attr("data-attachment_id");c=c+b+","}),e.val(c),!1},sortable:function(){f.sortable({items:"li.image",cursor:"move",scrollSensitivity:40,forcePlaceholderSize:!0,forceHelperSize:!1,helper:"clone",opacity:.65,placeholder:"dokan-sortable-placeholder",start:function(a,b){b.item.css("background-color","#f6f6f6")},stop:function(a,b){b.item.removeAttr("style")},update:function(){var b="";a("#product_images_container ul li.image").css("cursor","default").each(function(){var a=jQuery(this).attr("data-attachment_id");b=b+a+","}),e.val(b)}})}},featuredImage:{addImage:function(b){b.preventDefault();var d=a(this);return c?void c.open():(c=wp.media({title:"Upload featured image",button:{text:"Set featured image"}}),c.on("select",function(){var a=c.state().get("selection");a.map(function(a){a=a.toJSON(),console.log(a,d),d.siblings("input.dokan-feat-image-id").val(a.id);var b=d.closest(".instruction-inside"),c=b.siblings(".image-wrap");c.find("img").attr("src",a.url),b.addClass("dokan-hide"),c.removeClass("dokan-hide")})}),void c.open())},removeImage:function(b){b.preventDefault();var c=a(this),d=c.closest(".image-wrap"),e=d.siblings(".instruction-inside");e.find("input.dokan-feat-image-id").val("0"),d.addClass("dokan-hide"),e.removeClass("dokan-hide")}},fileDownloadable:function(b){b.preventDefault();var c,d=a(this);return c?void c.open():(c=wp.media({title:"Choose a file",button:{text:"Insert file URL"},multiple:!0}),c.on("select",function(){var a=c.state().get("selection");a.map(function(a){a=a.toJSON(),d.closest("tr").find("input.wc_file_url").val(a.url)})}),c.on("ready",function(){c.uploader.options.uploader.params={type:"downloadable_product"}}),void c.open())},sidebarToggle:{showStatus:function(){var b=a(this).siblings(".dokan-toggle-select-container");return b.is(":hidden")&&(b.slideDown("fast"),a(this).hide()),!1},saveStatus:function(){var b=a(this).closest(".dokan-toggle-select-container");b.slideUp("fast"),b.siblings("a.dokan-toggle-edit").show();var c=a("option:selected",b.find("select.dokan-toggle-select")).text();return b.siblings(".dokan-toggle-selected-display").html(c),!1},cancel:function(){var b=a(this).closest(".dokan-toggle-select-container");return b.slideUp("fast"),b.siblings("a.dokan-toggle-edit").show(),!1}}};a(function(){g.init(),a("#_product_type").trigger("change")})}(jQuery),function(a){var b,c,d=a("#variants-holder"),e=a("#product_image_gallery"),f=a("#product_images_container ul.product_images"),g={init:function(){product_type="simple",a(".product-edit-container").on("click","._discounted_price",this.showDiscount),a(".product-edit-container").on("click","a.sale-schedule",this.showDiscountSchedule),a(".product-edit-container").on("click","input[type=checkbox]#_downloadable",this.downloadable),a(".product-edit-container").on("change","#_product_type",this.onChangeProductType),a("#product-attributes").on("click",".add-variant-category",this.variants.addCategory),a("#variants-holder").on("click",".box-header .row-remove",this.variants.removeCategory),a("#variants-holder").on("click",".item-action a.row-add",this.variants.addItem),a("#variants-holder").on("click",".item-action a.row-remove",this.variants.removeItem),a("#variable_product_options").on("click",".sale_schedule",this.variants.saleSchedule),a("#variable_product_options").on("click",".cancel_sale_schedule",this.variants.cancelSchedule),a("#variable_product_options").on("woocommerce_variations_added",this.variants.onVariantAdded),this.variants.dates(),this.variants.initSaleSchedule(),a(".save_attributes").on("click",this.variants.save),a("#dokan-product-images").on("click","a.add-product-images",this.gallery.addImages),a("#dokan-product-images").on("click","a.delete",this.gallery.deleteImage),this.gallery.sortable(),a(".product-edit-container").on("click","a.dokan-feat-image-btn",this.featuredImage.addImage),a(".product-edit-container").on("click","a.dokan-remove-feat-image",this.featuredImage.removeImage),a(".product-edit-container").on("click","a.upload_file_button",this.fileDownloadable),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-edit",this.sidebarToggle.showStatus),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-save",this.sidebarToggle.saveStatus),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-cacnel",this.sidebarToggle.cancel),a(".product-edit-container").on("click","a.insert-file-row",function(){return a(this).closest("table").find("tbody").append(a(this).data("row")),!1}),a(".product-edit-container").on("click","a.delete",function(){return a(this).closest("tr").remove(),!1})},showDiscount:function(){var b=a(this),c=b.is(":checked"),d=a(".special-price-container");c?d.removeClass("dokan-hide"):d.addClass("dokan-hide")},showDiscountSchedule:function(b){b.preventDefault(),a(".sale-schedule-container").slideToggle("fast")},onChangeProductType:function(){var b=a("#_product_type").val();"simple"===b?(product_type="simple",a("aside.downloadable").removeClass("dokan-hide"),a(".show_if_variable").addClass("dokan-hide"),a(".show_if_simple").removeClass("dokan-hide")):(product_type="variable",a("aside.downloadable").addClass("dokan-hide"),a(".show_if_variable").removeClass("dokan-hide"),a(".show_if_simple").addClass("dokan-hide"))},downloadable:function(){a(this).prop("checked")?a(this).closest("aside").find(".dokan-side-body").removeClass("dokan-hide"):a(this).closest("aside").find(".dokan-side-body").addClass("dokan-hide")},variants:{addCategory:function(b){b.preventDefault();var c=a(".inputs-box").length,e=_.template(a("#tmpl-sc-category").html(),{row:c});d.append(e).children(":last").hide().fadeIn(),"simple"===product_type&&d.find(".show_if_variable").hide()},removeCategory:function(b){b.preventDefault(),confirm("Sure?")&&a(this).parents(".inputs-box").fadeOut(function(){a(this).remove()})},addItem:function(b){b.preventDefault();var c=a(this),d=c.closest(".inputs-box"),e=c.closest("ul.option-couplet"),f=e.find("li").length,g=d.data("count"),h=_.template(a("#tmpl-sc-category-item").html());c.closest("li").after(h({row:g,col:f}))},removeItem:function(b){b.preventDefault();var c=a(this).parents("ul").find("li");c.length>1&&a(this).parents("li").fadeOut(function(){a(this).remove()})},save:function(){var b={post_id:a(this).data("id"),data:a(".woocommerce_attributes").find("input, select, textarea").serialize(),action:"dokan_save_attributes"},c=window.location.toString();a("#variants-holder").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),a.post(ajaxurl,b,function(b){console.log(b),a("#variable_product_options").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),a("#variable_product_options").load(c+" #variable_product_options_inner",function(){a("#variable_product_options").unblock()}),a("input.variable_is_downloadable, input.variable_is_virtual").trigger("change"),a("#variants-holder").unblock()})},initSaleSchedule:function(){a(".sale_price_dates_fields").each(function(){var b=a(this),c=!1,d=b.closest("div, table");b.find("input").each(function(){""!=a(this).val()&&(c=!0)}),c?(d.find(".sale_schedule").hide(),d.find(".sale_price_dates_fields").show()):(d.find(".sale_schedule").show(),d.find(".sale_price_dates_fields").hide())})},saleSchedule:function(){var b=a(this).closest("div, table");return a(this).hide(),b.find(".cancel_sale_schedule").show(),b.find(".sale_price_dates_fields").show(),!1},cancelSchedule:function(){var b=a(this).closest("div, table");return a(this).hide(),b.find(".sale_schedule").show(),b.find(".sale_price_dates_fields").hide(),b.find(".sale_price_dates_fields").find("input").val(""),!1},dates:function(){var b=a(".sale_price_dates_fields input").datepicker({defaultDate:"",dateFormat:"yy-mm-dd",numberOfMonths:1,onSelect:function(c){var d=a(this).is("#_sale_price_dates_from, .sale_price_dates_from")?"minDate":"maxDate",e=a(this).data("datepicker"),f=a.datepicker.parseDate(e.settings.dateFormat||a.datepicker._defaults.dateFormat,c,e.settings);b.not(this).datepicker("option",d,f)}})},onVariantAdded:function(){g.variants.dates()}},gallery:{addImages:function(a){a.preventDefault();var c=e.val();return b?void b.open():(b=wp.media.frames.downloadable_file=wp.media({title:"Add Images to Product Gallery",button:{text:"Add to gallery"},multiple:!0}),b.on("select",function(){var a=b.state().get("selection");a.map(function(a){a=a.toJSON(),a.id&&(c=c?c+","+a.id:a.id,f.append('                                <li class="image" data-attachment_id="'+a.id+'">                                    <img src="'+a.url+'" />                                    <ul class="actions">                                        <li><a href="#" class="delete" title="Delete image">Delete</a></li>                                    </ul>                                </li>'))}),e.val(c)}),void b.open())},deleteImage:function(b){b.preventDefault(),a(this).closest("li.image").remove();var c="";return a("#product_images_container ul li.image").css("cursor","default").each(function(){var b=a(this).attr("data-attachment_id");c=c+b+","}),e.val(c),!1},sortable:function(){f.sortable({items:"li.image",cursor:"move",scrollSensitivity:40,forcePlaceholderSize:!0,forceHelperSize:!1,helper:"clone",opacity:.65,placeholder:"dokan-sortable-placeholder",start:function(a,b){b.item.css("background-color","#f6f6f6")},stop:function(a,b){b.item.removeAttr("style")},update:function(){var b="";a("#product_images_container ul li.image").css("cursor","default").each(function(){var a=jQuery(this).attr("data-attachment_id");b=b+a+","}),e.val(b)}})}},featuredImage:{addImage:function(b){b.preventDefault();var d=a(this);return c?void c.open():(c=wp.media({title:"Upload featured image",button:{text:"Set featured image"}}),c.on("select",function(){var a=c.state().get("selection");a.map(function(a){a=a.toJSON(),console.log(a,d),d.siblings("input.dokan-feat-image-id").val(a.id);var b=d.closest(".instruction-inside"),c=b.siblings(".image-wrap");c.find("img").attr("src",a.url),b.addClass("dokan-hide"),c.removeClass("dokan-hide")})}),void c.open())},removeImage:function(b){b.preventDefault();var c=a(this),d=c.closest(".image-wrap"),e=d.siblings(".instruction-inside");e.find("input.dokan-feat-image-id").val("0"),d.addClass("dokan-hide"),e.removeClass("dokan-hide")}},fileDownloadable:function(b){b.preventDefault();var c,d=a(this);return c?void c.open():(c=wp.media({title:"Choose a file",button:{text:"Insert file URL"},multiple:!0}),c.on("select",function(){var a=c.state().get("selection");a.map(function(a){a=a.toJSON(),d.closest("tr").find("input.wc_file_url").val(a.url)})}),void c.open())},sidebarToggle:{showStatus:function(){var b=a(this).siblings(".dokan-toggle-select-container");return b.is(":hidden")&&(b.slideDown("fast"),a(this).hide()),!1},saveStatus:function(){var b=a(this).closest(".dokan-toggle-select-container");b.slideUp("fast"),b.siblings("a.dokan-toggle-edit").show();var c=a("option:selected",b.find("select.dokan-toggle-select")).text();return b.siblings(".dokan-toggle-selected-display").html(c),!1},cancel:function(){var b=a(this).closest(".dokan-toggle-select-container");return b.slideUp("fast"),b.siblings("a.dokan-toggle-edit").show(),!1}}};a(function(){g.init(),a("#_product_type").trigger("change")})}(jQuery);